/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/lightning-container/index.js":
/*!***************************************************!*\
  !*** ./node_modules/lightning-container/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*\nCopyright 2016 salesforce.com, inc. All rights reserved. \n\nUse of this software is subject to the salesforce.com Developerforce Terms of Use and other\napplicable terms that salesforce.com may make available, as may be amended from time to time.\nYou may not decompile, reverse engineer, disassemble, attempt to derive the source code of,\ndecrypt, modify, or create derivative works of this software, updates thereto, or any part\nthereof. You may not use the software to engage in any development activity that interferes\nwith, disrupts, damages, or accesses in an unauthorized manner the servers, networks, or\nother properties or services of salesforce.com or any third party.\n\nWITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT\nWARRANTY OF ANY KIND, EXPRESS OR IMPLIED. IN NO EVENT SHALL SALESFORCE.COM HAVE ANY LIABILITY\nFOR ANY DAMAGES, INCLUDING BUT NOT LIMITED TO, DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE,\nOR CONSEQUENTIAL DAMAGES, OR DAMAGES BASED ON LOST PROFITS, DATA OR USE, IN CONNECTION WITH THE\nSOFTWARE, HOWEVER CAUSED AND, WHETHER IN CONTRACT, TORT OR UNDER ANY OTHER THEORY OF LIABILITY,\nWHETHER OR NOT YOU HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\n*/\n\n\n\nmodule.exports.sendMessage = function(userMessage) {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        LCC.onlineSupport.sendMessage(\"containerUserMessage\", {payload: userMessage});\n    }\n    else {\n        // TODO: offline\n    }\n}\n\nmodule.exports.addErrorHandler = function(handler) {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        LCC.onlineSupport.addErrorHandler(handler);\n    }\n    else {\n        // TODO: offline\n    }\n}\n\nmodule.exports.removeErrorHandler = function(handler) {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        LCC.onlineSupport.removeErrorHandler(handler);\n    }\n    else {\n        // TODO: offline\n    }\n}\n\nmodule.exports.addMessageHandler = function(handler) {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        LCC.onlineSupport.addMessageHandler(handler);\n    }\n    else {\n        // TODO: offline\n    }\n}\n\nmodule.exports.removeMessageHandler = function(handler) {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        LCC.onlineSupport.removeMessageHandler(handler);\n    }\n    else {\n        // TODO: offline\n    }\n}\n\nmodule.exports.getRESTAPISessionKey = function() {\n    if (typeof LCC !== \"undefined\" && typeof LCC.onlineSupport !== \"undefined\") {\n        return LCC.onlineSupport.getRESTAPISessionKey();\n    }\n    else {\n        // TODO: offline\n        return \"\";\n    }\n}\n\nmodule.exports.callApex = function(fullyQualifiedApexMethodName,\n                                   apexMethodParameters,\n                                   callbackFunction,\n                                   apexCallConfiguration) {\n    if (typeof Visualforce !== \"undefined\" && \n        typeof Visualforce.remoting !== \"undefined\" &&\n        typeof Visualforce.remoting.Manager !== \"undefined\") {\n\n            Visualforce.remoting.Manager.invokeAction(fullyQualifiedApexMethodName,\n                                                      apexMethodParameters,\n                                                      callbackFunction,\n                                                      apexCallConfiguration);\n    }\n    else {\n        // TODO: offline\n    }\n}\n\n//# sourceURL=webpack:///./node_modules/lightning-container/index.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lightning_container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lightning-container */ \"./node_modules/lightning-container/index.js\");\n/* harmony import */ var lightning_container__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lightning_container__WEBPACK_IMPORTED_MODULE_0__);\n\r\nconsole.log('the index.js code is running 1!');\r\n\r\nwindow.addEventListener('load', (event) => {\r\n    console.log('page is fully loaded');\r\n    let customElementRegistry = window.customElements;\r\n    customElementRegistry.define(\"dshi-txl\", dshiTXL);\r\n    customElementRegistry.define(\"dshi-txc\", dshiTXC);\r\n});\r\n\r\n\r\n// Register for messages sent by hosting component\r\nlightning_container__WEBPACK_IMPORTED_MODULE_0___default.a.addMessageHandler(function(message) {\r\n    console.log('add msg handler');\r\n    document.getElementById('messageFromLC').value = message.value;\r\n    // {\"dob\":\"1950-03-08T05:00:00.000Z\",\"gender\":\"M\"}\r\n    let startObject = new Object();\r\n    let dob = '3/8/1950';\r\n    let dobDate = new Date(dob);\r\n    startObject['dob'] = dobDate;\r\n    startObject['gender'] = 'M';\r\n\r\n    // let startObject = JSON.parse(message.value);\r\n    let x = document.getElementById(\"txc\");\r\n    console.log('x: '+x);\r\n    console.log('startObject: '+JSON.stringify(startObject));\r\n    x.start(startObject);\r\n});\r\n\r\nfunction send() {\r\n    console.log('send function');\r\n    var msg = document.getElementById('messageToLC').value;\r\n    // Send message to hosting component\r\n    lightning_container__WEBPACK_IMPORTED_MODULE_0___default.a.sendMessage(msg);\r\n}\r\n\r\ndocument.getElementById(\"sendBtn\").addEventListener(\"click\", send);\r\n\r\ndocument.getElementById(\"txc\").addEventListener(\"complete\", function(event) {\r\n    let dispositionObject = JSON.stringify(event.detail);\r\n    lightning_container__WEBPACK_IMPORTED_MODULE_0___default.a.sendMessage(dispositionObject);\r\n});\r\n\r\ndocument.getElementById('txc').addEventListener(\"abort\", function (event) {console.log('it has been aborted')});\r\n\r\ndocument.getElementById('txc').addEventListener(\"error\", function(event) {\r\n    var errorMsg = event.detail;\r\n    console.log('there has been an error: '+errorMsg);\r\n});\r\n\r\nclass dshiTXC extends HTMLElement {\r\n\tconstructor() {\r\n\t\tvar dobMin, dobMax, lnmpMin, lnmpMax;\r\n\r\n\t\tsuper();\r\n\t\tif (typeof String.prototype.startsWith != 'function') {\r\n\t\t\tString.prototype.startsWith = function(str) {\r\n\t\t\t\treturn this.slice(0, str.length).toLowerCase() == str.toLowerCase();\r\n\t\t\t};\r\n\t\t}\r\n\t\tlet shadowDom = this.attachShadow({\r\n\t\t\tmode: 'open'\r\n\t\t});\r\n\t\tlet template = document.createElement('template');\r\n\t\ttemplate.innerHTML = this.controlTemplate();\r\n\t\tlet templateHTML = template.content;\r\n\t\tshadowDom.appendChild(templateHTML);\r\n\t\tsetTimeout(this.setupWidget.bind(this), 0);\r\n\t\tthis.requiredProperties = ['dob', 'g'];\r\n\t\tthis.requiredPropertiesInstructions = ['dob', 'g'];\r\n\t\tthis.valuesAndMeasuresToNote = ['height', 'weight', 'systolicBloodPressure', 'diastolicBloodPressure', 'temperature', 'serumGlucose', 'pefrBaseline', 'pefrCurrent', 'lnmp', 'respiratoryRate', 'pulse', 'gestationalAge', 'bmi', 'peakFlowPctBest', 'painscale', 'durationOfComplaint_rem', 'o2', 'meanArterialPressure', 'pulsePressure', 'modifiedShockIndex'];\r\n\t\tthis.valuesAndMeasuresToNoteSupplmental = {\r\n\t\t\t'modifiedShockIndex': '(> 0.93 associated with greater risk in setting of shock or STEMI)'\r\n\t\t};\r\n\t\tthis.valuesAndMeasuresToShow = ['height', 'weight', 'systolicbloodpressure', 'diastolicbloodpressure', 'temperature', 'serumglucose', 'pefrbaseline', 'pefrcurrent', 'lnmp', 'respiratoryrate', 'pulse', 'gestationalage', 'bmi', 'peakflowpctbest', 'painscale', 'durationofcomplaint', 'Ox', 'meanarterialpressure', 'pulsepressure', 'modifiedshockindex'];\r\n\t\tthis.valuesAndMeasuresTitles = ['Height', 'Weight', 'SBP', 'DBP', 'Temperature', 'Serum glucose', 'PEFR Best', 'PEFR Current', 'LNMP', 'Respiratory Rate', 'Pulse', 'Gestational age', 'BMI', 'PEFR Percent Best', 'Painscale', 'Duration of CC', 'O2 Sat', 'MAP', 'PP', 'MSI'];\r\n\t\tthis.valuesAndMeasuresTitlesNote = ['Height', 'Weight', 'SBP', 'DBP', 'Temperature', 'Serum glucose', 'PEFR Best', 'PEFR Current', 'LNMP', 'Respiratory Rate', 'Pulse', 'Gestational age', 'BMI', 'PEFR Percent Best', 'Painscale', 'Duration of CC', 'O2 Sat', 'Mean Arterial Pressure', 'Pulse Pressure', 'Modified Shock Index'];\r\n\t\tthis.valuesAndMeasuresUnits = {\r\n\t\t\t'Ox': '%',\r\n\t\t\t'diseaseControlScore': '%',\r\n\t\t\t'patientEffortScore': '%',\r\n\t\t};\r\n\t\tthis.valuesAndMeasuresToNoteCM = ['diseaseControlScore', 'patientEffortScore', 'symptomControl', 'height', 'weight', 'systolicBloodPressure', 'diastolicBloodPressure', 'temperature', 'serumGlucose', 'pefrBaseline', 'pefrCurrent', 'lnmp', 'respiratoryRate', 'pulse', 'gestationalAge', 'bmi', 'peakFlowPctBest', 'painscale', 'durationofcomplaint', 'o2', 'meanArterialPressure', 'pulsePressure', 'modifiedShockIndex'];\r\n\t\tthis.valuesAndMeasuresTitlesNoteCM = ['Disease Control Score', 'Patient Effort Score', 'Symptom Control Score', 'Height', 'Weight', 'SBP', 'DBP', 'Temperature', 'Serum glucose', 'PEFR Best', 'PEFR Current', 'LNMP', 'Respiratory Rate', 'Pulse', 'Gestational age', 'BMI', 'PEFR Percent Best', 'Painscale', 'Duration of CC', 'O2 Sat', 'Mean Arterial Pressure', 'Pulse Pressure', 'Modified Shock Index'];\r\n\t\tthis.demographicsToShow = ['cc', 'gender', 'age', 'dob'];\r\n\t\tthis.demographicsTitles = ['CC', 'Gender', 'Age', 'Born'];\r\n\t\tthis.skipProperties = ['value', 'units', 'type'];\r\n\t\tdobMin = new Date();\r\n\t\tdobMax = new Date(dobMin);\r\n\t\tdobMin.setFullYear(dobMin.getFullYear() - 120);\r\n\t\tdobMax.setFullYear(dobMax.getFullYear() - 16);\r\n\t\tlnmpMin = new Date();\r\n\t\tlnmpMax = new Date(lnmpMin);\r\n\t\tlnmpMin.setFullYear(lnmpMin.getFullYear() - 1);\r\n\t\tthis.startProperties = {\r\n\t\t\t\"gender\": {\r\n\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\"name\": \"g\",\r\n\t\t\t\t\"values\": [\"M\", \"F\"]\r\n\t\t\t},\r\n\t\t\t\"dob\": {\r\n\t\t\t\t\"type\": \"date\",\r\n\t\t\t\t\"name\": \"dob\",\r\n\t\t\t\t\"min\": dobMin,\r\n\t\t\t\t\"max\": dobMax\r\n\t\t\t},\r\n\t\t\t\"cc\": {\r\n\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\"name\": \"c\"\r\n\t\t\t},\r\n\t\t\t\"height\": {\r\n\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\"name\": \"h\",\r\n\t\t\t\t\"min\": \"4'0\\\"\",\r\n\t\t\t\t\"max\": \"7'4\\\"\",\r\n\t\t\t\t\"units\": \"Feet/Inches\"\r\n\t\t\t},\r\n\t\t\t\"weight\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"w\",\r\n\t\t\t\t\"min\": 60,\r\n\t\t\t\t\"max\": 600,\r\n\t\t\t\t\"units\": \"Lbs\"\r\n\t\t\t},\r\n\t\t\t\"systolicBloodPressure\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"s\",\r\n\t\t\t\t\"min\": 70,\r\n\t\t\t\t\"max\": 250\r\n\t\t\t},\r\n\t\t\t\"diastolicBloodPressure\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"d\",\r\n\t\t\t\t\"min\": 50,\r\n\t\t\t\t\"max\": 140\r\n\t\t\t},\r\n\t\t\t\"temperature\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"t\",\r\n\t\t\t\t\"min\": 95.0,\r\n\t\t\t\t\"max\": 105.7,\r\n\t\t\t\t\"units\": \"F\"\r\n\t\t\t},\r\n\t\t\t\"serumGlucose\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"gl\",\r\n\t\t\t\t\"min\": 20,\r\n\t\t\t\t\"max\": 600\r\n\t\t\t},\r\n\t\t\t\"pefrBaseline\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"min\": 50,\r\n\t\t\t\t\"max\": 600\r\n\t\t\t},\r\n\t\t\t\"pefrCurrent\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"min\": 50,\r\n\t\t\t\t\"max\": 600\r\n\t\t\t},\r\n\t\t\t\"lnmp\": {\r\n\t\t\t\t\"type\": \"date\",\r\n\t\t\t\t\"name\": \"ln\",\r\n\t\t\t\t\"min\": lnmpMin,\r\n\t\t\t\t\"max\": lnmpMax\r\n\t\t\t},\r\n\t\t\t\"respiratoryRate\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"r\",\r\n\t\t\t\t\"min\": 10,\r\n\t\t\t\t\"max\": 80\r\n\t\t\t},\r\n\t\t\t\"o2\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"o\",\r\n\t\t\t\t\"min\": 70,\r\n\t\t\t\t\"max\": 100\r\n\t\t\t},\r\n\t\t\t\"pulse\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"p\",\r\n\t\t\t\t\"min\": 40,\r\n\t\t\t\t\"max\": 220\r\n\t\t\t},\r\n\t\t\t\"durationofchiefcomplaint\": {\r\n\t\t\t\t\"type\": \"number\",\r\n\t\t\t\t\"name\": \"103\",\r\n\t\t\t\t\"min\": 1,\r\n\t\t\t\t\"max\": 100\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tstart(startData) {\r\n\t\treturn this.doStart.bind(this)(startData);\r\n\t}\r\n\tabort() {\r\n\t\treturn this.doAbort();\r\n\t}\r\n\tparseValue(value, unitsArray, defaultUnits) {\r\n\t\tvar results;\r\n\t\tvar firstChar = value.charAt(0);\r\n\t\tvar regexGroups = value.match(/(\\d*\\.?\\d+)\\s+(.*)/);\r\n\t\tif (firstChar >= '0' && firstChar <= '9') {\r\n\t\t\tif (regexGroups.length < 1) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (regexGroups.length > 2) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (!regexGroups[1] && defaultUnits) {\r\n\t\t\t\tresults = {};\r\n\t\t\t\tresults.value = regexGroups[0];\r\n\t\t\t\tresults.units = defaultUnits;\r\n\t\t\t\treturn results;\r\n\t\t\t} else {\r\n\t\t\t\tif (!unitsArray.contains(regexGroups[1])) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults = {};\r\n\t\t\tresults.value = regexGroups[0];\r\n\t\t\tresults.units = regexGroups[1];\r\n\t\t}\r\n\t}\r\n\tdoAbort(event) {\r\n\t\tvar e;\r\n\t\tevent.cancelBubble = true;\r\n\t\tvar cAbort = confirm(\"Pressing OK will abort (cancel) the session; any collected information or results will be lost.\\n\\n Do you wish to abort?\");\r\n\t\tif (cAbort) {\r\n\t\t\tthis.doResetComponent();\r\n\t\t\te = new CustomEvent('abort', {\r\n\t\t\t\tdetail: 'Aborted'\r\n\t\t\t});\r\n\t\t\tthis.dispatchEvent(e);\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tevent.preventDefault();\r\n\t}\r\n\tinstructions(values) {\r\n\t\tvar val, sI, e, i, propertyName;\r\n\t\tvar startObject = {};\r\n\t\tthis.ec.doneInstructionsLink.style.display = 'inline';\r\n\t\tfor (propertyName in values) {\r\n\t\t\tif (values.hasOwnProperty(propertyName) && this.startProperties.hasOwnProperty(propertyName)) {\r\n\t\t\t\tval = values[propertyName];\r\n\t\t\t\tsI = this.startProperties[propertyName];\r\n\t\t\t\tif (sI.type === 'number') {\r\n\t\t\t\t\tif (typeof val != sI.type) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sI.min && sI.max) {\r\n\t\t\t\t\t\tif ((val < sI.min) || (val > sI.max)) {\r\n\t\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\t\tdetail: propertyName + ' must be from ' + sI.min + ' to ' + sI.max + ': ' + val\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (sI.type == 'string') {\r\n\t\t\t\t\tif (typeof val != sI.type) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((sI.values) && (sI.values.indexOf(val) < 0)) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: propertyName + ' value is invalid should be one of [' + sI.values.join(',') + ']: ' + val\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (sI.type == 'date') {\r\n\t\t\t\t\tif (typeof val.getMonth != 'function') {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sI.min && sI.max) {\r\n\t\t\t\t\t\tif ((val < sI.min) || (val > sI.max)) {\r\n\t\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\t\tdetail: propertyName + ' must be from ' + sI.min + ' to ' + sI.max + ': ' + val\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sI.units) {\r\n\t\t\t\t\tstartObject[sI.name] = val + ' ' + sI.units;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartObject[sI.name] = val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 0; i < this.requiredPropertiesInstructions.length; i++) {\r\n\t\t\tpropertyName = this.requiredPropertiesInstructions[i];\r\n\t\t\tif (!startObject[propertyName]) {\r\n\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\tdetail: 'Missing required instruction property: ' + propertyName\r\n\t\t\t\t});\r\n\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (startObject.hasOwnProperty('ln') && (startObject.g != 'F')) {\r\n\t\t\te = new CustomEvent('error', {\r\n\t\t\t\tdetail: 'LNMP is only valid for Females'\r\n\t\t\t});\r\n\t\t\tthis.dispatchEvent(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.values = startObject;\r\n\t\tthis.dob = this.values.dob;\r\n\t\tthis.gender = this.values.g;\r\n\t\tthis.age = this.calculateAgeYM(this.dob);\r\n\t\tthis.ageRange = this.getAgeRange(this.age);\r\n\t\tthis.startTime = new Date();\r\n\t\tthis.ec.qAndA.disabled = true;\r\n\t\tthis.ec.qAndA.style.opacity = 0.25;\r\n\t\tthis.ec.library.disabled = false;\r\n\t\tthis.ec.library.style.opacity = 1.0;\r\n\t\tthis.ec.results.disabled = true;\r\n\t\tthis.ec.results.style.opacity = 0.25;\r\n\t\tthis.openTab.bind(this)(null, 'instructions');\r\n\t}\r\n\tdoStart(values) {\r\n\t\tvar val, sI, e, i, propertyName;\r\n\t\tvar startObject = {};\r\n\t\tthis.ec.doneInstructionsLink.style.display = 'none';\r\n\t\tfor (propertyName in values) {\r\n\t\t\tif (values.hasOwnProperty(propertyName) && this.startProperties.hasOwnProperty(propertyName)) {\r\n\t\t\t\tval = values[propertyName];\r\n\t\t\t\tsI = this.startProperties[propertyName];\r\n\t\t\t\tif (sI.type === 'number') {\r\n\t\t\t\t\tif (typeof val != sI.type) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sI.min && sI.max) {\r\n\t\t\t\t\t\tif ((val < sI.min) || (val > sI.max)) {\r\n\t\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\t\tdetail: propertyName + ' must be from ' + sI.min + ' to ' + sI.max + ': ' + val\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (sI.type == 'string') {\r\n\t\t\t\t\tif (typeof val != sI.type) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((sI.values) && (sI.values.indexOf(val) < 0)) {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: propertyName + ' value is invalid should be one of [' + sI.values.join(',') + ']: ' + val\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (sI.type == 'date') {\r\n\t\t\t\t\tif (typeof val.getMonth != 'function') {\r\n\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\tdetail: 'Expected ' + sI.type + ' found ' + (typeof val) + ': ' + propertyName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sI.min && sI.max) {\r\n\t\t\t\t\t\tif ((val < sI.min) || (val > sI.max)) {\r\n\t\t\t\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\t\t\t\tdetail: propertyName + ' must be from ' + sI.min + ' to ' + sI.max + ': ' + val\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sI.units) {\r\n\t\t\t\t\tstartObject[sI.name] = val + ' ' + sI.units;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartObject[sI.name] = val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 0; i < this.requiredProperties.length; i++) {\r\n\t\t\tpropertyName = this.requiredProperties[i];\r\n\t\t\tif (!startObject[propertyName]) {\r\n\t\t\t\te = new CustomEvent('error', {\r\n\t\t\t\t\tdetail: 'Missing required start property: ' + propertyName\r\n\t\t\t\t});\r\n\t\t\t\tthis.dispatchEvent(e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (startObject.hasOwnProperty('ln') && (startObject.g != 'F')) {\r\n\t\t\te = new CustomEvent('error', {\r\n\t\t\t\tdetail: 'LNMP is only valid for Females'\r\n\t\t\t});\r\n\t\t\tthis.dispatchEvent(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.values = startObject;\r\n\t\tthis.dob = this.values.dob;\r\n\t\tthis.gender = this.values.g;\r\n\t\tthis.age = this.calculateAgeYM(this.dob);\r\n\t\tthis.ageRange = this.getAgeRange(this.age);\r\n\t\tthis.startTime = new Date();\r\n\t\tif (this.values.c) {\r\n\t\t\tthis.ec.mmContent.style.display = 'none';\r\n\t\t\tthis.cc = this.values.c;\r\n\t\t\tdelete this.values.g;\r\n\t\t\tdelete this.values.dob;\r\n\t\t\tdelete this.values.c;\r\n\t\t\tdelete this.values.starttime;\r\n\t\t\tthis.tXe.start(this.cc, this.dob, this.gender, this.values);\r\n\t\t\tthis.ec.qAndA.disabled = false;\r\n\t\t\tthis.ec.qAndA.style.opacity = 1;\r\n\t\t\tthis.ec.library.disabled = true;\r\n\t\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\t\tthis.ec.results.disabled = false;\r\n\t\t\tthis.ec.results.style.opacity = 1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.ec.mmInput.style.display = 'inherit';\r\n\t\tthis.ec.qAndA.disabled = false;\r\n\t\tthis.ec.qAndA.style.opacity = 1;\r\n\t\tthis.ec.library.disabled = true;\r\n\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\tthis.ec.results.disabled = false;\r\n\t\tthis.ec.results.style.opacity = 1.0;\r\n\t}\r\n\tcalculateAgeYM(dob) {\r\n\t\tvar date;\r\n\t\tif (typeof dob === 'string') date = new Date(dob);\r\n\t\telse if (typeof dob.getMonth === 'function') date = dob;\r\n\t\telse throw new Error('Invalid type for date variable passed to calculateAge');\r\n\t\tvar today = new Date();\r\n\t\tvar months;\r\n\t\tmonths = (today.getFullYear() - date.getFullYear()) * 12;\r\n\t\tmonths += today.getMonth();\r\n\t\tmonths -= date.getMonth();\r\n\t\tmonths = (months > 0) ? months : 1;\r\n\t\tif (months < 36) {\r\n\t\t\treturn months + ' Months';\r\n\t\t}\r\n\t\tvar years = Math.floor(months / 12);\r\n\t\treturn years + ' Years';\r\n\t}\r\n\tstartWithMatch(text, searchString) {\r\n\t\treturn (text.toLowerCase().startsWith(searchString.toLowerCase()));\r\n\t}\r\n\thandleOpenTab(e) {\r\n\t\tthis.openTab.bind(this)(event, e.target.id);\r\n\t}\r\n\tsetupWidget() {\r\n\t\tthis.ec = {};\r\n\t\tthis.ec.controlContainer = this.shadowRoot.getElementById('controlContainer');\r\n\t\tthis.ec.controlContainer.addEventListener('click', this.onCtlCtrClick.bind(this));\r\n\t\tthis.ec.mmInput = this.shadowRoot.getElementById('mmInput');\r\n\t\tthis.ec.mmInput.addEventListener('input', this.mmChange.bind(this));\r\n\t\tthis.ec.mmList = this.shadowRoot.getElementById('mmList');\r\n\t\tthis.ec.warningContent = this.shadowRoot.getElementById('warningContent');\r\n\t\tthis.ec.closenotebtn = this.shadowRoot.getElementById('closenotebtn');\r\n\t\tthis.ec.closenotebtn.addEventListener('click', this.doViewResults.bind(this));\r\n\t\tthis.ec.notedonebtn = this.shadowRoot.getElementById('notedonebtn');\r\n\t\tthis.ec.notedonebtn.addEventListener('click', this.doNoteDone.bind(this));\r\n\t\tthis.ec.resultsabortbtn = this.shadowRoot.getElementById('resultsabortbtn');\r\n\t\tthis.ec.resultsabortbtn.addEventListener('click', this.doAbort.bind(this));\r\n\t\tthis.ec.noteabortbtn = this.shadowRoot.getElementById('noteabortbtn');\r\n\t\tthis.ec.noteabortbtn.addEventListener('click', this.doAbort.bind(this));\r\n\t\tthis.ec.educationLog = this.shadowRoot.getElementById('educationlog');\r\n\t\tthis.tXe = new tXengine({\r\n\t\t\t'appId': 'cmgplus',\r\n\t\t\t'url': 'https://expert-test.dshisystems.net/txnet20wse/'\r\n\t\t}, this);\r\n\t\tthis.tXe.addListener('atQuestion', this.tXeAtQuestion.bind(this));\r\n\t\tthis.tXe.addListener('atDataPoint', this.tXeAtDataPoint.bind(this));\r\n\t\tthis.tXe.addListener('atReport', this.tXeAtReport.bind(this));\r\n\t\tthis.tXe.addListener('onError', this.tXeOnError.bind(this));\r\n\t\tthis.ec.qanextbtn = this.shadowRoot.getElementById('qanextbtn');\r\n\t\tthis.ec.qanextbtn.addEventListener('click', this.doNext.bind(this));\r\n\t\tthis.ec.qayesbtn = this.shadowRoot.getElementById('qayesbtn');\r\n\t\tthis.ec.qayesbtn.addEventListener('click', this.doYes.bind(this));\r\n\t\tthis.ec.qanobtn = this.shadowRoot.getElementById('qanobtn');\r\n\t\tthis.ec.qanobtn.addEventListener('click', this.doNo.bind(this));\r\n\t\tthis.ec.qabackbtn = this.shadowRoot.getElementById('qabackbtn');\r\n\t\tthis.ec.qabackbtn.addEventListener('click', this.doBack.bind(this));\r\n\t\tthis.ec.demobtn = this.shadowRoot.getElementById('demobtn');\r\n\t\tthis.ec.demobtn.addEventListener(\"click\", this.demoClick.bind(this));\r\n\t\tthis.ec.valuebtn = this.shadowRoot.getElementById('valuebtn');\r\n\t\tthis.ec.valuebtn.addEventListener(\"click\", this.demoClick.bind(this));\r\n\t\tthis.ec.findingsbtn = this.shadowRoot.getElementById('findingsbtn');\r\n\t\tthis.ec.findingsbtn.addEventListener(\"click\", this.demoClick.bind(this));\r\n\t\tthis.ec.notebtn = this.shadowRoot.getElementById('notebtn');\r\n\t\tthis.ec.notebtn.addEventListener(\"click\", this.doNote.bind(this));\r\n\t\tthis.ec.qAndA = this.shadowRoot.getElementById('qAndA');\r\n\t\tthis.ec.qAndA.addEventListener(\"click\", this.handleOpenTab.bind(this));\r\n\t\tthis.ec.library = this.shadowRoot.getElementById('instructions');\r\n\t\tthis.ec.library.addEventListener(\"click\", this.handleOpenTab.bind(this));\r\n\t\tthis.ec.results = this.shadowRoot.getElementById('results');\r\n\t\tthis.ec.results.addEventListener(\"click\", this.handleOpenTab.bind(this));\r\n\t\tthis.shadowRoot.onclick = function() {\r\n\t\t\tvar ddt = this.shadowRoot.querySelector('.ddtable');\r\n\t\t\tif (ddt) {\r\n\t\t\t\tfor (var i = 0; i < ddt.length; i++) {\r\n\t\t\t\t\tddt[i].style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.ec.notebody = this.shadowRoot.getElementById('notebody');\r\n\t\t//        autosize(this.ec.notebody);\r\n\t\tthis.ec.educationlog = this.shadowRoot.getElementById('educationlog');\r\n\t\t//        autosize(this.ec.educationlog);\r\n\t\tthis.ec.qaControlPanel = this.shadowRoot.getElementById('qaContentPanel');\r\n\t\tthis.ec.rsltContent = this.shadowRoot.getElementById('rsltContent');\r\n\t\tthis.ec.libraryContentPanel = this.shadowRoot.getElementById('libraryContentPanel');\r\n\t\tthis.ec.qasessiondatalist = this.shadowRoot.getElementById('qasessiondatalist');\r\n\t\tthis.ec.findingsdatalist = this.shadowRoot.getElementById('findingsdatalist');\r\n\t\tthis.ec.valuedatalist = this.shadowRoot.getElementById('valuedatalist');\r\n\t\tthis.ec.democontainer = this.shadowRoot.getElementById('democontainer');\r\n\t\tthis.ec.findingscontainer = this.shadowRoot.getElementById('findingscontainer');\r\n\t\tthis.ec.valuecontainer = this.shadowRoot.getElementById('valuecontainer');\r\n\t\tthis.ec.mmContent = this.shadowRoot.getElementById('mmContent');\r\n\t\tthis.ec.library = this.shadowRoot.getElementById('instructions');\r\n\t\tthis.ec.rsltwhere = this.shadowRoot.getElementById('rsltwhere');\r\n\t\tthis.ec.rsltwhen = this.shadowRoot.getElementById('rsltwhen');\r\n\t\tthis.ec.piinclude = this.shadowRoot.getElementById('piinclude');\r\n\t\tthis.ec.sessionResults = this.shadowRoot.getElementById('sessionResults');\r\n\t\tthis.ec.sessionNote = this.shadowRoot.getElementById('sessionNote');\r\n\t\tthis.ec.piinformation = this.shadowRoot.getElementById('piinformation');\r\n\t\tthis.ec.sysconcern = this.shadowRoot.getElementById('sysconcern');\r\n\t\tthis.ec.sysconcerncontainer = this.shadowRoot.getElementById('sysconcerncontainer');\r\n\t\tthis.ec.predicteresourcescontainer = this.shadowRoot.getElementById('predicteresourcescontainer');\r\n\t\tthis.ec.piList = this.shadowRoot.getElementById('piList');\r\n\t\tthis.ec.picontainer = this.shadowRoot.getElementById('picontainer');\r\n\t\tthis.ec.qAndA = this.shadowRoot.getElementById('qAndA');\r\n\t\tthis.ec.qaContent = this.shadowRoot.getElementById('qaContent');\r\n\t\tthis.ec.notebtn = this.shadowRoot.getElementById('notebtn');\r\n\t\tthis.ec.cvc = this.shadowRoot.getElementById('cvc');\r\n\t\tthis.ec.piclcontainer = this.shadowRoot.getElementById('piclcontainer');\r\n\t\tthis.ec.picltable = this.shadowRoot.getElementById('picltable');\r\n\t\tthis.ec.qadatapoint = this.shadowRoot.getElementById('qadatapoint');\r\n\t\tthis.ec.qaNumeric = this.shadowRoot.getElementById('qaNumeric');\r\n\t\tthis.ec.qaNumber = this.shadowRoot.getElementById('qaNumber');\r\n\t\tthis.ec.qaNumericList = this.shadowRoot.getElementById(this.ec.qaNumber.getAttribute('list'));\r\n\t\tthis.ec.qaNumber.addEventListener('keypress', this.onNumberKeypress.bind(this));\r\n\t\tthis.ec.qaList = this.shadowRoot.getElementById('qaList');\r\n\t\tthis.ec.qaSelect = this.shadowRoot.getElementById('qaSelect');\r\n\t\tthis.ec.qaSelectInput = this.shadowRoot.getElementById('qaSelectInput');\r\n\t\tthis.ec.qaListInput = this.shadowRoot.getElementById('qaListInput');\r\n\t\tthis.ec.qaListList = this.shadowRoot.getElementById(this.ec.qaListInput.getAttribute('list'));\r\n\t\tthis.ec.qaListInput.addEventListener('keypress', this.onHeightKeypress.bind(this));\r\n\t\tthis.ec.qaDate = this.shadowRoot.getElementById('qaDate');\r\n\t\tthis.ec.qaDateInput = this.shadowRoot.getElementById('qaDateInput');\r\n\t\tthis.ec.qaDateInput.addEventListener('keypress', this.onDateKeypress.bind(this));\r\n\t\tthis.ec.qaDateList = this.shadowRoot.getElementById(this.ec.qaDateInput.getAttribute('list'));\r\n\t\tthis.ec.qaUnitSelection = this.shadowRoot.getElementById('qaUnitSelection');\r\n\t\tthis.ec.qaUnitSelection.addEventListener('change', this.onUnitSelectionChange.bind(this));\r\n\t\tthis.ec.qaUnitText = this.shadowRoot.getElementById('qaUnitText');\r\n\t\tthis.ec.qaUnits = this.shadowRoot.getElementById('qaUnits');\r\n\t\tthis.ec.qareasoning = this.shadowRoot.getElementById('qareasoning');\r\n\t\tthis.ec.qaprompt = this.shadowRoot.getElementById('qaprompt');\r\n\t\tthis.ec.qaassisttext = this.shadowRoot.getElementById('qaassisttext');\r\n\t\tthis.ec.qapositivehdr = this.shadowRoot.getElementById('qapositivehdr');\r\n\t\tthis.ec.qaPositiveFindings = this.shadowRoot.getElementById('qaPositiveFindings');\r\n\t\tthis.ec.qanegativehdr = this.shadowRoot.getElementById('qanegativehdr');\r\n\t\tthis.ec.qaNegativeFindings = this.shadowRoot.getElementById('qaNegativeFindings');\r\n\t\tthis.ec.qaContentPanel = this.shadowRoot.getElementById('qaContentPanel');\r\n\t\tthis.ec.txResultsCM = this.shadowRoot.getElementById('txResultsCM');\r\n\t\tthis.ec.txResultsCMEducation = this.shadowRoot.getElementById('txResultsCMEducation');\r\n\t\tthis.ec.txResultsCMRecTcVal = this.shadowRoot.getElementById('txResultsCMRecTcVal');\r\n\t\tthis.ec.txResultsCMRecVc = this.shadowRoot.getElementById('txResultsCMRecVc');\r\n\t\tthis.ec.txResultsCmScs = this.shadowRoot.getElementById('txResultsCMScs');\r\n\t\tthis.ec.txResultsCmDcs = this.shadowRoot.getElementById('txResultsCMDcs');\r\n\t\tthis.ec.txResultsCmPes = this.shadowRoot.getElementById('txResultsCMPes');\r\n\t\tthis.ec.txResultsCmScsValue = this.shadowRoot.getElementById('txResultsCMScsValue');\r\n\t\tthis.ec.txResultsCmDcsValue = this.shadowRoot.getElementById('txResultsCMDcsValue');\r\n\t\tthis.ec.txResultsCmPesValue = this.shadowRoot.getElementById('txResultsCMPesValue');\r\n\t\tthis.ec.txResultsCMEducationTbl = this.shadowRoot.getElementById('txResultsCMEducationTbl');\r\n\t\tthis.ec.txResultsCMEcpLink = this.shadowRoot.getElementById('txResultsCMEcpLink');\r\n\t\tthis.ec.txResultsCMEcp = this.shadowRoot.getElementById('txResultsCMEcp');\r\n\t\tthis.ec.tab = this.shadowRoot.getElementById('tab');\r\n\t\tthis.ec.tabContent = this.shadowRoot.getElementById('tabContent');\r\n\t\tthis.ec.txResultsSYM = this.shadowRoot.getElementById('txResultsSym');\r\n\t\tthis.ec.txResultsSymSysConcern = this.shadowRoot.getElementById('txResultsSymSysConcern');\r\n\t\tthis.ec.txResultsSymSysConcernVal = this.shadowRoot.getElementById('txResultsSymSysConcernVal');\r\n\t\tthis.ec.txResultsSymPr = this.shadowRoot.getElementById('txResultsSymPr');\r\n\t\tthis.ec.txResultsSymPrLst = this.shadowRoot.getElementById('txResultsSymPrLst');\r\n\t\tthis.ec.txResultsSymRecTcVal = this.shadowRoot.getElementById('txResultsSymRecTcVal');\r\n\t\tthis.ec.txResultsSymRecVc = this.shadowRoot.getElementById('txResultsSymRecVc');\r\n\t\tthis.ec.txResultsSymDir = this.shadowRoot.getElementById('txResultsSymDir');\r\n\t\tthis.ec.txResultsSymDirLst = this.shadowRoot.getElementById('txResultsSymDirLst');\r\n\t\tthis.ec.tctImageThumbs = this.shadowRoot.getElementById('tctImageThumbs');\r\n\t\tthis.ec.tctImage = this.shadowRoot.getElementById('tctImage');\r\n\t\tthis.ec.tctImagePopup = this.shadowRoot.getElementById('tctImagePopup');\r\n\t\tthis.ec.tctImageBack = this.shadowRoot.getElementById('tctImageBack');\r\n\t\tthis.ec.tctImageBack.onclick = this.doImageBack.bind(this);\r\n\t\tthis.ec.txcRsltsDSHelpPopup = this.shadowRoot.getElementById('txcRsltsDSHelpPopup');\r\n\t\tthis.ec.txcRsltsDSHelpBack = this.shadowRoot.getElementById('txcRsltsDSHelpBack');\r\n\t\tthis.ec.txcRsltsDSHelpBack.onclick = this.doDSHelpBack.bind(this);\r\n\t\tthis.ec.txcRsltsDSHelpShow = this.shadowRoot.getElementById('txcRsltsDSHelpShow');\r\n\t\tthis.ec.txcRsltsDSHelpShow.onclick = this.txcRsltsShowDSHelpPop.bind(this);\r\n\t\tthis.ec.tctLibraryBack = this.shadowRoot.getElementById('tctLibraryBack');\r\n\t\tthis.ec.tctLibraryBack.onclick = this.doLibraryBack.bind(this);\r\n\t\tthis.ec.tctLibraryPopup = this.shadowRoot.getElementById('tctLibraryPopup');\r\n\t\tthis.ec.instructionList = this.shadowRoot.getElementById('instructionList');\r\n\t\tthis.ec.instructionList.addEventListener('click', this.txlInstructionListClick.bind(this));\r\n\t\tthis.ec.copyInstructionsLink = this.shadowRoot.getElementById('copyInstructionsLink');\r\n\t\tthis.ec.copyInstructionsLink.addEventListener('click', this.txlCopyInstructionsLink.bind(this));\r\n\t\tthis.ec.visitInstructionsLink = this.shadowRoot.getElementById('visitInstructionsLink');\r\n\t\tthis.ec.visitInstructionsLink.addEventListener('click', this.txlVisitInstructionsLink.bind(this));\r\n\t\tthis.ec.doneInstructionsLink = this.shadowRoot.getElementById('doneInstructionsLink');\r\n\t\tthis.ec.doneInstructionsLink.addEventListener('click', this.txlDoneInstructionsLink.bind(this));\r\n\t\tthis.ec.instructionLinkSection = this.shadowRoot.getElementById('instructionLinkSection');\r\n\t\tthis.ec.tctTXL = this.shadowRoot.getElementById('tctTXL');\r\n\t\tthis.ec.insTXL = this.shadowRoot.getElementById('insTXL');\r\n\t\tthis.ec.insTXL.addEventListener('instructions', this.txlInstructions.bind(this));\r\n\t\tthis.ec.insTXL.addEventListener('articleLoading', this.txlArticleLoading.bind(this));\r\n\t\tthis.ec.library.disabled = true;\r\n\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\tthis.ec.qAndA.disabled = true;\r\n\t\tthis.ec.qAndA.style.opacity = 0.25;\r\n\t\tthis.ec.results.disabled = true;\r\n\t\tthis.ec.results.style.opacity = 0.25;\r\n\t\tthis.ec.mmInput.style.display = 'none';\r\n\t\tthis.vCenter = this.offsetHeight / 2;\r\n\t\tthis.hCenter = this.offsetWidth / 2;\r\n\t\tthis.setupPopupListener();\r\n\t}\r\n\ttxlDoneInstructionsLink(ev) {\r\n\t\tvar e;\r\n\t\tvar wTopics = [];\r\n\t\tvar ecpLink;\r\n\t\tvar ul = this.ec.instructionList;\r\n\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\twTopics.push(ul.children[liIndex].dataset.articleTitle);\r\n\t\t}\r\n\t\tecpLink = this.generateCoachKey(wTopics, this.age, this.gender, null);\r\n\t\tthis.ec.instructionList.innerHTML = '';\r\n\t\tthis.ec.instructionLinkSection.style.display = 'none';\r\n\t\tthis.ec.insTXL.resetWidget();\r\n\t\tthis.doResetComponent.bind(this)();\r\n\t\te = new CustomEvent('instructions', {\r\n\t\t\tdetail: {\r\n\t\t\t\tarticles: wTopics,\r\n\t\t\t\tlink: ecpLink\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.dispatchEvent(e);\r\n\t}\r\n\ttxlCopyInstructionsLink(ev) {\r\n\t\tvar wTopics = [];\r\n\t\tvar ecpLink;\r\n\t\tvar ul = this.ec.instructionList;\r\n\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\twTopics.push(ul.children[liIndex].dataset.articleTitle + \" Home Care Veteran\");\r\n\t\t}\r\n\t\tif (wTopics.length > 0) {\r\n\t\t\tvar age = this.age.replace(' Years', '').replace(' Months', '');\r\n\t\t\tecpLink = this.generateCoachKey(wTopics, age, this.gender, null);\r\n\t\t\tvar dummy = document.createElement(\"input\");\r\n\t\t\tdocument.body.appendChild(dummy);\r\n\t\t\tdummy.setAttribute(\"id\", \"dummy_id\");\r\n\t\t\tdocument.getElementById(\"dummy_id\").value = ecpLink;\r\n\t\t\tdummy.select();\r\n\t\t\tdocument.execCommand(\"copy\");\r\n\t\t\tdocument.body.removeChild(dummy);\r\n\t\t\talert('Patient Instructions Link copied to clipboard:\\n\\n' + ecpLink);\r\n\t\t}\r\n\t}\r\n\ttxlVisitInstructionsLink(ev) {\r\n\t\tvar wTopics = [];\r\n\t\tvar ecpLink;\r\n\t\tvar ul = this.ec.instructionList;\r\n\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\twTopics.push(ul.children[liIndex].dataset.articleTitle + \" Home Care Veteran\");\r\n\t\t}\r\n\t\tif (wTopics.length > 0) {\r\n\t\t\tvar age = this.age.replace(' Years', '').replace(' Months', '');\r\n\t\t\tecpLink = this.generateCoachKey(wTopics, age, this.gender, null);\r\n\t\t\twindow.open(ecpLink, \"_blank\");\r\n\t\t}\r\n\t}\r\n\ttxlInstructionListClick(ev) {\r\n\t\tif (ev.target && ev.target.matches(\"li\")) {\r\n\t\t\tthis.ec.insTXL.showArticle(ev.target.innerText);\r\n\t\t}\r\n\t}\r\n\ttxlArticleLoading(ev) {\r\n\t\tvar rTitle = ev.detail.title.replace('Home Care Veteran');\r\n\t\tvar ul = this.ec.instructionList;\r\n\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\tif (ul.children[liIndex].innerText == rTitle) {\r\n\t\t\t\tthis.ec.insTXL.webInstruction(true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\ttxlInstructions(ev) {\r\n\t\tif (ev.detail.checked) {\r\n\t\t\tvar li = document.createElement(\"li\");\r\n\t\t\tli.appendChild(document.createTextNode(ev.detail.title.replace('Home Care Veteran', 'Home Care')));\r\n\t\t\tli.dataset.articleId = ev.detail.id;\r\n\t\t\tli.dataset.articleTitle = ev.detail.title;\r\n\t\t\tthis.ec.instructionList.appendChild(li);\r\n\t\t\tthis.ec.instructionLinkSection.style.display = 'inherit';\r\n\t\t} else {\r\n\t\t\tvar rTitle = ev.detail.title.replace('Home Care Veteran', 'Home Care');\r\n\t\t\tvar ul = this.ec.instructionList;\r\n\t\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\t\tif (ul.children[liIndex].innerText == rTitle) {\r\n\t\t\t\t\tul.removeChild(ul.children[liIndex]);\r\n\t\t\t\t\tif (ul.children.length <= 0) {\r\n\t\t\t\t\t\tthis.ec.instructionLinkSection.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tonUnitSelectionChange(ev) {\r\n\t\tvar newOption = ev.target.value;\r\n\t\tvar inputControl = this.ec.qanextbtn.inputControl;\r\n\t\tinputControl.unit = newOption;\r\n\t\tinputControl.value = this.ec.qaNumber.value;\r\n\t\tvar dataPoint = inputControl.dataPoint;\r\n\t\tthis.setupDataPoint(dataPoint, newOption);\r\n\t}\r\n\tonCtlCtrClick(ev) {\r\n\t\tvar ddTable = this.ec.controlContainer.getElementsByClassName('ddtable');\r\n\t\tfor (var i = 0; i < ddTable.length; i++) {\r\n\t\t\tddTable[i].style.display = 'none';\r\n\t\t}\r\n\t\tvar doSearchClose = true;\r\n\t\tfor (var evpi = 0; evpi < ev.path.length; evpi++) {\r\n\t\t\tif ((ev.path[evpi].id == 'txSearchHeader') || (ev.path[evpi].id == 'txLibrarySearchBtn')) {\r\n\t\t\t\tdoSearchClose = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (doSearchClose) {\r\n\t\t\tif (this.ec.insTXL.ec.txLibArticle.style.display == 'block') {\r\n\t\t\t\tthis.ec.insTXL.ec.txSearchHeader.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\tdemoClick(event) {\r\n\t\tvar qasdl;\r\n\t\tif (event.target.id == 'demobtn') {\r\n\t\t\tqasdl = 'qasessiondatalist';\r\n\t\t} else if (event.target.id == 'valuebtn') {\r\n\t\t\tqasdl = 'valuedatalist';\r\n\t\t} else if (event.target.id == 'findingsbtn') qasdl = 'findingsdatalist';\r\n\t\tif (this.shadowRoot.getElementById(qasdl).style.display != 'block') {\r\n\t\t\tvar ddt = this.shadowRoot.querySelectorAll('.ddtable');\r\n\t\t\tif (ddt) {\r\n\t\t\t\tfor (var i = 0; i < ddt.length; i++) {\r\n\t\t\t\t\tif (ddt[i].id == qasdl) {\r\n\t\t\t\t\t\tddt[i].style.display = 'block';\r\n\t\t\t\t\t\tvar newLeft = event.target.offsetLeft - 5;\r\n\t\t\t\t\t\tvar newTop = event.target.offsetTop + event.target.offsetHeight + 5;\r\n\t\t\t\t\t\tddt[i].style.left = newLeft + 'px';\r\n\t\t\t\t\t\tddt[i].style.top = newTop + 'px';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tddt[i].style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.shadowRoot.getElementById(qasdl).style.display = 'none';\r\n\t\t}\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\trdemoClick(event) {\r\n\t\tvar qasdl;\r\n\t\tif (event.target.id == 'rdemobtn') {\r\n\t\t\tqasdl = 'rsessiondatalist';\r\n\t\t} else if (event.target.id == 'rvaluebtn') {\r\n\t\t\tqasdl = 'rvaluedatalist';\r\n\t\t} else if (event.target.id == 'rfindingsbtn') qasdl = 'rfindingsdatalist';\r\n\t\tif (this.shadowRoot.getElementById(qasdl).style.display != 'block') {\r\n\t\t\tvar ddt = this.shadowRoot.querySelectorAll('.ddtable');\r\n\t\t\tif (ddt) {\r\n\t\t\t\tfor (var i = 0; i < ddt.length; i++) {\r\n\t\t\t\t\tif (ddt[i].id == qasdl) {\r\n\t\t\t\t\t\tddt[i].style.display = 'block';\r\n\t\t\t\t\t\tvar newLeft = event.target.offsetLeft - 5;\r\n\t\t\t\t\t\tvar newTop = event.target.offsetTop + event.target.offsetHeight + 5;\r\n\t\t\t\t\t\tddt[i].style.left = newLeft + 'px';\r\n\t\t\t\t\t\tddt[i].style.top = newTop + 'px';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tddt[i].style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.shadowRoot.getElementById(qasdl).style.display = 'none';\r\n\t\t}\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\tisHidden(el) {\r\n\t\tvar style = window.getComputedStyle(el);\r\n\t\treturn (style.visibility === 'hidden');\r\n\t}\r\n\topenTab(event, tab) {\r\n\t\tvar clickedTab = this.shadowRoot.getElementById(tab);\r\n\t\tif (clickedTab.classList.contains('active')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (clickedTab.classList.contains('disabled')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar activeTab = this.shadowRoot.querySelectorAll(\".active\")[0];\r\n\t\tactiveTab.classList.remove(\"active\");\r\n\t\tthis.shadowRoot.getElementById(tab).classList.add(\"active\");\r\n\t\tif (tab == 'qAndA') {\r\n\t\t\tthis.ec.qaContentPanel.style.display = \"block\";\r\n\t\t\tthis.ec.rsltContent.style.display = \"none\";\r\n\t\t\tthis.ec.libraryContentPanel.style.display = \"none\";\r\n\t\t} else if (tab == 'instructions') {\r\n\t\t\tthis.ec.libraryContentPanel.style.display = \"block\";\r\n\t\t\tthis.ec.qaContentPanel.style.display = \"none\";\r\n\t\t\tthis.ec.rsltContent.style.display = \"none\";\r\n\t\t} else if (tab == 'results') {\r\n\t\t\tthis.ec.qaContentPanel.style.display = \"none\";\r\n\t\t\tthis.ec.rsltContent.style.display = \"block\";\r\n\t\t\tthis.ec.libraryContentPanel.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\tgetAgeRange(age) {\r\n\t\tvar ia = parseInt(age);\r\n\t\tif (isNaN(ia)) {\r\n\t\t\treturn 'A';\r\n\t\t}\r\n\t\tif (age.toLowerCase().indexOf(' months') <= 0) {\r\n\t\t\tia *= 12;\r\n\t\t}\r\n\t\tif (ia < 30) {\r\n\t\t\treturn 'I';\r\n\t\t}\r\n\t\tif (ia < 204) {\r\n\t\t\treturn 'C';\r\n\t\t}\r\n\t\treturn 'A';\r\n\t}\r\n\tmmChange(event) {\r\n\t\tvar iIndex;\r\n\t\tvar value = event.target.value;\r\n\t\tvar html = \"\";\r\n\t\tvar matchCount;\r\n\t\tthis.ec.mmList.innerHTML = html;\r\n\t\tif (value && (value.length >= 1)) {\r\n\t\t\tvar ageGender = this.ageRange + this.gender;\r\n\t\t\tfor (iIndex = 0, matchCount = 0;\r\n\t\t\t\t((iIndex < this.sym[ageGender].length) && (matchCount < 10)); iIndex++) {\r\n\t\t\t\tif (this.startWithMatch(this.sym[ageGender][iIndex], value)) {\r\n\t\t\t\t\tvar vcaIndicator = '';\r\n\t\t\t\t\tif (this.sym.conditions.indexOf(this.sym[ageGender][iIndex]) >= 0) {\r\n\t\t\t\t\t\tvcaIndicator = \"<div style=\\\"float:right;\\\" title=\\\"Condition Management\\\">\\u058E</div>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\thtml += \"<li class=\\\"ui-btn ui-ccbtn\\\" tabindex=\\\"0\\\"><div style=\\\"float:left;\\\">\" + this.sym[ageGender][iIndex] + \"</div>\" + vcaIndicator + \"<div style=\\\"clear:both;\\\"></div></li>\";\r\n\t\t\t\t\tmatchCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (html.length > 0) {\r\n\t\t\tthis.ec.mmList.innerHTML = html;\r\n\t\t\tvar mmEntries = this.shadowRoot.querySelectorAll('.ui-ccbtn');\r\n\t\t\tfor (iIndex = 0; iIndex < mmEntries.length; iIndex++) {\r\n\t\t\t\tmmEntries[iIndex].onclick = this.ccSelect.bind(this);\r\n\t\t\t}\r\n\t\t\tthis.ec.mmList.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.ec.mmList.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\tccSelect(event) {\r\n\t\tvar rsp;\r\n\t\tif ((!this.gender) || (!this.dob)) {\r\n\t\t\talert('Gender and DOB are required');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.ec.mmContent.style.display = 'none';\r\n\t\tthis.cc = event.currentTarget.childNodes[0].innerText;\r\n\t\tthis.dob = this.values.dob;\r\n\t\tthis.gender = this.values.g;\r\n\t\tdelete this.values.g;\r\n\t\tdelete this.values.dob;\r\n\t\tdelete this.values.starttime;\r\n\t\tthis.ec.library.disabled = true;\r\n\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\tthis.ec.qAndA.disabled = false;\r\n\t\tthis.ec.qAndA.style.opacity = 1.0;\r\n\t\tthis.ec.results.disabled = false;\r\n\t\tthis.ec.results.style.opacity = 1.0;\r\n\t\tif (this.sym.conditions.indexOf(this.cc) >= 0) {\r\n\t\t\trsp = {\r\n\t\t\t\tdataPoint: {\r\n\t\t\t\t\tna: {\r\n\t\t\t\t\t\ttype: \"Select\",\r\n\t\t\t\t\t\t\"list\": [\"COMPREHENSIVE: Triage Parameters and Disease Parameters\", \"QUICK: Triage Parameters\"]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: \"Comprehensive: Triage Parameters and Disease Parameters\",\r\n\t\t\t\t\tunits: \"na\",\r\n\t\t\t\t},\r\n\t\t\t\tlocationType: \"Data Point\",\r\n\t\t\t\tnavigationMethods: [\"Next\"],\r\n\t\t\t\tsession: \"sess\",\r\n\t\t\t\tprompt: \"Select evaluation type\",\r\n\t\t\t\tdemographics: {\r\n\t\t\t\t\tdob: this.dob,\r\n\t\t\t\t\tage: this.age,\r\n\t\t\t\t\tgender: this.gender\r\n\t\t\t\t},\r\n\t\t\t\thint: 'Triage Parameters include Triage Class, Symptom Control Score, and Fitness for Virtual Care.  Disease Parameters include Disease Control Score, Patient Effort Score, Targeted Education, and Targeted Education Online for patient.',\r\n\t\t\t};\r\n\t\t\tthis.nextState = \"StartComp\";\r\n\t\t\tthis.tXeAtDataPoint(rsp);\r\n\t\t} else {\r\n\t\t\trsp = {\r\n\t\t\t\tdataPoint: {\r\n\t\t\t\t\tMinutes: {\r\n\t\t\t\t\t\ttype: \"Number\",\r\n\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\tmax: 59,\r\n\t\t\t\t\t\tstep: 1.0,\r\n\t\t\t\t\t\tintegral: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tHours: {\r\n\t\t\t\t\t\ttype: \"Number\",\r\n\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\tmax: 23,\r\n\t\t\t\t\t\tstep: 1.0,\r\n\t\t\t\t\t\tintegral: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tDays: {\r\n\t\t\t\t\t\ttype: \"Number\",\r\n\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\tmax: 31,\r\n\t\t\t\t\t\tstep: 1.0,\r\n\t\t\t\t\t\tintegral: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tWeeks: {\r\n\t\t\t\t\t\ttype: \"Number\",\r\n\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\tmax: 4,\r\n\t\t\t\t\t\tstep: 1.0,\r\n\t\t\t\t\t\tintegral: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tMonths: {\r\n\t\t\t\t\t\ttype: \"Number\",\r\n\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\tmax: 12,\r\n\t\t\t\t\t\tstep: 1.0,\r\n\t\t\t\t\t\tintegral: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tname: \"durationofchiefcomplaint\",\r\n\t\t\t\t\tdescriptor: 103,\r\n\t\t\t\t\tunits: \"Hours\",\r\n\t\t\t\t\tunitsList: [\"Minutes\", \"Hours\", \"Days\", \"Weeks\", \"Months\"]\r\n\t\t\t\t},\r\n\t\t\t\tlocationType: \"Data Point\",\r\n\t\t\t\tnavigationMethods: [\"Next\"],\r\n\t\t\t\tsession: \"sess\",\r\n\t\t\t\tprompt: \"Select duration of \" + this.cc + \":\",\r\n\t\t\t\tdemographics: {\r\n\t\t\t\t\tdob: this.dob,\r\n\t\t\t\t\tage: this.age,\r\n\t\t\t\t\tgender: this.gender\r\n\t\t\t\t},\r\n\t\t\t\thint: '',\r\n\t\t\t};\r\n\t\t\tthis.nextState = \"StartDur\";\r\n\t\t\tthis.tXeAtDataPoint(rsp);\r\n\t\t}\r\n\t}\r\n\tisValidDatalistValue(idDataList, inputValue) {\r\n\t\tvar selector = \"#\" + idDataList + \" option[value='\" + inputValue.replace('\\'', '\\\\\\'') + \"']\";\r\n\t\tvar option = this.shadowRoot.querySelector(selector);\r\n\t\tif (option !== null) {\r\n\t\t\treturn option.value.length > 0;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdoNext(event) {\r\n\t\tvar value, idx, unit;\r\n\t\tif (event.target.inputControl) {\r\n\t\t\tvar icType = event.target.inputControl.dataPoint[event.target.inputControl.dataPoint.units].type;\r\n\t\t\tif (icType == 'Number') {\r\n\t\t\t\tvalue = event.target.inputControl.value;\r\n\t\t\t\tif (!this.isValidDatalistValue('qaNumericList', value)) {\r\n\t\t\t\t\talert('Number must be between ' + event.target.inputControl.min + ' and ' + event.target.inputControl.max);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (icType == 'Date') {\r\n\t\t\t\tvalue = event.target.inputControl.value;\r\n\t\t\t\tif (!this.isValidDatalistValue('qaDateList', value)) {\r\n\t\t\t\t\talert('Date must be between ' + event.target.inputControl.minDate + ' and ' + event.target.inputControl.maxDate);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (icType == 'List') {\r\n\t\t\t\tvalue = event.target.inputControl.value;\r\n\t\t\t\tif (!this.isValidDatalistValue('qaListList', value)) {\r\n\t\t\t\t\talert('Height must be between ' + event.target.inputControl.minList + ' and ' + event.target.inputControl.maxList);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (icType == 'Select') {\r\n\t\t\t\tvalue = event.target.inputControl.value;\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\talert('An evaluation type must be selected.');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (event.target.inputControl.unit != 'na') {\r\n\t\t\t\tunit = event.target.inputControl.unit;\r\n\t\t\t}\r\n\t\t\tif (this.nextState == \"StartDur\") {\r\n\t\t\t\tthis.nextState = \"\";\r\n\t\t\t\tthis.values.durationofchiefcomplaint = {\r\n\t\t\t\t\tvalue: value + \" \" + unit\r\n\t\t\t\t};\r\n\t\t\t\tthis.tXe.start(this.cc, this.dob, this.gender, this.values);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.nextState == \"StartComp\") {\r\n\t\t\t\t\tthis.nextState = \"\";\r\n\t\t\t\t\tidx = value.indexOf(':');\r\n\t\t\t\t\tif (idx > 0) {\r\n\t\t\t\t\t\tvalue = value.substring(0, idx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.values[2210] = {\r\n\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (value.toUpperCase() == \"COMPREHENSIVE\")\r\n\t\t\t\t\t\tthis.comprehensive = true;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.comprehensive = false;\r\n\t\t\t\t\tthis.isFirstQuestion = true;\r\n\t\t\t\t\tthis.tXe.start(this.cc, this.dob, this.gender, this.values);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.nextState == \"Start\") {\r\n\t\t\tthis.nextState = \"\";\r\n\t\t\tthis.values.durationofchiefcomplaint = value + \" \" + unit;\r\n\t\t\tthis.tXe.start(this.cc, this.dob, this.gender, this.values);\r\n\t\t} else {\r\n\t\t\tthis.tXe.next(value, unit);\r\n\t\t}\r\n\t}\r\n\tdoNo() {\r\n\t\tthis.tXe.no();\r\n\t}\r\n\tdoYes() {\r\n\t\tthis.tXe.yes();\r\n\t}\r\n\tdoBack() {\r\n\t\tthis.tXe.previous();\r\n\t}\r\n\tgenerateInstructionList() {\r\n\t\tvar li, title, wid, i, instructions;\r\n\t\tvar vtopics = [];\r\n\t\tvar wtopics = [];\r\n\t\tvar checkedList = this.ec.picltable.querySelectorAll('input:checked');\r\n\t\tfor (i = 0; i < checkedList.length; i++) {\r\n\t\t\twid = checkedList[i].id;\r\n\t\t\tif (wid.substr(0, 2) === 'wi') {\r\n\t\t\t\tli = wid.replace('wi', 'll');\r\n\t\t\t\ttitle = this.shadowRoot.getElementById(li).innerText;\r\n\t\t\t\twtopics.push(title);\r\n\t\t\t} else if (wid.substr(0, 2) === 'vi') {\r\n\t\t\t\tli = wid.replace('vi', 'll');\r\n\t\t\t\ttitle = this.shadowRoot.getElementById(li).innerText;\r\n\t\t\t\tvtopics.push(title);\r\n\t\t\t}\r\n\t\t}\r\n\t\tinstructions = [];\r\n\t\tif (vtopics.length > 0) {\r\n\t\t\tinstructions.verbaltopics = vtopics;\r\n\t\t}\r\n\t\tif (wtopics.length > 0) {\r\n\t\t\tinstructions.webtopics = wtopics;\r\n\t\t}\r\n\t\treturn instructions;\r\n\t}\r\n\tb64encode(number, length) {\r\n\t\tvar _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\t\tvar s = '';\r\n\t\tvar n = 0;\r\n\t\tfor (n = number; n > 0; n >>>= 6) {\r\n\t\t\ts = _keyStr[n & 0x3F] + s;\r\n\t\t}\r\n\t\ts = 'A'.repeat(length - s.length) + s;\r\n\t\treturn s;\r\n\t}\r\n\thash(str) {\r\n\t\tvar i, l,\r\n\t\t\thval = 0x811c9dc5;\r\n\t\tfor (i = 0, l = str.length; i < l; i++) {\r\n\t\t\thval ^= str.charCodeAt(i);\r\n\t\t\thval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\r\n\t\t}\r\n\t\treturn hval >>> 0;\r\n\t}\r\n\tgenerateCoachKey(wtopics, strAge, strGender, strCcid) {\r\n\t\tif (wtopics.length > 0) {\r\n\t\t\tvar age = 0;\r\n\t\t\tif (strAge)\r\n\t\t\t\tage = parseInt(strAge);\r\n\r\n\t\t\tvar gender = \"\";\r\n\t\t\tif (strGender)\r\n\t\t\t\tgender = strGender.substr(0, 1);\r\n\t\t\tvar ccid = -1;\r\n\t\t\tif (strCcid) ccid = parseInt(strCcid);\r\n\t\t\tvar date = new Date().getTime() / 1000;\r\n\t\t\tvar sDomain = window.location.hostname;\r\n\t\t\tvar k = this.b64encode(date, 6);\r\n\t\t\tk += this.b64encode(ccid, 6);\r\n\t\t\tk += this.b64encode(this.hash(sDomain), 6);\r\n\t\t\tvar ag = age + ((gender.toLowerCase() === 'm') ? 128 : 0);\r\n\t\t\tk += this.b64encode(ag, 2);\r\n\t\t\tfor (var i = 0; i < wtopics.length; i++) {\r\n\t\t\t\tk += this.b64encode(this.hash(wtopics[i].toLowerCase().replace(' overview', '')), 6);\r\n\t\t\t}\r\n\t\t\treturn 'https://vha-pip.dshisystems.net/pi.htm?k=TEA' + k;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tdoNote(event) {\r\n\t\tvar rsp;\r\n\t\tif (!event.target.rsp) {\r\n\t\t\trsp = {};\r\n\t\t\tif (this.values) {\r\n\t\t\t\trsp.values = this.values;\r\n\t\t\t\tif (!rsp.values.starttime) {\r\n\t\t\t\t\trsp.values.starttime = this.startTime;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\trsp.values.starttime = this.startTime;\r\n\t\t\t}\r\n\t\t\tif (this.demographics) {\r\n\t\t\t\trsp.demographics = this.demographics;\r\n\t\t\t} else {\r\n\t\t\t\trsp.demographics = {};\r\n\t\t\t\trsp.demographics.age = this.age;\r\n\t\t\t\trsp.demographics.gender = this.gender;\r\n\t\t\t\trsp.demographics.dob = this.dob;\r\n\t\t\t}\r\n\t\t\tif (this.positiveFindings) {\r\n\t\t\t\trsp.positiveFindings = this.positiveFindings;\r\n\t\t\t}\r\n\t\t\tif (this.negativeFindings) {\r\n\t\t\t\trsp.negativeFindings = this.negativeFindings;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\trsp = event.target.rsp;\r\n\t\t}\r\n\t\tvar cRsp;\r\n\t\tif (!rsp.isCondition) {\r\n\t\t\tcRsp = this.generateRspSym(rsp);\r\n\t\t} else {\r\n\t\t\tcRsp = this.generateRspCondition(rsp);\r\n\t\t}\r\n\t\tthis.ec.sessionResults.style.display = 'none';\r\n\t\tvar note;\r\n\t\tif (!rsp.isCondition) {\r\n\t\t\tnote = this.generateNoteSym(cRsp);\r\n\t\t} else {\r\n\t\t\tnote = this.generateNoteCondition(cRsp);\r\n\t\t}\r\n\t\tvar noteBody = this.ec.notebody;\r\n\t\tnoteBody.value = note;\r\n\t\tnoteBody.cRsp = cRsp;\r\n\t\tthis.ec.sessionNote.style.display = 'block';\r\n\t\tnoteBody.style.height = 'auto';\r\n\t\tnoteBody.style.height = noteBody.scrollHeight + 'px';\r\n\t\t//        autosize.update(noteBody);\r\n\r\n\t}\r\n\tgenerateNoteSym(nData) {\r\n\t\tvar i, vm, tctList;\r\n\t\tvar note = 'Symptom Triage Note\\n';\r\n\t\tif (nData.startTime) note += nData.startTime + '\\n';\r\n\t\tnote += '\\nDemographics' + '\\n';\r\n\t\tnote += '\\t' + nData.age.replace('Years', 'y/o').replace('Months', 'm/o') + ' ' + nData.gender + '\\n';\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\nResults\\n';\r\n\t\t}\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\tCC: ' + nData.cc;\r\n\t\t}\r\n\t\tif (nData.durationOfComplaint) {\r\n\t\t\tnote += ' | Duration ' + nData.durationOfComplaint;\r\n\t\t}\r\n\t\tif ((nData.cc) || (nData.durationOfComplaint)) {\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.painlevel) {\r\n\t\t\tnote += '\\t' + nData.painlevel + '\\n';\r\n\t\t}\r\n\t\tif (nData.nurseEsi) {\r\n\t\t\tnote += '\\tNurse assigned 5-level Triage Class: ' + nData.nurseEsi;\r\n\t\t\tif (nData.referToVirtualCare) {\r\n\t\t\t\tnote += ' | Refer to virtual care';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.systemEsi) {\r\n\t\t\tnote += '\\tSystem suggested 5-level Triage Class: ' + nData.systemEsi;\r\n\t\t\tif (nData.eTreatable) {\r\n\t\t\t\tnote += ' | Refer to virtual care';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tvm = '';\r\n\t\tfor (i = 0; i < this.valuesAndMeasuresToNote.length; i++) {\r\n\t\t\tvar property = this.valuesAndMeasuresToNote[i];\r\n\t\t\tif (nData.hasOwnProperty(property)) {\r\n\t\t\t\tif (property == 'lnmp') vm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + this.dateToString(nData[property]);\r\n\t\t\t\telse\r\n\t\t\t\tif (this.valuesAndMeasuresUnits.hasOwnProperty(property))\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property] + ' ' + this.valuesAndMeasuresUnits[property];\r\n\t\t\t\telse\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property];\r\n\t\t\t\tif (this.valuesAndMeasuresToNoteSupplmental[property]) {\r\n\t\t\t\t\tvm += ' ' + this.valuesAndMeasuresToNoteSupplmental[property];\r\n\t\t\t\t}\r\n\t\t\t\tvm += '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\ttctList = this.shadowRoot.querySelectorAll('.tctInput');\r\n\t\tif (tctList) {\r\n\t\t\tfor (i = 0; i < tctList.length; i++) {\r\n\t\t\t\tif (tctList[i].type == 'radio') {\r\n\t\t\t\t\tif (tctList[i].checked) {\r\n\t\t\t\t\t\tvm += '\\t' + tctList[i].name + ': ' + tctList[i].value + '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (tctList[i].value !== '') {\r\n\t\t\t\t\tvm += '\\t' + tctList[i].name + ': ' + tctList[i].value;\r\n\t\t\t\t\tif (tctList[i].dataset.units) {\r\n\t\t\t\t\t\tvm += ' ' + tctList[i].dataset.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm += '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (vm.length > 0) {\r\n\t\t\tnote += '\\nValues and Measures\\n';\r\n\t\t\tnote += vm;\r\n\t\t}\r\n\t\tif ((nData.positiveFindings) && (nData.positiveFindings.length > 0)) {\r\n\t\t\tnote += '\\nPositive Responses\\n';\r\n\t\t\tnote += '\\t' + nData.positiveFindings.join('\\n\\t') + '\\n';\r\n\t\t}\r\n\t\tif ((nData.negativeFindings) && (nData.negativeFindings.length > 0)) {\r\n\t\t\tnote += '\\nNegative Responses\\n';\r\n\t\t\tnote += '\\tDenies: ' + nData.negativeFindings.join('\\n\\tDenies: ') + '\\n';\r\n\t\t}\r\n\t\tif (this.ec.instructionList.children.length > 0) {\r\n\t\t\tvar instructions = '\\nProvided instructions:\\n';\r\n\t\t\tvar wTopics = [];\r\n\t\t\tvar ul = this.ec.instructionList;\r\n\t\t\tfor (var liIndex = 0; liIndex < ul.children.length; liIndex++) {\r\n\t\t\t\twTopics.push(ul.children[liIndex].dataset.articleTitle);\r\n\t\t\t\tinstructions += '\\t' + ul.children[liIndex].dataset.articleTitle + '\\n';\r\n\t\t\t}\r\n\t\t\tif (this.ecpLink) {\r\n\t\t\t\tinstructions += '\\n\\tLink: ' + this.ecpLink;\r\n\t\t\t}\r\n\t\t\tnote += instructions;\r\n\t\t}\r\n\t\treturn note;\r\n\t}\r\n\tgenerateNoteCondition(nData) {\r\n\t\tvar vm, i, tctList;\r\n\t\tvar note = 'Condition Triage Note\\n';\r\n\t\tif (nData.startTime) note += nData.startTime + '\\n';\r\n\t\tnote += '\\nDemographics' + '\\n';\r\n\t\tnote += '\\t' + nData.age.replace('Years', 'y/o').replace('Months', 'm/o') + ' ' + nData.gender + '\\n';\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\nResults\\n';\r\n\t\t}\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\tCC: ' + nData.cc;\r\n\t\t\tif (this.comprehensive) {\r\n\t\t\t\tnote += ' (Comprehensive)';\r\n\t\t\t} else {\r\n\t\t\t\tnote += ' (Quick)';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.durationofcc) {\r\n\t\t\tnote += '\\t' + nData.durationofcc + '\\n';\r\n\t\t}\r\n\t\tif (nData.painlevel) {\r\n\t\t\tnote += '\\t' + nData.painlevel + '\\n';\r\n\t\t}\r\n\t\tif (nData.nurseEsi) {\r\n\t\t\tnote += '\\tNurse assigned 5-Level Triage Class: ' + nData.nurseEsi;\r\n\t\t\tif (nData.referToVirtualCare) {\r\n\t\t\t\tnote += ' | Refer to virtual care';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.systemEsi) {\r\n\t\t\tnote += '\\tSystem suggested 5-Level Triage Class: ' + nData.systemEsi;\r\n\t\t\tif (nData.eTreatable) {\r\n\t\t\t\tnote += ' | Refer to virtual care';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.patientEffortScore || nData.symptomControl || nData.diseaseControlScore) {\r\n\t\t\tnote += '\\nDisease Status\\n';\r\n\t\t\tif (nData.symptomControl) {\r\n\t\t\t\tnote += '\\tSymptom Control Score: ' + nData.symptomControl + ' [1-7 scale | 7 = best control]\\n';\r\n\t\t\t}\r\n\t\t\tif (this.comprehensive) {\r\n\t\t\t\tif (nData.diseaseControlScore) {\r\n\t\t\t\t\tnote += '\\tDisease Control Score: ' + nData.diseaseControlScore + '% [100% = perfect control]\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (nData.patientEffortScore) {\r\n\t\t\t\t\tnote += '\\tPatient Effort Score: ' + nData.patientEffortScore + '% [100% = perfect adherence]\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvm = '';\r\n\t\tfor (i = 0; i < this.valuesAndMeasuresToNote.length; i++) {\r\n\t\t\tvar property = this.valuesAndMeasuresToNote[i];\r\n\t\t\tif (nData.hasOwnProperty(property)) {\r\n\t\t\t\tif (property == 'lnmp') vm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + this.dateToString(nData[property]);\r\n\t\t\t\telse\r\n\t\t\t\tif (this.valuesAndMeasuresUnits.hasOwnProperty(property))\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property] + ' ' + this.valuesAndMeasuresUnits[property];\r\n\t\t\t\telse\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property];\r\n\t\t\t\tif (this.valuesAndMeasuresToNoteSupplmental[property]) {\r\n\t\t\t\t\tvm += ' ' + this.valuesAndMeasuresToNoteSupplmental[property];\r\n\t\t\t\t}\r\n\t\t\t\tif (this.valuesAndMeasuresToNoteSupplmental[property]) {\r\n\t\t\t\t\tvm += ' ' + this.valuesAndMeasuresToNoteSupplmental[property];\r\n\t\t\t\t}\r\n\t\t\t\tvm += '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\ttctList = this.shadowRoot.querySelectorAll('.tctInput');\r\n\t\tif (tctList) {\r\n\t\t\tfor (i = 0; i < tctList.length; i++) {\r\n\t\t\t\tif (tctList[i].type == 'radio') {\r\n\t\t\t\t\tif (tctList[i].checked) {\r\n\t\t\t\t\t\tvm += '\\t' + tctList[i].name + ': ' + tctList[i].value + '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (tctList[i].value !== '') {\r\n\t\t\t\t\tvm += '\\t' + tctList[i].name + ': ' + tctList[i].value;\r\n\t\t\t\t\tif (tctList[i].dataset.units) {\r\n\t\t\t\t\t\tvm += ' ' + tctList[i].dataset.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm += '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (vm.length > 0) {\r\n\t\t\tnote += '\\nValues and Measures\\n';\r\n\t\t\tnote += vm;\r\n\t\t}\r\n\t\tif ((nData.positiveFindings) && (nData.positiveFindings.length > 0)) {\r\n\t\t\tnote += '\\nFindings That May Require Action\\n';\r\n\t\t\tnote += '\\t' + nData.positiveFindings.join('\\n\\t') + '\\n';\r\n\t\t}\r\n\t\tif ((nData.negativeFindings) && (nData.negativeFindings.length > 0)) {\r\n\t\t\tnote += '\\nNegative Responses\\n';\r\n\t\t\tnote += '\\tDenies: ' + nData.negativeFindings.join('\\n\\tDenies: ') + '\\n';\r\n\t\t}\r\n\t\tvar edLog = this.ec.educationLog.value.replace('\\n', '\\n\\t');\r\n\t\tvar verbalEducation = \"\";\r\n\t\tvar checked = this.ec.txResultsCMEducationTbl.querySelectorAll('input:checked');\r\n\t\tfor (i = 0; i < checked.length; i++) {\r\n\t\t\tverbalEducation += '\\t' + checked[i].description + \"\\n\\n\";\r\n\t\t}\r\n\t\tif ((edLog.length > 0) || (verbalEducation.length > 0)) {\r\n\t\t\tnote += '\\nVerbal Education Performed\\n';\r\n\t\t}\r\n\t\tif (edLog.length > 0) {\r\n\t\t\tnote += '\\t' + edLog + '\\n\\n';\r\n\t\t}\r\n\t\tif (verbalEducation.length > 0) {\r\n\t\t\tnote += verbalEducation;\r\n\t\t}\r\n\t\t//            var ecpLink;\r\n\t\t//            var wTopics = [];\r\n\t\t//            for (i = 0; i < nData.careLinks.length; i++) {\r\n\t\t//                wTopics.push(nData.careLinks[i].title);\r\n\t\t//            }\r\n\t\t//            if (wTopics.length > 0) {\r\n\t\t//                ecpLink = this.generateCoachKey(wTopics, nData.age, nData.gender, nData.ccid);\r\n\t\tif (this.ecpLink) {\r\n\t\t\tnote += '\\nTargeted Education Online\\n\\t' + this.ecpLink + '\\n';\r\n\t\t}\r\n\t\treturn note;\r\n\t}\r\n\twalkNodes(domEntry, text, indent) {\r\n\t\tvar i;\r\n\t\tswitch (domEntry.nodeName) {\r\n\t\t\tcase '#text':\r\n\t\t\t\ttext += indent + domEntry.textContent;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BR':\r\n\t\t\t\ttext += '\\n';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'UL':\r\n\t\t\t\tindent += '\\t';\r\n\t\t\t\tfor (i = 0; i < domEntry.childNodes.length; i++) text = this.walkNodes(domEntry.childNodes[i], text, indent);\r\n\t\t\t\tindent = indent.substr(0, indent.length - 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DIV':\r\n\t\t\t\tfor (i = 0; i < domEntry.childNodes.length; i++) text = this.walkNodes(domEntry.childNodes[i], text, indent);\r\n\t\t\t\ttext += '\\n';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'LI':\r\n\t\t\t\tfor (i = 0; i < domEntry.childNodes.length; i++) text = this.walkNodes(domEntry.childNodes[i], text, indent);\r\n\t\t\t\ttext += '\\n';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tfor (i = 0; i < domEntry.childNodes.length; i++) text = this.walkNodes(domEntry.childNodes[i], text, indent);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tgetPatientInformationText() {\r\n\t\tvar piiHTML = this.ec.piinformation;\r\n\t\treturn this.walkNodes(piiHTML, '', '\\t\\t').replace(/\\s+$/, '');\r\n\t}\r\n\tdoViewResults() {\r\n\t\tthis.ec.sessionNote.style.display = 'none';\r\n\t\tthis.ec.sessionResults.style.display = 'block';\r\n\t}\r\n\tdoResetComponent() {\r\n\t\tvar i, tci, opt;\r\n\t\tdelete this.cc;\r\n\t\tdelete this.dob;\r\n\t\tdelete this.gender;\r\n\t\tdelete this.values;\r\n\t\tdelete this.positiveFindings;\r\n\t\tdelete this.negativeFindings;\r\n\t\tdelete this.demographics;\r\n\t\tdelete this.starttime;\r\n\t\tdelete this.ec.notebtn.rsp;\r\n\t\tthis.ec.library.disabled = true;\r\n\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\tthis.ec.qAndA.disabled = true;\r\n\t\tthis.ec.qAndA.style.opacity = 0.25;\r\n\t\tthis.ec.results.disabled = true;\r\n\t\tthis.ec.results.style.opacity = 0.25;\r\n\t\tthis.ec.qareasoning.innerText = '';\r\n\t\tthis.ec.sessionResults.style.display = 'inline-block';\r\n\t\tthis.ec.mmInput.style.display = 'none';\r\n\t\tthis.ec.txResultsSymSysConcernVal.innerText = '';\r\n\t\tthis.ec.txResultsSymSysConcern.style.display = 'none';\r\n\t\tvar wSelect = this.ec.txResultsSymRecTcVal;\r\n\t\tfor (i = 0; i < wSelect.options.length; i++) {\r\n\t\t\twSelect.options[i].innerText = wSelect.options[i].value;\r\n\t\t}\r\n\t\twSelect.value = 1;\r\n\t\tvar checked = this.ec.txResultsCMEducationTbl.querySelectorAll('input:checked');\r\n\t\tfor (i = 0; i < checked.length; i++) {\r\n\t\t\tchecked[i].checked = false;\r\n\t\t}\r\n\t\tthis.ec.txResultsSymRecVc.checked = false;\r\n\t\tthis.ec.txResultsSymDir.style.display = 'none';\r\n\t\tthis.ec.txResultsSymPr.style.display = 'none';\r\n\t\tthis.openTab.bind(this)(null, 'qAndA');\r\n\t\tthis.ec.library.disabled = true;\r\n\t\tthis.ec.library.style.opacity = 0.25;\r\n\t\tthis.ec.qAndA.disabled = true;\r\n\t\tthis.ec.qAndA.style.opacity = 0.25;\r\n\t\tthis.ec.qaContent.style.display = 'none';\r\n\t\tthis.ec.mmContent.style.display = 'block';\r\n\t\tthis.ec.mmList.innerHTML = \"\";\r\n\t\tthis.ec.mmInput.value = '';\r\n\t\tthis.ec.sessionNote.style.display = 'none';\r\n\t\tthis.ec.notebody.value = '';\r\n\t\tthis.ec.txResultsSymRecTcVal.options.length = 0;\r\n\t\tthis.ec.txResultsCMRecTcVal.options.length = 0;\r\n\t\tfor (tci = 1; tci <= 5; tci++) {\r\n\t\t\topt = document.createElement('option');\r\n\t\t\topt.label = '' + tci;\r\n\t\t\topt.value = opt.label;\r\n\t\t\tthis.ec.txResultsSymRecTcVal.appendChild(opt);\r\n\t\t\topt = document.createElement('option');\r\n\t\t\topt.label = '' + tci;\r\n\t\t\topt.value = opt.label;\r\n\t\t\tthis.ec.txResultsCMRecTcVal.appendChild(opt);\r\n\t\t}\r\n\t\tthis.ec.insTXL.resetWidget();\r\n\t\tthis.ec.instructionList.innerHTML = '';\r\n\t\tthis.ec.instructionLinkSection.style.display = 'none';\r\n\t}\r\n\tdoNoteDone() {\r\n\t\tvar e;\r\n\t\tvar note = this.ec.notebody.value;\r\n\t\tvar cRsp = this.ec.notebody.cRsp;\r\n\t\tcRsp.triageNote = note;\r\n\t\tthis.doResetComponent.bind(this)();\r\n\t\te = new CustomEvent('complete', {\r\n\t\t\tdetail: cRsp\r\n\t\t});\r\n\t\tthis.dispatchEvent(e);\r\n\t}\r\n\tgernateRspCondition(rsp) {\r\n\t\tvar tctList, i, esi;\r\n\t\tvar cRsp = {};\r\n\t\tif (rsp.demographics.gender) {\r\n\t\t\tcRsp.gender = rsp.demographics.gender;\r\n\t\t}\r\n\t\tif (rsp.demographics.dob) {\r\n\t\t\tcRsp.dob = new Date(rsp.demographics.dob);\r\n\t\t}\r\n\t\tif (rsp.demographics.cc) {\r\n\t\t\tcRsp.cc = rsp.demographics.cc;\r\n\t\t}\r\n\t\tif (rsp.demographics.age) {\r\n\t\t\tcRsp.age = rsp.demographics.age;\r\n\t\t}\r\n\t\tif (rsp.values) {\r\n\t\t\tif (rsp.values.starttime) {\r\n\t\t\t\tcRsp.startTime = rsp.values.starttime;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.duration) {\r\n\t\t\t\tcRsp.duration = parseInt(rsp.values.duration) * 1000;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.height) {\r\n\t\t\t\tcRsp.height = rsp.values.height;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.weight) {\r\n\t\t\t\tcRsp.weight = rsp.values.weight;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.systolicbloodpressure) {\r\n\t\t\t\tcRsp.systolicBloodPressure = rsp.values.systolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.diastolicbloodpressure) {\r\n\t\t\t\tcRsp.diastolicBloodPressure = rsp.values.diastolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.temperature) {\r\n\t\t\t\tcRsp.temperature = rsp.values.temperature;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.serumglucose) {\r\n\t\t\t\tcRsp.serumGlucose = rsp.values.serumglucose;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrbaseline) {\r\n\t\t\t\tcRsp.pefrBaseline = rsp.values.pefrbaseline;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrcurrent) {\r\n\t\t\t\tcRsp.pefrCurrent = rsp.values.pefrcurrent;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.lnmp) {\r\n\t\t\t\tcRsp.lnmp = this.stringToDate(rsp.values.lnmp);\r\n\t\t\t}\r\n\t\t\tif (rsp.values.respiratoryrate) {\r\n\t\t\t\tcRsp.respiratoryRate = rsp.values.respiratoryrate;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.ox) {\r\n\t\t\t\tcRsp.o2 = rsp.values.ox;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulse) {\r\n\t\t\t\tcRsp.pulse = rsp.values.pulse;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.durationofcomplaint) {\r\n\t\t\t\tcRsp.durationOfComplaint = rsp.values.durationofcomplaint;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.gestationalage) {\r\n\t\t\t\tcRsp.gestationalAge = rsp.values.gestationalage;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.bmi) {\r\n\t\t\t\tcRsp.bmi = rsp.values.bmi;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.peakflowpctbest) {\r\n\t\t\t\tcRsp.peakFlowPctBest = rsp.values.peakflowpctbest;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.meanarterialpressure) {\r\n\t\t\t\tcRsp.meanArterialPressure = rsp.values.meanarterialpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.modifiedshockindex) {\r\n\t\t\t\tcRsp.modifiedShockIndex = rsp.values.modifiedshockindex;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulsepressure) {\r\n\t\t\t\tcRsp.pulsePressure = rsp.values.pulsepressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.hrs) {\r\n\t\t\t\tcRsp.diseaseControlScore = rsp.hrs;\r\n\t\t\t}\r\n\t\t\tif (rsp.pes) {\r\n\t\t\t\tcRsp.patientEffortScore = rsp.pes;\r\n\t\t\t}\r\n\t\t\tif (rsp.symptomControl) {\r\n\t\t\t\tcRsp.symptomControlScore = rsp.symptomControl;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rsp.negativeFindings) {\r\n\t\t\tcRsp.negativeFindings = rsp.negativeFindings;\r\n\t\t}\r\n\t\tif (rsp.positiveFindings) {\r\n\t\t\tcRsp.positiveFindings = rsp.positiveFindings;\r\n\t\t}\r\n\t\tif (rsp.predictedResources) {\r\n\t\t\tcRsp.predictedResources = rsp.predictedResources;\r\n\t\t}\r\n\t\tif (rsp.systemConcern) {\r\n\t\t\tcRsp.systemConcern = rsp.systemConcern;\r\n\t\t}\r\n\t\tif (this.ec.txResultsSymRecTcVal.value) {\r\n\t\t\tesi = this.ec.txResultsSymRecTcVal.value;\r\n\t\t\tcRsp.nurseEsi = esi;\r\n\t\t\tcRsp.systemEsi = rsp.esi;\r\n\t\t}\r\n\t\tif ((rsp.etreatable) && (rsp.etreatable === true)) {\r\n\t\t\tcRsp.eTreatable = true;\r\n\t\t}\r\n\t\tif (this.ec.txResultsSymRecVc.checked) {\r\n\t\t\tcRsp.referToVirtualCare = true;\r\n\t\t}\r\n\t\ttctList = this.shadowRoot.querySelectorAll('.tctInput');\r\n\t\tif (tctList) {\r\n\t\t\tfor (i = 0; i < tctList.length; i++) {\r\n\t\t\t\tif (tctList[i].type == 'radio') {\r\n\t\t\t\t\tif (tctList[i].checked) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (tctList[i].value !== '') {\r\n\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\tif (tctList[i].dataset.units) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] += ' ' + tctList[i].dataset.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (rsp.notifications) {\r\n\t\t\t\tfor (i = 0; i < rsp.notifications.length; i++) {\r\n\t\t\t\t\tif (rsp.notifications[i].role == 'TCT') {\r\n\t\t\t\t\t\tif (!cRsp.directives) {\r\n\t\t\t\t\t\t\tcRsp.directives = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcRsp.directives.push(rsp.notifications[i].text.trim());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn cRsp;\r\n\t\t}\r\n\t}\r\n\tgenerateRspCondition(rsp) {\r\n\t\tvar tctList, i, esi;\r\n\t\tvar cRsp = {};\r\n\t\tif (rsp.demographics.gender) {\r\n\t\t\tcRsp.gender = rsp.demographics.gender;\r\n\t\t}\r\n\t\tif (rsp.demographics.dob) {\r\n\t\t\tcRsp.dob = new Date(rsp.demographics.dob);\r\n\t\t}\r\n\t\tif (rsp.demographics.cc) {\r\n\t\t\tcRsp.cc = rsp.demographics.cc;\r\n\t\t}\r\n\t\tif (rsp.demographics.age) {\r\n\t\t\tcRsp.age = rsp.demographics.age;\r\n\t\t}\r\n\t\tif (rsp.careLinks) {\r\n\t\t\tcRsp.careLinks = rsp.careLinks;\r\n\t\t\tcRsp.ccid = rsp.ccid;\r\n\t\t}\r\n\t\tif (rsp.values) {\r\n\t\t\tif (rsp.values.starttime) {\r\n\t\t\t\tcRsp.startTime = rsp.values.starttime;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.duration) {\r\n\t\t\t\tcRsp.duration = parseInt(rsp.values.duration) * 1000;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.height) {\r\n\t\t\t\tcRsp.height = rsp.values.height;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.weight) {\r\n\t\t\t\tcRsp.weight = rsp.values.weight;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.systolicbloodpressure) {\r\n\t\t\t\tcRsp.systolicBloodPressure = rsp.values.systolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.diastolicbloodpressure) {\r\n\t\t\t\tcRsp.diastolicBloodPressure = rsp.values.diastolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.temperature) {\r\n\t\t\t\tcRsp.temperature = rsp.values.temperature;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.serumglucose) {\r\n\t\t\t\tcRsp.serumGlucose = rsp.values.serumglucose;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrbaseline) {\r\n\t\t\t\tcRsp.pefrBaseline = rsp.values.pefrbaseline;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrcurrent) {\r\n\t\t\t\tcRsp.pefrCurrent = rsp.values.pefrcurrent;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.lnmp) {\r\n\t\t\t\tcRsp.lnmp = this.stringToDate(rsp.values.lnmp);\r\n\t\t\t}\r\n\t\t\tif (rsp.values.respiratoryrate) {\r\n\t\t\t\tcRsp.respiratoryRate = rsp.values.respiratoryrate;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.ox) {\r\n\t\t\t\tcRsp.o2 = rsp.values.ox;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulse) {\r\n\t\t\t\tcRsp.pulse = rsp.values.pulse;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.durationofcomplaint) {\r\n\t\t\t\tcRsp.durationOfComplaint = rsp.values.durationofcomplaint;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.gestationalage) {\r\n\t\t\t\tcRsp.gestationalAge = rsp.values.gestationalage;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.bmi) {\r\n\t\t\t\tcRsp.bmi = rsp.values.bmi;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.peakflowpctbest) {\r\n\t\t\t\tcRsp.peakFlowPctBest = rsp.values.peakflowpctbest;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.meanarterialpressure) {\r\n\t\t\t\tcRsp.meanArterialPressure = rsp.values.meanarterialpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.modifiedshockindex) {\r\n\t\t\t\tcRsp.modifiedShockIndex = rsp.values.modifiedshockindex;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulsepressure) {\r\n\t\t\t\tcRsp.pulsePressure = rsp.values.pulsepressure;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rsp.symptomControl) {\r\n\t\t\tcRsp.symptomControl = rsp.symptomControl;\r\n\t\t}\r\n\t\tif (rsp.diseaseControlScore) {\r\n\t\t\tcRsp.diseaseControlScore = rsp.diseaseControlScore;\r\n\t\t}\r\n\t\tif (rsp.patientEffortScore) {\r\n\t\t\tcRsp.patientEffortScore = rsp.patientEffortScore;\r\n\t\t}\r\n\t\tif (rsp.negativeFindings) {\r\n\t\t\tcRsp.negativeFindings = rsp.negativeFindings;\r\n\t\t}\r\n\t\tif (rsp.positiveFindings) {\r\n\t\t\tcRsp.positiveFindings = rsp.positiveFindings;\r\n\t\t}\r\n\t\tif (rsp.predictedResources) {\r\n\t\t\tcRsp.predictedResources = rsp.predictedResources;\r\n\t\t}\r\n\t\tif (rsp.systemConcern) {\r\n\t\t\tcRsp.systemConcern = rsp.systemConcern;\r\n\t\t}\r\n\t\tif (this.ec.txResultsCMRecTcVal.value) {\r\n\t\t\tesi = this.ec.txResultsCMRecTcVal.value;\r\n\t\t\tcRsp.nurseEsi = esi;\r\n\t\t\tcRsp.systemEsi = rsp.esi;\r\n\t\t}\r\n\t\tif ((rsp.etreatable) && (rsp.etreatable === true)) {\r\n\t\t\tcRsp.eTreatable = true;\r\n\t\t}\r\n\t\tif (this.ec.txResultsCMRecVc.checked) {\r\n\t\t\tcRsp.referToVirtualCare = true;\r\n\t\t}\r\n\t\ttctList = this.shadowRoot.querySelectorAll('.tctInput');\r\n\t\tif (tctList) {\r\n\t\t\tfor (i = 0; i < tctList.length; i++) {\r\n\t\t\t\tif (tctList[i].type == 'radio') {\r\n\t\t\t\t\tif (tctList[i].checked) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (tctList[i].value !== '') {\r\n\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\tif (tctList[i].dataset.units) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] += ' ' + tctList[i].dataset.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (rsp.notifications) {\r\n\t\t\t\tfor (i = 0; i < rsp.notifications.length; i++) {\r\n\t\t\t\t\tif (rsp.notifications[i].role == 'TCT') {\r\n\t\t\t\t\t\tif (!cRsp.directives) {\r\n\t\t\t\t\t\t\tcRsp.directives = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcRsp.directives.push(rsp.notifications[i].text.trim());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn cRsp;\r\n\t\t}\r\n\t}\r\n\tgenerateRspSym(rsp) {\r\n\t\tvar tctList, i, esi;\r\n\t\tvar cRsp = {};\r\n\t\tif (rsp.demographics.gender) {\r\n\t\t\tcRsp.gender = rsp.demographics.gender;\r\n\t\t}\r\n\t\tif (rsp.demographics.dob) {\r\n\t\t\tcRsp.dob = new Date(rsp.demographics.dob);\r\n\t\t}\r\n\t\tif (rsp.demographics.cc) {\r\n\t\t\tcRsp.cc = rsp.demographics.cc;\r\n\t\t}\r\n\t\tif (rsp.demographics.age) {\r\n\t\t\tcRsp.age = rsp.demographics.age;\r\n\t\t}\r\n\t\tif (rsp.values) {\r\n\t\t\tif (rsp.values.starttime) {\r\n\t\t\t\tcRsp.startTime = rsp.values.starttime;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.duration) {\r\n\t\t\t\tcRsp.duration = parseInt(rsp.values.duration) * 1000;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.height) {\r\n\t\t\t\tcRsp.height = rsp.values.height;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.weight) {\r\n\t\t\t\tcRsp.weight = rsp.values.weight;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.systolicbloodpressure) {\r\n\t\t\t\tcRsp.systolicBloodPressure = rsp.values.systolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.diastolicbloodpressure) {\r\n\t\t\t\tcRsp.diastolicBloodPressure = rsp.values.diastolicbloodpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.temperature) {\r\n\t\t\t\tcRsp.temperature = rsp.values.temperature;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.serumglucose) {\r\n\t\t\t\tcRsp.serumGlucose = rsp.values.serumglucose;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrbaseline) {\r\n\t\t\t\tcRsp.pefrBaseline = rsp.values.pefrbaseline;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pefrcurrent) {\r\n\t\t\t\tcRsp.pefrCurrent = rsp.values.pefrcurrent;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.lnmp) {\r\n\t\t\t\tcRsp.lnmp = this.stringToDate(rsp.values.lnmp);\r\n\t\t\t}\r\n\t\t\tif (rsp.values.respiratoryrate) {\r\n\t\t\t\tcRsp.respiratoryRate = rsp.values.respiratoryrate;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.ox) {\r\n\t\t\t\tcRsp.o2 = rsp.values.ox;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulse) {\r\n\t\t\t\tcRsp.pulse = rsp.values.pulse;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.durationofcomplaint) {\r\n\t\t\t\tcRsp.durationOfComplaint = rsp.values.durationofcomplaint;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.gestationalage) {\r\n\t\t\t\tcRsp.gestationalAge = rsp.values.gestationalage;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.bmi) {\r\n\t\t\t\tcRsp.bmi = rsp.values.bmi;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.peakflowpctbest) {\r\n\t\t\t\tcRsp.peakFlowPctBest = rsp.values.peakflowpctbest;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.meanarterialpressure) {\r\n\t\t\t\tcRsp.meanArterialPressure = rsp.values.meanarterialpressure;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.modifiedshockindex) {\r\n\t\t\t\tcRsp.modifiedShockIndex = rsp.values.modifiedshockindex;\r\n\t\t\t}\r\n\t\t\tif (rsp.values.pulsepressure) {\r\n\t\t\t\tcRsp.pulsePressure = rsp.values.pulsepressure;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rsp.negativeFindings) {\r\n\t\t\tcRsp.negativeFindings = rsp.negativeFindings;\r\n\t\t}\r\n\t\tif (rsp.positiveFindings) {\r\n\t\t\tcRsp.positiveFindings = rsp.positiveFindings;\r\n\t\t}\r\n\t\tif (rsp.predictedResources) {\r\n\t\t\tcRsp.predictedResources = rsp.predictedResources;\r\n\t\t}\r\n\t\tif (rsp.systemConcern) {\r\n\t\t\tcRsp.systemConcern = rsp.systemConcern;\r\n\t\t}\r\n\t\tif (this.ec.txResultsSymRecTcVal.value) {\r\n\t\t\tesi = this.ec.txResultsSymRecTcVal.value;\r\n\t\t\tcRsp.nurseEsi = esi;\r\n\t\t\tcRsp.systemEsi = rsp.esi;\r\n\t\t}\r\n\t\tif ((rsp.etreatable) && (rsp.etreatable === true)) {\r\n\t\t\tcRsp.eTreatable = true;\r\n\t\t}\r\n\t\tif (this.ec.txResultsSymRecVc.checked) {\r\n\t\t\tcRsp.referToVirtualCare = true;\r\n\t\t}\r\n\t\ttctList = this.shadowRoot.querySelectorAll('.tctInput');\r\n\t\tif (tctList) {\r\n\t\t\tfor (i = 0; i < tctList.length; i++) {\r\n\t\t\t\tif (tctList[i].type == 'radio') {\r\n\t\t\t\t\tif (tctList[i].checked) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (tctList[i].value !== '') {\r\n\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] = tctList[i].value;\r\n\t\t\t\t\tif (tctList[i].dataset.units) {\r\n\t\t\t\t\t\tcRsp[this.camelize(tctList[i].name)] += ' ' + tctList[i].dataset.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (rsp.notifications) {\r\n\t\t\t\tfor (i = 0; i < rsp.notifications.length; i++) {\r\n\t\t\t\t\tif (rsp.notifications[i].role == 'TCT') {\r\n\t\t\t\t\t\tif (!cRsp.directives) {\r\n\t\t\t\t\t\t\tcRsp.directives = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcRsp.directives.push(rsp.notifications[i].text.trim());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn cRsp;\r\n\t\t}\r\n\t}\r\n\tcamelize(str) {\r\n\t\treturn str.replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, function(match, index) {\r\n\t\t\tif (+match === 0) return \"\"; // or if (/\\s+/.test(match)) for white spaces\r\n\t\t\treturn index === 0 ? match.toLowerCase() : match.toUpperCase();\r\n\t\t});\r\n\t}\r\n\tgenerateNote(nData) {\r\n\t\tvar i, vm;\r\n\t\tvar note = 'Clinic Triage\\n';\r\n\t\tif (nData.startTime) note += nData.startTime + '\\n';\r\n\t\tnote += '\\nDemographics' + '\\n';\r\n\t\tnote += '\\t' + nData.age.replace('Years', 'y/o').replace('Months', 'm/o') + ' ' + nData.gender + '\\n';\r\n\t\tnote += '\\tBorn: ' + this.dateToString(nData.dob) + '\\n';\r\n\t\tif ((nData.lastname) || (nData.firstname)) {\r\n\t\t\tnote += '\\t';\r\n\t\t\tif (nData.lastname) {\r\n\t\t\t\tnote += nData.lastname;\r\n\t\t\t\tif (nData.firstname) {\r\n\t\t\t\t\tnote += ', ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nData.firstname) {\r\n\t\t\t\tnote += nData.firstname;\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t}\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\nResults\\n';\r\n\t\t}\r\n\t\tif (nData.cc) {\r\n\t\t\tnote += '\\tCC: ' + nData.cc + '\\n';\r\n\t\t}\r\n\t\tif (nData.durationofcc) {\r\n\t\t\tnote += '\\t' + nData.durationofcc + '\\n';\r\n\t\t}\r\n\t\tif (nData.painlevel) {\r\n\t\t\tnote += '\\t' + nData.painlevel + '\\n';\r\n\t\t}\r\n\t\tif (nData.nurseRfi) {\r\n\t\t\tnote += '\\tNurse Recommendation: ' + nData.nurseRfi + '\\n';\r\n\t\t}\r\n\t\tif (nData.systemRfi) {\r\n\t\t\tnote += '\\tSoftware Suggestion: ' + nData.systemRfi + '\\n';\r\n\t\t}\r\n\t\tif (nData.nurseRfl) {\r\n\t\t\tnote += '\\tNurse Recommended Follow-up Location: ' + nData.nurseRfl;\r\n\t\t\tif ((nData.nurseconsidervirtualcare) && (nData.nurseconsidervirtualcare === true)) {\r\n\t\t\t\tnote += ', consider virtual care';\r\n\t\t\t}\r\n\t\t\tnote += '\\n';\r\n\t\t\tif (nData.systemRfl) {\r\n\t\t\t\tnote += '\\tSofware Suggested Follow-up Location: ' + nData.systemRfl;\r\n\t\t\t\tif ((nData.eTreatable) && (nData.eTreatable === true)) {\r\n\t\t\t\t\tnote += ', consider virtual care';\r\n\t\t\t\t}\r\n\t\t\t\tnote += '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tvm = '';\r\n\t\tfor (i = 0; i < this.valuesAndMeasuresToNote.length; i++) {\r\n\t\t\tvar property = this.valuesAndMeasuresToNote[i];\r\n\t\t\tif (nData.hasOwnProperty(property)) {\r\n\t\t\t\tif (property == 'lnmp') vm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + this.dateToString(nData[property]) + '\\n';\r\n\t\t\t\telse\r\n\t\t\t\tif (this.valuesAndMeasuresUnits.hasOwnProperty(property))\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property] + ' ' + this.valuesAndMeasuresUnits[property] + '\\n';\r\n\t\t\t\telse\r\n\t\t\t\t\tvm += '\\t' + this.valuesAndMeasuresTitlesNote[i] + ': ' + nData[property] + '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (vm.length > 0) {\r\n\t\t\tnote += '\\nValues and Measures\\n';\r\n\t\t\tnote += vm;\r\n\t\t}\r\n\t\tif ((nData.positiveFindings) && (nData.positiveFindings.length > 0)) {\r\n\t\t\tnote += '\\nFindings That May Require Action\\n';\r\n\t\t\tnote += '\\t' + nData.positiveFindings.join('\\n\\t') + '\\n';\r\n\t\t}\r\n\t\tif ((nData.negativeFindings) && (nData.negativeFindings.length > 0)) {\r\n\t\t\tnote += '\\nNegative Responses\\n';\r\n\t\t\tnote += '\\tDenies: ' + nData.negativeFindings.join('\\n\\tDenies: ') + '\\n';\r\n\t\t}\r\n\t\tif ((nData.verbalInstructions) || (nData.patientInstructionsText) || (nData.webInstructions)) {\r\n\t\t\tnote += '\\nVeteran Education';\r\n\t\t\tif ((nData.verbalInstructions) && (nData.verbalInstructions.length > 0)) {\r\n\t\t\t\tnote += '\\n\\tVerbal Education Provided for:\\n';\r\n\t\t\t\tfor (i = 0; i < nData.verbalInstructions.length; i++) {\r\n\t\t\t\t\tnote += '\\t\\t' + nData.verbalInstructions[i] + '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nData.patientInstructionsText) {\r\n\t\t\t\tnote += '\\n\\tVerbal Education Provided:\\n';\r\n\t\t\t\tnote += nData.patientInstructionsText + '\\n';\r\n\t\t\t}\r\n\t\t\tif (nData.webInstructions) {\r\n\t\t\t\tnote += '\\t' + nData.webInstructions + '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (nData.educationLog) {\r\n\t\t\tnote += '\\nEducation Log\\n\\t' + nData.educationLog.replace(/\\n/g, '\\n\\t');\r\n\t\t}\r\n\t\treturn note;\r\n\t}\r\n\ttXeAtReport(rsp) {\r\n\t\tvar isCM = rsp.isCondition;\r\n\t\tthis.ec.notebtn.rsp = rsp;\r\n\t\tthis.ec.qAndA.disabled = true;\r\n\t\tthis.ec.qAndA.style.opacity = 0.25;\r\n\t\tthis.ec.txResultsCM.style.display = 'none';\r\n\t\tthis.ec.txResultsSYM.style.display = 'none';\r\n\t\tif (isCM) {\r\n\t\t\tthis.setupResultsCM(rsp);\r\n\t\t} else {\r\n\t\t\tthis.setupResultsSYM(rsp);\r\n\t\t}\r\n\t\tthis.openTab.bind(this)(null, 'results');\r\n\t}\r\n\tsetupResultsSYM(rsp) {\r\n\t\tvar i, selector, esiOption, rt, pi, pis, pes, pmpt, tctI, tctS, tctP, showingTCT, hml, iElems;\r\n\t\tif (rsp.systemConcern) {\r\n\t\t\tvar sysConcern = rsp.systemConcern.join(', ');\r\n\t\t\tthis.ec.txResultsSymSysConcernVal.innerHTML = sysConcern;\r\n\t\t\tthis.ec.txResultsSymSysConcern.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsSymSysConcern.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.predictedResources) {\r\n\t\t\tvar piList = this.ec.txResultsSymPrLst;\r\n\t\t\tpiList.innerHTML = \"\";\r\n\t\t\tfor (i = 0; i < rsp.predictedResources.length; i++) {\r\n\t\t\t\tvar li = document.createElement('li');\r\n\t\t\t\tli.innerHTML = rsp.predictedResources[i];\r\n\t\t\t\tpiList.appendChild(li);\r\n\t\t\t}\r\n\t\t\tthis.ec.txResultsSymPr.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsSymPr.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.esi) {\r\n\t\t\tselector = '#txResultsSymRecTcVal option[value=\"' + rsp.esi + '\"]';\r\n\t\t\tesiOption = this.shadowRoot.querySelector(selector);\r\n\t\t\tesiOption.label = esiOption.label + \" (System)\";\r\n\t\t\tesiOption.selected = true;\r\n\t\t}\r\n\t\tif (rsp.etreatable) {\r\n\t\t\tthis.ec.txResultsSymRecVc.checked = rsp.etreatable;\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsSymRecVc.checked = false;\r\n\t\t}\r\n\t\tvar prompts = ['URINE PREGNANCY TEST', 'GLUCOSE FINGERSTICK', 'CIRCUMFERENCE IN LEGS AT MID-CALF', 'CIRCUMFERENCE IN ARMS AT MID-FOREARM', 'ORTHOSTATIC BP READINGS', 'BP READINGS BOTH ARMS', 'BEDSIDE HEMOGLOBIN', 'BEDSIDE INR IF TAKING COUMADIN', 'DIP URINE', 'O2 SAT MEASUREMENT', 'VISUAL ACUITY TESTING', 'MEASURE ABDOMINAL GIRTH', 'BEDSIDE HEMOGLOBIN A1C', 'URINE HCG IN FEMALES < 49', 'MEASURE LACERATION LENGTH', 'MEASURE SKIN ULCER DIAMETER'];\r\n\t\tvar promptHTML = [\r\n\t\t\t'[%is]Urine Pregnancy test[%ie]&nbsp;&nbsp;<input type=\"radio\" name=\"Urine pregnancy test\" value=\"positive\" class=\"tctInput\">pos<input type=\"radio\" name=\"Urine pregnancy test\" value=\"negative\" class=\"tctInput\">neg',\r\n\t\t\t'[%is]Glucose fingerstick[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Glucose fingerstick\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"mg/dl\"> mg/dl',\r\n\t\t\t'[%is]Circumference in legs at mid-calf[%ie]&nbsp&nbsp;RIGHT <input type=\"text\" class=\"tctInput\" name=\"Calf circumference right\" maxlength=5 data-mini=\"true\" data-units=\"cm\" style=\"display: inline-block;\"> cm&nbsp;&nbsp;LEFT <input type=\"text\" class=\"tctInput\" name=\"Calf circumference left\" size=4 maxlength=5 data-mini=\"true\" data-units=\"cm\" style=\"display: inline-block;\"> cm',\r\n\t\t\t'[%is]Circumference in arms at mid-forearm[%ie]&nbsp&nbsp;RIGHT <input type=\"text\" class=\"tctInput\" name=\"Arm circumference right\" maxlength=5 data-mini=\"true\" data-units=\"cm\" style=\"display: inline-block;\"> cm&nbsp;&nbsp;LEFT <input type=\"text\" class=\"tctInput\" name=\"Arm circumference left\" size=4 maxlength=5 data-mini=\"true\" data-units=\"cm\" style=\"display: inline-block;\"> cm',\r\n\t\t\t'[%is]Orthostatic BP readings[%ie]&nbsp&nbsp;SUPINE SBP <input type=\"text\" class=\"tctInput\" name=\"Supine SBP\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;SUPINE DBP <input type=\"text\" class=\"tctInput\" name=\"Supine DBP\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;STAND SBP <input type=\"text\" class=\"tctInput\" name=\"Standing SBP\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;STAND DBP <input type=\"text\" class=\"tctInput\" name=\"Standing DBP\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">',\r\n\t\t\t'[%is]BP readings both arms[%ie]&nbsp&nbsp;RSBP<input type=\"text\" class=\"tctInput\" name=\"Right SBP\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\"> RDBP<input type=\"text\" class=\"tctInput\" name=\"Right DBP\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\"> LSBP<input type=\"text\" class=\"tctInput\" name=\"Left SBP\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\"> LDBP<input type=\"text\" class=\"tctInput\" name=\"Left DBP\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\">',\r\n\t\t\t'[%is]Bedside Hemoglobin[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Bedside Hemoglobin\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"g/dl\"> g/dl',\r\n\t\t\t'[%is]Bedside INR if taking Coumadin[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Bedside INR\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\">',\r\n\t\t\t'[%is]Dip urine[%ie]&nbsp&nbsp;glu <input type=\"text\" class=\"tctInput\" name=\"Dip Urine Glucose\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;ket <input type=\"text\" class=\"tctInput\" name=\"Ketones\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;leuko <input type=\"text\" class=\"tctInput\" name=\"Leukocyte\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;nit <input type=\"text\" class=\"tctInput\" name=\"Nitrate\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;prot <input type=\"text\" class=\"tctInput\" name=\"Protein\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">&nbsp;&nbsp;heme <input type=\"text\" class=\"tctInput\" name=\"Hemoglobin\" maxlength=5 data-mini=\"true\" data-units=\"\" style=\"display: inline-block;\">',\r\n\t\t\t'[%is]O2 Sat measurement[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"O2 saturation\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"%\">%',\r\n\t\t\t'[%is]Visual acuity[%ie]&nbsp&nbsp;OD 20/<input type=\"text\" class=\"tctInput\" name=\"Visual acuity OD\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\"> OS 20/<input type=\"text\" class=\"tctInput\" name=\"Visual Acuity OS\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\"> OU 20/<input type=\"text\" class=\"tctInput\" name=\"Visual Acuity OU\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"\">',\r\n\t\t\t'[%is]Measure abdominal girth[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Abdominal girth\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"cm\"> cm',\r\n\t\t\t'[%is]Bedside Hemoglobin A1C[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Bedside Hemoglobin A1C\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"%\"> %',\r\n\t\t\t'[%is]Urine Pregnancy test[%ie]&nbsp;&nbsp;<input type=\"radio\" name=\"Urine pregnancy test\" value=\"positive\" class=\"tctInput\"><span class=\"prbc\">pos</span><input type=\"radio\" name=\"Urine pregnancy test\" value=\"negative\" class=\"tctInput\"><span class=\"prbc\">neg</span>',\r\n\t\t\t'[%is]Measure laceration length[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Laceration length\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"cm\"> cm',\r\n\t\t\t'[%is]Measure skin ulcer diameter[%ie]&nbsp&nbsp;<input type=\"text\" class=\"tctInput\" name=\"Skin ulcer diameter\" maxlength=5 style=\"display: inline-block;\" data-mini=\"true\" data-units=\"cm\"> cm'\r\n\t\t];\r\n\t\tshowingTCT = false;\r\n\t\tif ((rsp.notifications) && (rsp.notifications.length > 0)) {\r\n\t\t\ttctS = [];\r\n\t\t\ttctI = [];\r\n\t\t\ttctP = [];\r\n\t\t\tfor (i = 0; i < rsp.notifications.length; i++) {\r\n\t\t\t\tif (rsp.notifications[i].role == 'TCT') {\r\n\t\t\t\t\trt = rsp.notifications[i].text.trim();\r\n\t\t\t\t\tif (rt.substr(0, 6).toUpperCase() == 'IMAGE ') {\r\n\t\t\t\t\t\tif (tctI.indexOf(rt) < 0) {\r\n\t\t\t\t\t\t\tif (rsp.notifications[i].hasOwnProperty('images')) {\r\n\t\t\t\t\t\t\t\ttctI.push('<div class=\"tctImage\"><a href=\"#\" class=\"tctImages\" data-images=\"' + rsp.notifications[i].images.join(\";\") + '\">' + rt + '</a></div>');\r\n\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\ttctI.push('<div class=\"tctImage\">' + rt + '</div>');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpi = prompts.indexOf(rt.toUpperCase());\r\n\t\t\t\t\t\tif (pi >= 0) {\r\n\t\t\t\t\t\t\tpis = '';\r\n\t\t\t\t\t\t\tpes = '';\r\n\t\t\t\t\t\t\tpmpt = promptHTML[pi];\r\n\t\t\t\t\t\t\tif (rsp.notifications[i].hasOwnProperty('images')) {\r\n\t\t\t\t\t\t\t\tpis = '<div class=\"tctImage\"><a href=\"#\" class=\"tctImages\" data-images=\"' + rsp.notifications[i].images.join(\";\") + '\">';\r\n\t\t\t\t\t\t\t\tpes = '</a></div>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpmpt = promptHTML[pi].replace('[%is]', pis).replace('[%ie]', pes);\r\n\t\t\t\t\t\t\tif (tctP.indexOf(pmpt) < 0) {\r\n\t\t\t\t\t\t\t\ttctP.push(pmpt);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpmpt = rt;\r\n\t\t\t\t\t\t\tif (rsp.notifications[i].hasOwnProperty('images')) {\r\n\t\t\t\t\t\t\t\tpmpt = '<div class=\"tctImage\"><a href=\"#\" class=\"tctImages\" data-images=\"' + rsp.notifications[i].images.join(\";\") + '\">' + rt + '</a></div>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (tctS.indexOf(pmpt) < 0) {\r\n\t\t\t\t\t\t\t\ttctS.push(pmpt);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttctS.sort();\r\n\t\t\ttctI.sort();\r\n\t\t\ttctP.sort();\r\n\t\t\tthis.ec.txResultsSymDirLst.innerHTML = '';\r\n\t\t\thml = '';\r\n\t\t\tfor (i = 0; i < tctS.length; i++) {\r\n\t\t\t\thml += '<li>' + tctS[i] + '</li>';\r\n\t\t\t}\r\n\t\t\tfor (i = 0; i < tctI.length; i++) {\r\n\t\t\t\thml += '<li>' + tctI[i] + '</li>';\r\n\t\t\t}\r\n\t\t\tfor (i = 0; i < tctP.length; i++) {\r\n\t\t\t\thml += '<li>' + tctP[i] + '</li>';\r\n\t\t\t}\r\n\t\t\tthis.ec.txResultsSymDirLst.innerHTML = hml;\r\n\t\t\tiElems = this.shadowRoot.querySelectorAll('.tctImages');\r\n\t\t\tif (iElems) {\r\n\t\t\t\tfor (i = 0; i < iElems.length; i++) {\r\n\t\t\t\t\tiElems[i].addEventListener('click', this.txResultsShowImgPop.bind(this));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tshowingTCT = ((tctS.length + tctI.length + tctP.length) > 0);\r\n\t\t}\r\n\t\tthis.ec.txResultsSymDir.style.display = showingTCT ? 'inherit' : 'none';\r\n\t\tthis.ec.txResultsSYM.style.display = 'inherit';\r\n\t}\r\n\tcenterPopup(popup) {\r\n\t\tvar pLeft = (this.offsetParent.offsetWidth / 2) - popup.offsetWidth;\r\n\t\tif (pLeft < 0) pLeft = 0;\r\n\t\tvar pTop = (this.offsetParent.offsetHeight / 2) - popup.offsetHeight;\r\n\t\tif (pTop < 0) pTop = 0;\r\n\t\tthis.ec.tctImagePopup.style.position = 'absolute';\r\n\t\tthis.ec.tctImagePopup.style.top = pTop + 'px';\r\n\t\tthis.ec.tctImagePopup.style.left = pLeft + 'px';\r\n\t}\r\n\ttxResultsShowImgPop(ev) {\r\n\t\tvar iList = ev.target.dataset.images.split(';');\r\n\t\tthis.buildTctImages(iList);\r\n\t\tthis.ec.tctImage.src = 'https://library.dshisystems.net/TCT-Images/' + iList[0];\r\n\t\tthis.ec.tctImagePopup.classList.add('open');\r\n\t\tev.preventDefault();\r\n\t\treturn null;\r\n\t}\r\n\tbuildTctImages(images) {\r\n\t\tvar imgCode = '';\r\n\t\tif (images.length > 1) {\r\n\t\t\tfor (var i = 0; i < images.length; i++) {\r\n\t\t\t\timgCode += '<div class=\"tctImageThumbWrapper\"><IMG class=\"tctImageThumb\" src=\"https://library.dshisystems.net/TCT-Images/' + images[i] + '\"></div>';\r\n\t\t\t}\r\n\t\t\tthis.ec.tctImageThumbs.innerHTML = imgCode;\r\n\t\t\tthis.ec.tctImageThumbs.style.display = 'inherit';\r\n\t\t\tvar iElems = this.shadowRoot.querySelectorAll('.tctImageThumb');\r\n\t\t\tfor (i = 0; i < iElems.length; i++) {\r\n\t\t\t\tiElems[i].addEventListener('click', this.tctImageThumbClick.bind(this));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.ec.tctImageThumbs.innerHTML = '';\r\n\t\t\tthis.ec.tctImageThumbs.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\ttctImageThumbClick(ev) {\r\n\t\tvar iPath = ev.currentTarget.src;\r\n\t\tthis.ec.tctImage.src = iPath;\r\n\t}\r\n\tdoImageBack() {\r\n\t\tvar modal = this.shadowRoot.querySelector('[class=\"modal open\"]');\r\n\t\tmodal.classList.remove('open');\r\n\t}\r\n\ttxcRsltsShowDSHelpPop(ev) {\r\n\t\tthis.ec.txcRsltsDSHelpPopup.classList.add('open');\r\n\t\tev.preventDefault();\r\n\t\treturn null;\r\n\t}\r\n\tdoDSHelpBack() {\r\n\t\tvar modal = this.shadowRoot.querySelector('[class=\"modal open\"]');\r\n\t\tmodal.classList.remove('open');\r\n\t}\r\n\tdoLibraryBack() {\r\n\t\tthis.ec.tab.style.display = 'inline-block';\r\n\t\tthis.ec.tabContent.style.display = 'inline-block';\r\n\t\tthis.ec.tctLibraryPopup.style.display = 'none';\r\n\t}\r\n\tsetupResultsCM(rsp) {\r\n\t\tvar i;\r\n\t\tif (rsp.esi) {\r\n\t\t\tvar selector = '#txResultsCMRecTcVal option[value=\"' + rsp.esi + '\"]';\r\n\t\t\tvar esiOption = this.shadowRoot.querySelector(selector);\r\n\t\t\tesiOption.label = esiOption.label + \" (System)\";\r\n\t\t\tesiOption.selected = true;\r\n\t\t}\r\n\t\tif (rsp.etreatable) {\r\n\t\t\tthis.ec.txResultsCMRecVc.checked = rsp.etreatable;\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsCMRecVc.checked = false;\r\n\t\t}\r\n\t\tif (this.comprehensive) {\r\n\t\t\tthis.ec.txResultsCmDcsValue.innerText = rsp.diseaseControlScore;\r\n\t\t\tthis.ec.txResultsCmPesValue.innerText = rsp.patientEffortScore;\r\n\t\t\tthis.ec.txResultsCmDcs.style.display = 'inherit';\r\n\t\t\tthis.ec.txResultsCmPes.style.display = 'inherit';\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsCmDcs.style.display = 'none';\r\n\t\t\tthis.ec.txResultsCmPes.style.display = 'none';\r\n\t\t}\r\n\t\tthis.ec.txResultsCmScsValue.innerText = rsp.symptomControl;\r\n\t\tif (this.comprehensive) {\r\n\t\t\tvar BMI = null;\r\n\t\t\tif (rsp.values.bmi) {\r\n\t\t\t\tBMI = parseFloat(rsp.values.bmi);\r\n\t\t\t}\r\n\t\t\tvar cpRow;\r\n\t\t\tvar cpCellVerbal;\r\n\t\t\tvar cpCellVerbalCbx;\r\n\t\t\tvar cpCellVerbalCbxLbl;\r\n\t\t\tvar cpCellInfo;\r\n\t\t\tvar cpCellInfoLink;\r\n\t\t\tvar cpCellVerbalContainer;\r\n\t\t\tvar cpCellInfoContainer;\r\n\t\t\tthis.ec.txResultsCMEducationTbl.innerHTML = '';\r\n\t\t\tvar cmTopics = [];\r\n\t\t\tif (rsp.carePlan) {\r\n\t\t\t\tfor (i = 0; i < rsp.carePlan.length; i++) {\r\n\t\t\t\t\tif ((rsp.carePlan[i][3] === 'a') ||\r\n\t\t\t\t\t\t(this.isInPositiveList(rsp.positiveFindings, rsp.carePlan[i][0])) ||\r\n\t\t\t\t\t\t((BMI) && (BMI > 30.0) && (rsp.carePlan[i][0].toUpperCase() == 'PREVENT: WEIGHT MANAGEMENT')) ||\r\n\t\t\t\t\t\t((BMI) && (BMI < 19.0) && (rsp.carePlan[i][0].toUpperCase() == 'PREVENT: UNDERWEIGHT MANAGEMENT'))) {\r\n\t\t\t\t\t\tcpRow = document.createElement('DIV');\r\n\t\t\t\t\t\tcpRow.className = 'trow';\r\n\t\t\t\t\t\tcpCellVerbal = document.createElement('DIV');\r\n\t\t\t\t\t\tcpCellVerbal.classList.add('tcell');\r\n\t\t\t\t\t\tcpCellVerbalContainer = document.createElement('DIV');\r\n\t\t\t\t\t\tcpCellVerbalContainer.classList.add('txCMVerbal');\r\n\t\t\t\t\t\tcpCellVerbalCbx = document.createElement('INPUT');\r\n\t\t\t\t\t\tcpCellVerbalCbx.type = 'checkbox';\r\n\t\t\t\t\t\tcpCellVerbalCbx.id = 'cp' + i;\r\n\t\t\t\t\t\tcpCellVerbalCbx.article = rsp.carePlan[i][1];\r\n\t\t\t\t\t\tcpCellVerbalCbx.description = rsp.carePlan[i][2];\r\n\t\t\t\t\t\tcpCellVerbalCbx.rs = rsp.carePlan[i][0];\r\n\t\t\t\t\t\tcpCellVerbalCbxLbl = document.createElement('LABEL');\r\n\t\t\t\t\t\tcpCellVerbalCbxLbl.htmlFor = 'cp' + i;\r\n\t\t\t\t\t\tcpCellVerbalCbxLbl.appendChild(document.createTextNode('Verbal'));\r\n\t\t\t\t\t\tcpCellInfo = document.createElement('DIV');\r\n\t\t\t\t\t\tcpCellInfo.classList.add('tcell');\r\n\t\t\t\t\t\tcpCellInfoContainer = document.createElement('DIV');\r\n\t\t\t\t\t\tcpCellInfoLink = document.createElement('DIV');\r\n\t\t\t\t\t\tcpCellInfoLink.classList.add('cpLink');\r\n\t\t\t\t\t\tcpCellInfoContainer.classList.add('txCMDescription');\r\n\t\t\t\t\t\tcpCellInfoLink.appendChild(document.createTextNode(rsp.carePlan[i][2]));\r\n\t\t\t\t\t\tcpCellInfoLink.article = rsp.carePlan[i][1];\r\n\t\t\t\t\t\tcpCellInfoLink.addEventListener('click', this.onCPInfoClick.bind(this));\r\n\t\t\t\t\t\tcpCellInfoContainer.appendChild(cpCellInfoLink);\r\n\t\t\t\t\t\tcpCellInfo.appendChild(cpCellInfoContainer);\r\n\t\t\t\t\t\tcpCellVerbalContainer.appendChild(cpCellVerbalCbx);\r\n\t\t\t\t\t\tcpCellVerbalContainer.appendChild(cpCellVerbalCbxLbl);\r\n\t\t\t\t\t\tcpCellVerbal.appendChild(cpCellVerbalContainer);\r\n\t\t\t\t\t\tcpRow.appendChild(cpCellVerbal);\r\n\t\t\t\t\t\tcpRow.appendChild(cpCellInfo);\r\n\t\t\t\t\t\tthis.ec.txResultsCMEducationTbl.appendChild(cpRow);\r\n\t\t\t\t\t\tif (!cmTopics.includes(rsp.carePlan[i][1]))\r\n\t\t\t\t\t\t\tcmTopics.push(rsp.carePlan[i][1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar ecpLink;\r\n\t\t\tvar wTopics = [];\r\n\t\t\tif (rsp.isCondition) {\r\n\t\t\t\twTopics = cmTopics;\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < rsp.careLinks.length; i++) {\r\n\t\t\t\t\twTopics.push(rsp.careLinks[i].title);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (wTopics.length > 0) {\r\n\t\t\t\tecpLink = this.generateCoachKey(wTopics, rsp.demographics.age, rsp.demographics.gender, rsp.ccid);\r\n\t\t\t}\r\n\t\t\tif (ecpLink) {\r\n\t\t\t\tthis.ecpLink = ecpLink;\r\n\t\t\t\tthis.ec.txResultsCMEcpLink.href = ecpLink;\r\n\t\t\t\tthis.ec.txResultsCMEcpLink.innerText = ecpLink;\r\n\t\t\t\tthis.ec.txResultsCMEcp.style.display = 'inherit';\r\n\t\t\t} else {\r\n\t\t\t\tthis.ec.txResultsCMEcp.style.display = 'none';\r\n\t\t\t\tif (this.ecpLink)\r\n\t\t\t\t\tdelete this.ecpLink;\r\n\t\t\t}\r\n\t\t\tthis.ec.txResultsCMEducation.style.display = 'inherit';\r\n\t\t} else {\r\n\t\t\tthis.ec.txResultsCMEcp.style.display = 'none';\r\n\t\t\tthis.ec.txResultsCMEducation.style.display = 'none';\r\n\t\t}\r\n\t\tthis.ec.txResultsCM.style.display = 'inherit';\r\n\t}\r\n\tisInPositiveList(positiveList, item) {\r\n\t\tvar i;\r\n\t\tif (positiveList) {\r\n\t\t\tfor (i = 0; i < positiveList.length; i++) {\r\n\t\t\t\tif (positiveList[i].toUpperCase() === item.toUpperCase())\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tsetupPopupListener() {\r\n\t\tthis.shadowRoot.addEventListener('click', this.onPopClick.bind(this), false);\r\n\t}\r\n\tonPopClick(e) {\r\n\t\tvar target = e.target;\r\n\t\tvar m_ID, modal;\r\n\t\tif (target.hasAttribute('data-toggle') && target.getAttribute('data-toggle') == 'modal') {\r\n\t\t\tif (target.hasAttribute('data-target')) {\r\n\t\t\t\tm_ID = target.getAttribute('data-target');\r\n\t\t\t\tdocument.getElementById(m_ID).classList.add('open');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((target.hasAttribute('data-dismiss') && target.getAttribute('data-dismiss') == 'modal') || target.classList.contains('modal')) {\r\n\t\t\tmodal = this.shadowRoot.querySelector('[class=\"modal open\"]');\r\n\t\t\tmodal.classList.remove('open');\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\tonCPInfoClick(ev) {\r\n\t\tthis.ec.tctTXL.showArticle(ev.currentTarget.article);\r\n\t\tthis.ec.tctLibraryPopup.style.display = 'inherit'; // newlib\r\n\t\tthis.ec.tab.style.display = 'none';\r\n\t\tthis.ec.tabContent.style.display = 'none';\r\n\t\tev.preventDefault();\r\n\t\treturn null;\r\n\t}\r\n\r\n\tround(value, precision) {\r\n\t\tvar multiplier = Math.pow(10, precision || 0);\r\n\t\treturn Math.round(value * multiplier) / multiplier;\r\n\t}\r\n\ttXeAtDataPoint(rsp) {\r\n\t\tvar uIdx, input, isIntegral, dl, precision, n, x, s, i, option, currentDate, y, m, d, ms, ds, vList, dStr2;\r\n\t\tthis.ec.qaSelect.style.display = 'none';\r\n\t\trsp.isDataPoint = true;\r\n\t\tthis.tXeAtQuestion(rsp);\r\n\t\tif (this.ec.qanextbtn.inputControl) {\r\n\t\t\tthis.ec.qanextbtn.inputControl = undefined;\r\n\t\t}\r\n\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\tif ((rsp.dataPoint.unitsList) && (rsp.dataPoint.unitsList.length > 1)) {\r\n\t\t\tthis.ec.qaUnitSelection.options.length = 0;\r\n\t\t\tfor (uIdx = 0; uIdx < rsp.dataPoint.unitsList.length; uIdx++) {\r\n\t\t\t\tvar opt = document.createElement('option');\r\n\t\t\t\topt.label = rsp.dataPoint.unitsList[uIdx];\r\n\t\t\t\topt.value = rsp.dataPoint.unitsList[uIdx];\r\n\t\t\t\tif (rsp.dataPoint.units == rsp.dataPoint.unitsList[uIdx]) {\r\n\t\t\t\t\topt.selected = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ec.qaUnitSelection.appendChild(opt);\r\n\t\t\t}\r\n\t\t\tthis.ec.qaUnitSelection.style.display = 'inherit';\r\n\t\t\tthis.ec.qaUnitText.style.display = 'none';\r\n\t\t\tthis.ec.qaUnits.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qaUnitSelection.style.display = 'none';\r\n\t\t\tif (rsp.dataPoint.units) {\r\n\t\t\t\tthis.ec.qaUnitText.style.display = 'inherit';\r\n\t\t\t\tthis.ec.qaUnitText.innerText = rsp.dataPoint.units;\r\n\t\t\t\tif (rsp.dataPoint.units != 'na')\r\n\t\t\t\t\tthis.ec.qaUnits.style.display = 'inline-block';\r\n\t\t\t} else {\r\n\t\t\t\tthis.ec.qaUnitText.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rsp.dataPoint[rsp.dataPoint.units].type == 'Number') {\r\n\t\t\tinput = this.ec.qaNumber;\r\n\t\t\tisIntegral = false;\r\n\t\t\tinput.dataPoint = rsp.dataPoint;\r\n\t\t\tinput.min = input.dataPoint[input.dataPoint.units].min;\r\n\t\t\tinput.max = input.dataPoint[input.dataPoint.units].max;\r\n\t\t\tinput.step = input.dataPoint[input.dataPoint.units].step;\r\n\t\t\tif (input.dataPoint.value)\r\n\t\t\t\tinput.value = input.dataPoint.value;\r\n\t\t\telse\r\n\t\t\t\tinput.value = '';\r\n\t\t\tinput.unit = rsp.dataPoint.units;\r\n\t\t\tif (input.dataPoint[input.dataPoint.units].integral) {\r\n\t\t\t\tisIntegral = true;\r\n\t\t\t}\r\n\t\t\tdl = this.ec.qaNumericList;\r\n\t\t\tdl.innerHTML = '';\r\n\t\t\tprecision = 0;\r\n\t\t\tif (input.step == 0.1) {\r\n\t\t\t\tprecision = 1;\r\n\t\t\t}\r\n\t\t\tn = parseFloat(input.min);\r\n\t\t\tx = parseFloat(input.max);\r\n\t\t\ts = parseFloat(input.step);\r\n\t\t\tfor (i = n;\r\n\t\t\t\t(i <= x); i += s) {\r\n\t\t\t\toption = document.createElement('option');\r\n\t\t\t\toption.value = this.round(i, precision);\r\n\t\t\t\tdl.appendChild(option);\r\n\t\t\t\tif (!isIntegral) {\r\n\t\t\t\t\tif (option.value.indexOf('.') < 0) {\r\n\t\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\t\toption.value = this.round(i, precision) + '.0';\r\n\t\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\tthis.ec.qaNumeric.style.display = 'inline-block';\r\n\t\t\tthis.ec.qaList.style.display = 'none';\r\n\t\t\tthis.ec.qaDate.style.display = 'none';\r\n\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t} else {\r\n\t\t\tif (rsp.dataPoint[rsp.dataPoint.units].type == 'Date') {\r\n\t\t\t\tinput = this.ec.qaDateInput;\r\n\t\t\t\tinput.dataPoint = rsp.dataPoint;\r\n\t\t\t\tinput.minDate = new Date(rsp.dataPoint[rsp.dataPoint.units].min);\r\n\t\t\t\tinput.maxDate = new Date(rsp.dataPoint[rsp.dataPoint.units].max);\r\n\t\t\t\tif (rsp.dataPoint.value) {\r\n\t\t\t\t\tinput.value = rsp.dataPoint.value;\r\n\t\t\t\t}\r\n\t\t\t\tdl = this.ec.qaDateList;\r\n\t\t\t\tdl.innerHTML = '';\r\n\t\t\t\tcurrentDate = input.minDate;\r\n\t\t\t\twhile (currentDate.getTime() < input.maxDate.getTime()) {\r\n\t\t\t\t\ty = currentDate.getFullYear();\r\n\t\t\t\t\tm = currentDate.getMonth() + 1;\r\n\t\t\t\t\td = currentDate.getDate();\r\n\t\t\t\t\tms = (m < 10) ? '0' + m : '' + m;\r\n\t\t\t\t\tds = (d < 10) ? '0' + d : '' + d;\r\n\t\t\t\t\tdStr2 = ms + '/' + ds + '/' + y;\r\n\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\toption.value = dStr2;\r\n\t\t\t\t\toption.text = dStr2;\r\n\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\tcurrentDate = currentDate.addDays(1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\t\tthis.ec.qaNumeric.style.display = 'none';\r\n\t\t\t\tthis.ec.qaList.style.display = 'none';\r\n\t\t\t\tthis.ec.qaSelect.style.display = 'none';\r\n\t\t\t\tthis.ec.qaDate.style.display = 'inline-block';\r\n\t\t\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\t} else {\r\n\t\t\t\tif (rsp.dataPoint[rsp.dataPoint.units].type == 'List') {\r\n\t\t\t\t\tinput = this.ec.qaListInput;\r\n\t\t\t\t\tinput.dataPoint = rsp.dataPoint;\r\n\t\t\t\t\tif (rsp.dataPoint.value) {\r\n\t\t\t\t\t\tinput.value = rsp.dataPoint.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput.unit = rsp.dataPoint.units;\r\n\t\t\t\t\tdl = this.ec.qaListList;\r\n\t\t\t\t\tdl.innerHTML = '';\r\n\t\t\t\t\tvList = input.dataPoint[input.dataPoint.units].list;\r\n\t\t\t\t\tfor (i = 0; i < vList.length; i++) {\r\n\t\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\t\toption.value = vList[i];\r\n\t\t\t\t\t\toption.text = vList[i];\r\n\t\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\t\t\tthis.ec.qaNumeric.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qaList.style.display = 'inline-block';\r\n\t\t\t\t\tthis.ec.qaSelect.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qaDate.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (rsp.dataPoint[rsp.dataPoint.units].type == 'Select') {\r\n\t\t\t\t\t\tinput = this.ec.qaSelectInput;\r\n\t\t\t\t\t\tinput.dataPoint = rsp.dataPoint;\r\n\t\t\t\t\t\tif (rsp.dataPoint.value) {\r\n\t\t\t\t\t\t\tinput.value = rsp.dataPoint.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinput.unit = rsp.dataPoint.units;\r\n\t\t\t\t\t\tdl = input;\r\n\t\t\t\t\t\tdl.innerHTML = '';\r\n\t\t\t\t\t\tvList = input.dataPoint[input.dataPoint.units].list;\r\n\t\t\t\t\t\tfor (i = 0; i < vList.length; i++) {\r\n\t\t\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\t\t\toption.value = vList[i];\r\n\t\t\t\t\t\t\toption.text = vList[i];\r\n\t\t\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\t\t\t\tthis.ec.qaNumeric.style.display = 'none';\r\n\t\t\t\t\t\tthis.ec.qaList.style.display = 'none';\r\n\t\t\t\t\t\tthis.ec.qaSelect.style.display = 'inline-block';\r\n\t\t\t\t\t\tthis.ec.qaDate.style.display = 'none';\r\n\t\t\t\t\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\t\t\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('Data Input is not implemented');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsetupDataPoint(dataPoint, units, newValue) {\r\n\t\tvar input, isIntegral, dl, precision, n, x, s, i, option, currentDate, y, m, d, ms, ds, vList, dStr2, valueMaps;\r\n\t\tif (dataPoint[units].type == 'Number') {\r\n\t\t\tinput = this.ec.qaNumber;\r\n\t\t\tisIntegral = false;\r\n\t\t\tinput.dataPoint = dataPoint;\r\n\t\t\tinput.min = input.dataPoint[units].min;\r\n\t\t\tinput.max = input.dataPoint[units].max;\r\n\t\t\tinput.step = input.dataPoint[units].step;\r\n\t\t\tinput.unit = units;\r\n\t\t\tif (input.dataPoint[units].integral) {\r\n\t\t\t\tisIntegral = true;\r\n\t\t\t}\r\n\t\t\tif (!input.value) {\r\n\t\t\t\tif (input.dataPoint.value)\r\n\t\t\t\t\tinput.value = input.dataPoint.value;\r\n\t\t\t\telse\r\n\t\t\t\t\tinput.value = '';\r\n\t\t\t}\r\n\t\t\tdl = this.ec.qaNumericList;\r\n\t\t\tdl.innerHTML = '';\r\n\t\t\tprecision = 0;\r\n\t\t\tif (input.step == 0.1) {\r\n\t\t\t\tprecision = 1;\r\n\t\t\t}\r\n\t\t\tn = parseFloat(input.min);\r\n\t\t\tx = parseFloat(input.max);\r\n\t\t\ts = parseFloat(input.step);\r\n\t\t\tvalueMaps = false;\r\n\t\t\tfor (i = n;\r\n\t\t\t\t(i <= x); i += s) {\r\n\t\t\t\toption = document.createElement('option');\r\n\t\t\t\toption.value = this.round(i, precision);\r\n\t\t\t\tif (option.value == input.value)\r\n\t\t\t\t\tvalueMaps = true;\r\n\t\t\t\tdl.appendChild(option);\r\n\t\t\t\tif (!isIntegral) {\r\n\t\t\t\t\tif (option.value.indexOf('.') < 0) {\r\n\t\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\t\toption.value = this.round(i, precision) + '.0';\r\n\t\t\t\t\t\tif (option.value == input.value)\r\n\t\t\t\t\t\t\tvalueMaps = true;\r\n\t\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!valueMaps)\r\n\t\t\t\tthis.ec.qaNumber.value = '';\r\n\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\tthis.ec.qaNumeric.style.display = 'inline-block';\r\n\t\t\tthis.ec.qaList.style.display = 'none';\r\n\t\t\tthis.ec.qaDate.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tif (dataPoint[dataPoint.units].type == 'Date') {\r\n\t\t\t\tinput = this.ec.qaDateInput;\r\n\t\t\t\tinput.dataPoint = dataPoint;\r\n\t\t\t\tinput.minDate = new Date(dataPoint[units].min);\r\n\t\t\t\tinput.maxDate = new Date(dataPoint[units].max);\r\n\t\t\t\tif (dataPoint.value) {\r\n\t\t\t\t\tinput.value = dataPoint.value;\r\n\t\t\t\t}\r\n\t\t\t\tdl = this.ec.qaDateList;\r\n\t\t\t\tdl.innerHTML = '';\r\n\t\t\t\tcurrentDate = input.minDate;\r\n\t\t\t\twhile (currentDate.getTime() < input.maxDate.getTime()) {\r\n\t\t\t\t\ty = currentDate.getFullYear();\r\n\t\t\t\t\tm = currentDate.getMonth() + 1;\r\n\t\t\t\t\td = currentDate.getDate();\r\n\t\t\t\t\tms = (m < 10) ? '0' + m : '' + m;\r\n\t\t\t\t\tds = (d < 10) ? '0' + d : '' + d;\r\n\t\t\t\t\tdStr2 = ms + '/' + ds + '/' + y;\r\n\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\toption.value = dStr2;\r\n\t\t\t\t\toption.text = dStr2;\r\n\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\tcurrentDate = currentDate.addDays(1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\t\tthis.ec.qaNumeric.style.display = 'none';\r\n\t\t\t\tthis.ec.qaList.style.display = 'none';\r\n\t\t\t\tthis.ec.qaDate.style.display = 'inline-block';\r\n\t\t\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\t} else {\r\n\t\t\t\tif (dataPoint[dataPoint.units].type == 'List') {\r\n\t\t\t\t\tinput = this.ec.qaListInput;\r\n\t\t\t\t\tinput.dataPoint = dataPoint;\r\n\t\t\t\t\tif (dataPoint.value) {\r\n\t\t\t\t\t\tinput.value = dataPoint.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput.unit = dataPoint.units;\r\n\t\t\t\t\tdl = this.ec.qaListList;\r\n\t\t\t\t\tdl.innerHTML = '';\r\n\t\t\t\t\tvList = input.dataPoint[units].list;\r\n\t\t\t\t\tfor (i = 0; i < vList.length; i++) {\r\n\t\t\t\t\t\toption = document.createElement('option');\r\n\t\t\t\t\t\toption.value = vList[i];\r\n\t\t\t\t\t\toption.text = vList[i];\r\n\t\t\t\t\t\tdl.appendChild(option);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ec.qadatapoint.style.display = 'block';\r\n\t\t\t\t\tthis.ec.qaNumeric.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qaList.style.display = 'inline-block';\r\n\t\t\t\t\tthis.ec.qaDate.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qaUnits.style.display = 'none';\r\n\t\t\t\t\tthis.ec.qanextbtn.inputControl = input;\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert('Data Input is not implemented');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\ttXeAtQuestion(rsp) {\r\n\t\tvar valueDataList, vm, vc, i, title, row, pf, node, textnode;\r\n\t\tif (this.ec.qanextbtn.inputControl) {\r\n\t\t\tthis.ec.qanextbtn.inputControl = undefined;\r\n\t\t}\r\n\t\tthis.ec.qadatapoint.style.display = 'none';\r\n\t\tthis.ec.qaContent.style.display = 'inline-block';\r\n\t\tif (rsp.rationale) {\r\n\t\t\tthis.ec.qareasoning.innerText = rsp.rationale;\r\n\t\t} else {\r\n\t\t\tthis.ec.qareasoning.innerText = '';\r\n\t\t}\r\n\t\tif (rsp.prompt) {\r\n\t\t\tthis.ec.qaprompt.innerText = rsp.prompt;\r\n\t\t} else {\r\n\t\t\tthis.ec.qaprompt.innerText = '';\r\n\t\t}\r\n\t\tif (rsp.hint) {\r\n\t\t\tthis.ec.qaassisttext.innerText = rsp.hint;\r\n\t\t} else {\r\n\t\t\tthis.ec.qaassisttext.innerText = '';\r\n\t\t}\r\n\t\tif (rsp.navigationMethods.includes('Next')) {\r\n\t\t\tthis.ec.qanextbtn.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qanextbtn.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.navigationMethods.includes('Yes')) {\r\n\t\t\tthis.ec.qayesbtn.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qayesbtn.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.navigationMethods.includes('No')) {\r\n\t\t\tthis.ec.qanobtn.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qanobtn.style.display = 'none';\r\n\t\t}\r\n\t\tif ((rsp.navigationMethods.includes('Previous')) && (!this.isFirstQuestion)) {\r\n\t\t\tthis.ec.qabackbtn.style.display = 'inline-block';\r\n\t\t} else {\r\n\t\t\tthis.isFirstQuestion = false;\r\n\t\t\tthis.ec.qabackbtn.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.demographics) {\r\n\t\t\tthis.demographics = rsp.demographics;\r\n\t\t\tvalueDataList = this.ec.qasessiondatalist;\r\n\t\t\tvalueDataList.innerHTML = \"\";\r\n\t\t\tvm = '';\r\n\t\t\tvc = 0;\r\n\t\t\tfor (i = 0; i < this.demographicsToShow.length; i++) {\r\n\t\t\t\tif (rsp.demographics.hasOwnProperty(this.demographicsToShow[i])) {\r\n\t\t\t\t\ttitle = this.demographicsTitles[i];\r\n\t\t\t\t\tvm = rsp.demographics[this.demographicsToShow[i]];\r\n\t\t\t\t\tif (this.demographicsToShow[i] == 'dob') {\r\n\t\t\t\t\t\tvm = this.dateToString(new Date(vm));\r\n\t\t\t\t\t}\r\n\t\t\t\t\trow = valueDataList.insertRow(-1);\r\n\t\t\t\t\trow.insertCell(0).innerHTML = title;\r\n\t\t\t\t\trow.insertCell(1).innerHTML = vm;\r\n\t\t\t\t\tvc++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rsp.positiveFindings) {\r\n\t\t\tthis.positiveFindings = rsp.positiveFindings;\r\n\t\t\tpf = this.ec.qaPositiveFindings;\r\n\t\t\tpf.innerHTML = \"\";\r\n\t\t\tfor (i = 0; i < rsp.positiveFindings.length; i++) {\r\n\t\t\t\tnode = document.createElement(\"LI\");\r\n\t\t\t\ttextnode = document.createTextNode(rsp.positiveFindings[i]);\r\n\t\t\t\tnode.appendChild(textnode);\r\n\t\t\t\tpf.appendChild(node);\r\n\t\t\t}\r\n\t\t\tthis.ec.qapositivehdr.style.display = 'block';\r\n\t\t\tpf.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qapositivehdr.style.display = 'none';\r\n\t\t\tthis.ec.qaPositiveFindings.style.display = 'none';\r\n\t\t}\r\n\t\tif (rsp.negativeFindings) {\r\n\t\t\tthis.positiveFindings = rsp.negativeFindings;\r\n\t\t\tpf = this.ec.qaNegativeFindings;\r\n\t\t\tpf.innerHTML = \"\";\r\n\t\t\tfor (i = 0; i < rsp.negativeFindings.length; i++) {\r\n\t\t\t\tnode = document.createElement(\"LI\");\r\n\t\t\t\ttextnode = document.createTextNode(rsp.negativeFindings[i]);\r\n\t\t\t\tnode.appendChild(textnode);\r\n\t\t\t\tpf.appendChild(node);\r\n\t\t\t}\r\n\t\t\tthis.ec.qanegativehdr.style.display = 'block';\r\n\t\t\tpf.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tthis.ec.qanegativehdr.style.display = 'none';\r\n\t\t\tthis.ec.qaNegativeFindings.style.display = 'none';\r\n\t\t}\r\n\t\tif ((rsp.positiveFindings) || (rsp.negativeFindings)) {\r\n\t\t\tthis.ec.findingscontainer.style.visibility = 'visible';\r\n\t\t} else {\r\n\t\t\tthis.ec.findingscontainer.style.visibility = 'hidden';\r\n\t\t}\r\n\t\tif (rsp.values) {\r\n\t\t\tthis.values = rsp.values;\r\n\t\t\tvalueDataList = this.ec.valuedatalist;\r\n\t\t\tvalueDataList.innerHTML = \"\";\r\n\t\t\tvm = '';\r\n\t\t\tvc = 0;\r\n\t\t\tfor (i = 0; i < this.valuesAndMeasuresToShow.length; i++) {\r\n\t\t\t\tif (rsp.values.hasOwnProperty(this.valuesAndMeasuresToShow[i])) {\r\n\t\t\t\t\ttitle = this.valuesAndMeasuresTitles[i];\r\n\t\t\t\t\tif (this.valuesAndMeasuresUnits.hasOwnProperty(this.valuesAndMeasuresToShow[i]))\r\n\t\t\t\t\t\tvm = rsp.values[this.valuesAndMeasuresToShow[i]] + ' ' + this.valuesAndMeasuresUnits[this.valuesAndMeasuresToShow[i]];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tvm = rsp.values[this.valuesAndMeasuresToShow[i]];\r\n\t\t\t\t\tif (typeof rsp.values[this.valuesAndMeasuresToShow[i]].getMonth === 'function')\r\n\t\t\t\t\t\tvm = this.dateToString(vm);\r\n\t\t\t\t\trow = valueDataList.insertRow(-1);\r\n\t\t\t\t\trow.insertCell(0).innerHTML = title;\r\n\t\t\t\t\trow.insertCell(1).innerHTML = vm;\r\n\t\t\t\t\tvc++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (vc > 0) {\r\n\t\t\t\tthis.ec.valuecontainer.style.visibility = 'visible';\r\n\t\t\t} else {\r\n\t\t\t\tthis.ec.valuecontainer.style.visibility = 'hidden';\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tthis.ec.valuecontainer.style.visibility = 'hidden';\r\n\t\t}\r\n\t}\r\n\thandleLibraryClick(event) {\r\n\t\talert('library is not implemented yet: ' + event.currentTarget.topic);\r\n\t}\r\n\ttXeOnError(rsp) {\r\n\t\talert('Error: ' + JSON.stringify(rsp, null, 2));\r\n\t}\r\n\tonDateKeypress(e) {\r\n\t\tvar input = e.target;\r\n\t\tvar pressedKey = String.fromCharCode(e.which);\r\n\t\tvar iv = input.value + pressedKey;\r\n\t\tvar listId = e.target.attributes.list.value;\r\n\t\tif (!this.isValidDataListPartialValue(listId, iv)) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tonHeightKeypress(e) {\r\n\t\tvar input = e.target;\r\n\t\tvar pressedKey = String.fromCharCode(e.which);\r\n\t\tvar parsedVal = parseInt(pressedKey);\r\n\t\tvar nan = isNaN(parsedVal);\r\n\t\tvar iv = input.value;\r\n\t\tvar il = input.value.length;\r\n\t\tvar validValues = input.attributes.list.value;\r\n\t\tif (il === 0) {\r\n\t\t\tif (nan) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.isValidDataListPartialValue(validValues, pressedKey)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t} else if (il == 1) {\r\n\t\t\tif ((pressedKey == \"'\") || (pressedKey == \" \")) {\r\n\t\t\t\tinput.value = input.value + \"'\";\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (nan) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tiv = iv + \"'\" + pressedKey;\r\n\t\t\tif (!this.isValidDataListPartialValue(validValues, iv)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tinput.value = iv;\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t} else if ((il == 2) || (il == 3)) {\r\n\t\t\tif (nan) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tiv = iv + pressedKey;\r\n\t\t\tif (!this.isValidDataListPartialValue(validValues, iv)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tinput.value = iv;\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t\treturn;\r\n\t}\r\n\tonNumberKeypress(e) {\r\n\t\tvar input = e.target;\r\n\t\tvar pressedKey = String.fromCharCode(e.which);\r\n\t\tif ((pressedKey === '.') && (input.step >= 1)) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (pressedKey != '.') {\r\n\t\t\tvar parsedVal = parseInt(pressedKey);\r\n\t\t\tvar nan = isNaN(parsedVal);\r\n\t\t\tif (nan) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar iv;\r\n\t\tif (input.selectionStart == input.selectionEnd) {\r\n\t\t\tiv = input.value + pressedKey;\r\n\t\t} else {\r\n\t\t\tiv = input.value.substring(input.selectionEnd) + pressedKey;\r\n\t\t}\r\n\t\tvar listId = e.target.attributes.list.value;\r\n\t\tif (!this.isValidDataListPartialValue(listId, iv)) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tisValidDataListPartialValue(listId, value) {\r\n\t\tvar listElement = this.shadowRoot.getElementById(listId);\r\n\t\tfor (var i = 0; i < listElement.options.length; i++) {\r\n\t\t\tvar oVal = listElement.options[i].value;\r\n\t\t\tif (oVal.startsWith(value)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tstringToDate(s) {\r\n\t\tvar m = s.substring(0, 2);\r\n\t\tvar d = s.substring(3, 5);\r\n\t\tvar y = s.substring(6, 10);\r\n\t\treturn new Date(parseInt(y), parseInt(m) - 1, parseInt(d));\r\n\t}\r\n\tdateToString(d) {\r\n\t\tif (!(d instanceof Date))\r\n\t\t\treturn '';\r\n\t\tvar m = (d.getMonth() + 1).toString();\r\n\t\tif (m.length < 2)\r\n\t\t\tm = '0' + m;\r\n\t\tvar dy = d.getDate().toString();\r\n\t\tif (dy.length < 2)\r\n\t\t\tdy = '0' + dy;\r\n\t\tvar y = (d.getYear() + 1900).toString();\r\n\t\treturn m + '/' + dy + '/' + y;\r\n\t}\r\n\tcontrolTemplate() {\r\n\t\treturn '<style>' +\r\n\t\t\t'#doneInstructionsLink { ' +\r\n\t\t\t'border-radius: 5px; ' +\r\n\t\t\t'}' +\r\n\t\t\t'#doneInstructionsLink:hover { ' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'cursor: hand;' +\r\n\t\t\t'}' +\r\n\t\t\t'#instructionLinkSection {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#visitInstructionsLink { ' +\r\n\t\t\t'border-radius: 5px; ' +\r\n\t\t\t'}' +\r\n\t\t\t'#visitInstructionsLink:hover { ' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'cursor: hand;' +\r\n\t\t\t'}' +\r\n\t\t\t'#instructionLinkSection { ' +\r\n\t\t\t'margin-bottom: 10px; ' +\r\n\t\t\t'border-radius: round; ' +\r\n\t\t\t'}' +\r\n\t\t\t'#copyInstructionsLink:hover { ' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'cursor: hand;' +\r\n\t\t\t'}' +\r\n\t\t\t'#copyInstructionsLink { ' +\r\n\t\t\t'margin-top: 10px; ' +\r\n\t\t\t'border-radius: 5px; ' +\r\n\t\t\t'}' +\r\n\t\t\t'#instructionList { ' +\r\n\t\t\t'  list-style-type: none;' +\r\n\t\t\t'  border-style: solid;' +\r\n\t\t\t'  border-width: 1px;' +\r\n\t\t\t'  border-color: black;' +\r\n\t\t\t'  padding: 0px;' +\r\n\t\t\t'  margin: 4px;' +\r\n\t\t\t'  border-radius: 8px;' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList li {' +\r\n\t\t\t'  padding: 4px; ' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList li:first-child {' +\r\n\t\t\t'  border-top-left-radius: 8px;' +\r\n\t\t\t'  border-top-right-radius: 8px;' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList li:last-child {' +\r\n\t\t\t'  border-bottom-left-radius: 8px;' +\r\n\t\t\t'  border-bottom-right-radius: 8px;' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList :nth-child(odd) { ' +\r\n\t\t\t'  background-color: whitesmoke;' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList :nth-child(even) { ' +\r\n\t\t\t'  background-color: gainsboro;' +\r\n\t\t\t'}' +\r\n\t\t\t'ul#instructionList li:hover { ' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txcRsltsDSHelpPopup { ' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txcRsltsDSHelpTitle {' +\r\n\t\t\t'background: lightgray;' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'padding: 10px;' +\r\n\t\t\t'font-size: larger;' +\r\n\t\t\t'text-align: center;' +\r\n\t\t\t'margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txcRsltsDSHelpBack {' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'float: right;' +\r\n\t\t\t'border-style: none;' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txcRsltDSSubTitle {' +\r\n\t\t\t'font-weight: bold;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCMEcp {' +\r\n\t\t\t'margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCMEcpLink {' +\r\n\t\t\t'font-size: small;' +\r\n\t\t\t'margin-left: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.modal {' +\r\n\t\t\t'    position: fixed;' +\r\n\t\t\t'    top: 0;' +\r\n\t\t\t'    left: 0;' +\r\n\t\t\t'    bottom: 0;' +\r\n\t\t\t'    right: 0;' +\r\n\t\t\t'    display: none;' +\r\n\t\t\t'    overflow: auto;' +\r\n\t\t\t'    background-color: #000000;' +\r\n\t\t\t'    background-color: rgba(0, 0, 0, 0.7);' +\r\n\t\t\t'    z-index: 9999;' +\r\n\t\t\t'}' +\r\n\t\t\t'.modal-window {' +\r\n\t\t\t'    position: relative;' +\r\n\t\t\t'    background-color: #FFFFFF;' +\r\n\t\t\t'    width: fit-content;' +\r\n\t\t\t'    margin: 10% auto;' +\r\n\t\t\t'    padding: 20px;' +\r\n\t\t\t'    border-radius: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.modal-window.small {' +\r\n\t\t\t'    width: 30%;' +\r\n\t\t\t'}' +\r\n\t\t\t'.modal-window.large {' +\r\n\t\t\t'    width: 75%;' +\r\n\t\t\t'}' +\r\n\t\t\t'.close {' +\r\n\t\t\t'    position: absolute;' +\r\n\t\t\t'    top: 0;' +\r\n\t\t\t'    right: 0;' +\r\n\t\t\t'    color: rgba(0,0,0,0.3);' +\r\n\t\t\t'    height: 30px;' +\r\n\t\t\t'    width: 30px;' +\r\n\t\t\t'    font-size: 30px;' +\r\n\t\t\t'    line-height: 30px;' +\r\n\t\t\t'    text-align: center;' +\r\n\t\t\t'}' +\r\n\t\t\t'.close:hover,' +\r\n\t\t\t'.close:focus {' +\r\n\t\t\t'    color: #000000;' +\r\n\t\t\t'    cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.open {' +\r\n\t\t\t'    display: block;' +\r\n\t\t\t'}' +\r\n\t\t\t'.cpLink:hover {' +\r\n\t\t\t'cursor: default;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMVerbal:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctInput {' +\r\n\t\t\t'width: 60px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#controlContainer.wait, #controlContainer.wait *{' +\r\n\t\t\t'cursor: wait !important;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCMScsValue {' +\r\n\t\t\t'font-weight: bold;' +\r\n\t\t\t'}' + '#txResultsCMDcsValue {' +\r\n\t\t\t'font-weight: bold;' +\r\n\t\t\t'}' + '#txResultsCMPesValue {' +\r\n\t\t\t'font-weight: bold;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMDescription:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMVerbal input {' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMVerbal label {' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMVerbal {' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'background-color: #F0F0F0;' +\r\n\t\t\t'width: 75px;' +\r\n\t\t\t'margin: 5px;' +\r\n\t\t\t'padding: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txCMDescription {' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'background-color: #F0F0F0;' +\r\n\t\t\t'margin: 5px;' +\r\n\t\t\t'padding: 5px;' +\r\n\t\t\t'border: 2px solid transparent;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCM {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctLibraryPopup {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'width: fit-content;' +\r\n\t\t\t'position: absolute;' +\r\n\t\t\t'padding: 10px;' +\r\n\t\t\t'background-color: #F0F0F0;' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctImgCtr {' +\r\n\t\t\t'width: unset;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctImageContainer {' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctImageBack {' +\r\n\t\t\t'position: absolute;' +\r\n\t\t\t'top:5px;' +\r\n\t\t\t'right:5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctlist {' +\r\n\t\t\t'   list-style-type: disc;' +\r\n\t\t\t'   margin-left: 40px;' +\r\n\t\t\t'   margin-top: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctImage {' +\r\n\t\t\t'   margin-bottom: 2px;' +\r\n\t\t\t'   margin-top: 2px;' +\r\n\t\t\t'   text-align: center;' +\r\n\t\t\t'   max-width: 480px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctImages {' +\r\n\t\t\t'   font-weight: normal !important;' +\r\n\t\t\t'   cursor: pointer;' +\r\n\t\t\t'   text-decoration: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctImages:hover {' +\r\n\t\t\t'   text-decoration: underline;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctImageThumbs {' +\r\n\t\t\t'   text-align: center;' +\r\n\t\t\t'margin-left: 3px;' +\r\n\t\t\t'margin-top: 3px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctImageThumb {' +\r\n\t\t\t'   width: 64px;' +\r\n\t\t\t'   padding: 1px;' +\r\n\t\t\t'   border-width: 1px;' +\r\n\t\t\t'   cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctImageThumbWrapper {' +\r\n\t\t\t'   display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'#tctLibraryBack {' +\r\n\t\t\t'position: absolute;' +\r\n\t\t\t'top:15px;' +\r\n\t\t\t'right:15px;' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'border-width: 1px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctColumn {' +\r\n\t\t\t'   float: left;' +\r\n\t\t\t'   padding: 1px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctLeft {' +\r\n\t\t\t'   width: 70px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctRight {' +\r\n\t\t\t'   width: 480px;' +\r\n\t\t\t'   vertical-align: middle;' +\r\n\t\t\t'   text-align: center;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctRow {' +\r\n\t\t\t'   background-color: lightgray;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctRow:after {' +\r\n\t\t\t'   content: \"\";' +\r\n\t\t\t'   display: table;' +\r\n\t\t\t'   clear: both;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctImageThumb:hover {' +\r\n\t\t\t'   background-color: blue;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymDir {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymSysConcern {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymPr {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'a.tctImages:visited {' +\r\n\t\t\t'color: #38c;' +\r\n\t\t\t'}' +\r\n\t\t\t'a.tctImages {' +\r\n\t\t\t'color: #38c;' +\r\n\t\t\t'text-decoration: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tctList {' +\r\n\t\t\t'list-style-type: disc;' +\r\n\t\t\t'margin-left: 40px;' +\r\n\t\t\t'margin-top: 5px;' +\r\n\t\t\t'margin-bottom: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCMRecTcLbl {' +\r\n\t\t\t'display: inline-block;' +\r\n\t\t\t'margin-right: 10px;' +\r\n\t\t\t'margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymRecTcLbl {' +\r\n\t\t\t'display: inline-block;' +\r\n\t\t\t'margin-right: 10px;' +\r\n\t\t\t'margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymRecVcCtr {' +\r\n\t\t\t'border-radius: 10px;' +\r\n\t\t\t'background-color: #FAFAFA;' +\r\n\t\t\t'vertical-align: middle;' +\r\n\t\t\t'width: fit-content;' +\r\n\t\t\t'padding:10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsSymRecVcIns {' +\r\n\t\t\t'font-style: italic;' +\r\n\t\t\t'margin-left: 20px;' +\r\n\t\t\t'font-size: smaller;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResultsCMVcIns {' +\r\n\t\t\t'font-style: italic;' +\r\n\t\t\t'margin-left: 20px;' +\r\n\t\t\t'font-size: smaller;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txResulstSym {' +\r\n\t\t\t'width: 100%;' +\r\n\t\t\t'}' +\r\n\t\t\t'#cvc {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#rdemobtn {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#rfindingsbtn {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#rvaluebtn {' +\r\n\t\t\t'display: none;' +\r\n\t\t\t'}' + '.loader {' +\r\n\t\t\t'  border: 16px solid #f3f3f3; /* Light grey */' +\r\n\t\t\t'  border-top: 16px solid #3498db; /* Blue */' +\r\n\t\t\t'  border-radius: 50%;' +\r\n\t\t\t'  width: 120px;' +\r\n\t\t\t'  height: 120px;' +\r\n\t\t\t'  animation: spin 2s linear infinite;' +\r\n\t\t\t'}' +\r\n\t\t\t'@keyframes spin {' +\r\n\t\t\t'  0% { transform: rotate(0deg); }' +\r\n\t\t\t'  100% { transform: rotate(360deg); }' +\r\n\t\t\t'}' +\r\n\t\t\t'.rtbtn {' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rtbtn:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltlist {' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'font-size: .9em !important;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltlist:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.pibtn:hover {' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ui-ccbtn {' +\r\n\t\t\t'cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ui-ccbtn:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.warningIcon {' +\r\n\t\t\t'padding: 5px;' +\r\n\t\t\t'float: left;' +\r\n\t\t\t'vertical-align:middle;' +\r\n\t\t\t'display: inline-block;' +\r\n\t\t\t'width :59px;' +\r\n\t\t\t'height :50px;' +\r\n\t\t\t'background-repeat : no-repeat;' +\r\n\t\t\t'background-image : url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAAyCAIAAABtSDQsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAbfSURBVGhDzZldTFRHGIYHEqN4YwLGxKRY9cooamKqbS+srUaNiUmrbbxRBOIFjRITLxpqqq0t2lqkwSBqA9QVJWl1waZEgcpPqSLlZ1FBlv3fBRG34AIV1JSEdvvunm91mZmze3bZJrx5Y2Bmzvc9zJnvnDMj63nQE0ObrY7OOy0lKSvzGCtOSels+gMt3JhpOqbERrO1t/8EY98ydsr/73HGrK6HaOdHTsOxJHYMDpdt3PQNY5hgxfj58rvvOYeGuZHTccyIzRaHoarmK//sviTGz2gxXK+O4dqIGbFr5Gl+QkJuEK5itOTPno1ebnzUjg2xrW+gKvswVjCHqxjtVZ9k2x4OcFdF51gQG80WqwNFFrwego32HMbMFrupx8JfG7ljQOz0jOrWvXlSAA02ei+8sRYjuWuj8HSJzTZni76CKzjRSgm2XNFjPBchUk+X2OUZzYuLEwtOtDIG47kIkXpaxLb+x5UHstQKTvTXjP3y8X7bIzcXJyJHT6yUEUoq9HoItlKCPV3d0ynB6Ildw0+Ll6+QFhzm8pj/X64dxqu7aNkyXMtF0+4oiS12V9OFUhQTBwRjFqvT0194PDUZGfiZ64XRePuHCxZ7LxdTo6Mi7jY5Bz2oJLHgMOVnk5K8AZ1dsEC8CbgKM40IiMNH1uBoiO0Df1bsTRNvOpbpEcbGBwaI1+t95najRVzouLZ8T6p9YJCLrMURE5tM1u72u9IHMF57VampAB0fHzcajQp0VVoa2rmRuBYRHrQZEI2LH9YRE7tGx84vWoTbykHgXoMMiO9s2MAC2puWhhY8/sT1gwjnXktGNC5+WEdGbHH2NRYUik80/PoFYw+vX2++e5dgA7pRX/+ouhq94j1BnN9OFyAmlyW0IyHuNtkfD6KSxNxoLFq8GNOp1+uJNKCcnBy0Fy9dKpYg4uCTH1URUQlGQOxwD13ZsTN4i/EyMcrr77ExkNXX1xNpQAUFBWifGB+XliCi/fT+Bw73Ey5XCGslNplt9281qRVcXVYWsKCOjg4iDUin0yld9QcPio9nREPM+423EJ/LqGatxL2jY2fmz5cWHOZJYYL6+vqINKCKigrq83oxUlqCZxKTtJegJmKrq7/2xEnxIQV/zlhvbS0Reb3Pnz8n0oAaGhqoz+vtravDeC4CjMg3c05gH87llVoDsdFs63uEZ750FV5ctYpwAiLSgLBOqMOv0tWrpZWAJ6ANxBrOCcITOwY9ZZs3S9Ngwv6ZnCSWgIg0IIfDQR1+/Ts5iaukf3zZxk2OwfDnBGGIsTnrqKn9UpYDFdN05AiBBIlIAxoZGaGOgJqOHsW1XDTERxZD1a/IyDFwDkPsGhk7PXeutFyQgxCmas6cOQTrF7VOFa6VFnF+QkLYc4JQxFi+1Yc/E7cYyHeUMXdrK+WfquTkZIL1i1qnyt3WhgjiffOdE2R/ausLdU6gTow9vc2JKhbjogp/XL+ekgtas2YNwfpFrYIQQfr1h4y+AySj6iZFldj5ZPTiW29LX634SKC0Mm3bto1g/aJWmaQfG8ioW7cuxDmBnBh79Nbyn6VvONRH+6lTlFOmffv2ESxjWNPUKlN7Xh6icfGREXlbrlaonRPIiV2ev76Lj5cWXH5ICOj4cdxY0sKFC6lVRYgmLcG8uDi1cwIJsW9Pn3VQWnD4mhk2mymbinp6eoiXsUOHDlGrihBN+oWE7JX7D9j6JecEPLFvX95tEr+AlSjXtm+nVCF16dKlxMTEzMxM+j2kEFM6O2AgnqmEPDH25SUpKdKCw5qjJLGW9A0FhuLly8XH8xRi7OnvlF4WX0jwMcY6i4spQzhNTEzk5uaWlJTQ7+HUWVSE+FxG2Pda1ZWCKhgyiBh7+qFhrHqx4PDnBu/pQ8tgMNAq9otaw6kwKUm8sQqM7z8lgjYpr4ixe7mWnqFlTx9as2bNIli/srOzqSOkEF9aguCpSE3z7aw4Yt+e3nBP+gBGWdzYs4cCaxCRBrRr1y7qCKcbu3dLSxBUD9o7Xp4TEDG+eL5fskR8NOICRKGQ2pSenk6wftXV1VGHBiGXOGWgOr/odRC+Isb++/fCc+ImDPat6fh4iqdZGZmZYE2YN69Mr6cmbVI7igZbY0Ghck7AsKgdKnt6xVhJ5Vu32isrLXq9FlvLyz0NDS9aWp41Nz+uqeF61Yz4+i1bxCpSDDYQ+k69uk3M7h66+uFH4hYj2OjFYvq/HZbhyo6dDvcQ62ppw2i1CZ45BiE4u5pbmW7tWrHgZqbBqXtjra+2Zv4EKwYnaFlJykrxZTMzDc6SFSnMeK9LWSL4qp3JBiGgQcvwLsGL+17jbUP1TUNN7Qx19U0QOodGTCbrf71os5yvURy/AAAAAElFTkSuQmCC)' +\r\n\t\t\t'}' +\r\n\t\t\t'#warningContent {' +\r\n\t\t\t'  margin-top: 10px;' +\r\n\t\t\t'  margin-bottom: 5px;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'  font-weight: bold;' +\r\n\t\t\t'  background-color: #D6D3D6; ' +\r\n\t\t\t'  text-shadow: none;' +\r\n\t\t\t'  min-height: 50px;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.warningText {' +\r\n\t\t\t'}' +\r\n\t\t\t'.vcimage {' +\r\n\t\t\t'vertical-align: text-bottom;' +\r\n\t\t\t'display: inline-block;' +\r\n\t\t\t'width :20px;' +\r\n\t\t\t'height :20px;' +\r\n\t\t\t'margin-right: 5px;' +\r\n\t\t\t'background-repeat : no-repeat;' +\r\n\t\t\t'background-image : url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAFGUlEQVQ4T3WVb0xTVxyG32vvvb0tLS20vdS2KKVWwAEqIggjCDJLNl0yMxcX0Q8So5NIMuMHBeMKTIaKMVEnSrIwjSFhW4h/SozTaNwYBpsg2hJdIMORFaVQaGvpH0pvu9wandPtd76dnPPk5Jzf+xwC/110dnb22oKCgvV5eXmZKpVKyS+bnJz02Gy2Ybvdfufp06e3nU6n/+3txNsTer2+tKam5kBlZeU6hULBRKNRzM3NIRKJIBaLYX5+Hl6vl7NarfcuXrzYarPZLG8y/gUsLy/f1draejQ9PT0pEAhgbGwMdrsdz58/jwPlcjnS0tKg0WggEAjgdrtDbW1tRywWy1EAHA9+DSwrK9vZ3t7exrIs5XA40NnZiWvXrmF8fAzz4XksEJBgGBFYlkVh4RpUVlZCpVKB4zicOXPGbLFYml4DjUZj6aVLl3qMRqN0ZGQEdXV1uHv3LgjEwIgkIKlERCIhkCRACfiDENCnL0F1dTX0ej38fv98Q0PDtqGhoR/5EzItLS1Xq6urTS6XC/v27cOtWzchokUwFnwOqXY9fC/cmPizHyHPGIKeEUiZMERiITSaVOzZ8wVSUlIwMDDw8PDhwxWEXq83dXV19Wg0GqqjowNNjY0gFpAwn+uAbPmnONf8A9wOO8LBSXAhH7jwLMK+cSQxHkgkQhQWFmPz5s0IhUI4fvz4DqKqquqE2Wze7/F4UFNTg8HBAWgMJnz29XlY7/wC280eENwsEIuCYKRYIKDBhQOIzDyBVhVFUlIytm3fDq1Wi8uXL3cSTU1Nlq1bt260Wq34snYvfIEgln/4Ldz+OTie/IwEEQ0IxYiCQjQwDVIsh4BKQHB6GHJiFCqlHBUVHyA/Px8PHjzoJ06fPt1nMpmKr1+/jsbGBnAxEpqVe+HzueCbHAYtUYDN+wjyVB3cjx8hPDUJMjEF0ZAHnOMKtAsZrFixGiUl72N0dPQxcfLkyTjwxo0baPnmCELhGIRsGTh+hIOgxQpoSz5B7sclmBn8C7MOL2ISNYhgAFP9dVAnR5GTuwpFRWteAg8ePGjZsmXLxsHBQZjNX+HFCx844RLEyAQIKAYkJYJMm4XF75VAt2gRvDERxCoN3I/6MdV7CCybgNUFRcjJyeFfup/YsGHDifr6+v2zs7NoaDBjZPh3+IMkIDGAFidCJE+DSKKBQpsNVXYucktSoWMZdNUfAjn9K5KVKpSVl0OtVqO7u7uTYFnWdPbs2R6tVktduXIVHR3fgaYoTPtpUJJ0yLV5kKRkQ5m+GotXLsHa4hhGLD/hXvf3UKgkSE1djKKiIoTDYTQ3N++IN/bu3buvVlVVmXw+Hx8jDA3ZIBCQ8PgIEAkGyBaugHJRPiSyGCJTfcD0ENSsHIxYiuLi4nhj9/b2Pjx16lRFPMtyubz02LFjPRkZGdJnz57hwoULGB39AzRNIcrFECNI0BQDmgRkiWJI5UmQSBOxKi8v3n9utzsevYmJiXj04rV06dKd9fX1bTqdjnLPzOC3vj7YbDYEgwFQFAmKJCFkGIjFEuh0OmRmZsblwN89L4eBgYF/5PAKajAYdtXW1h7NyspK4i3CZ3t8fBx8ingXSqVSKJVKKBUK0EIhHA5HqL29/YjNZntXX6+gDMOUbtq06UBpaek6tVrN0DQNXrI8kCCIuBedTid3//79exaLpdXlcv2/YN8wLy2TydYuW7ZsvcFgyFAoFMkEQRBer9c78rLuOJ3O2wDe+QL+BgTFFZTcqBu6AAAAAElFTkSuQmCC)' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#sessionNote {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'body, input, select, txtarea, button {' +\r\n\t\t\t'  font-size: 1em !important;' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif !important;' +\r\n\t\t\t'}' +\r\n\t\t\t'#educationlog {' +\r\n\t\t\t'width: 100%;' +\r\n\t\t\t'height: 75px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#notebody {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  overflow: hidden visible;' +\r\n\t\t\t'  overflow-wrap: break-word;' +\r\n\t\t\t'  resize: none;' +\r\n\t\t\t'  overflow-y: auto;' +\r\n\t\t\t'  font-size: .95em !important;' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif !important;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  border-style: solid;' +\r\n\t\t\t'}' +\r\n\t\t\t'.pibtn {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  text-align: left;' +\r\n\t\t\t'    white-space: nowrap;' +\r\n\t\t\t'    border-radius: 5px;' +\r\n\t\t\t'    border-style: solid;' +\r\n\t\t\t'    font-size: 12pt;' +\r\n\t\t\t'    padding: 5px;    ' +\r\n\t\t\t'    cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#picltable {' +\r\n\t\t\t'    display: table;' +\r\n\t\t\t'    width: 100%;' +\r\n\t\t\t'    border-collapse: separate;' +\r\n\t\t\t'    border-spacing: .5em;' +\r\n\t\t\t'}' +\r\n\t\t\t'.trow {' +\r\n\t\t\t'    display: table-row;' +\r\n\t\t\t'    width: 100%;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb {' +\r\n\t\t\t'    cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb input {' +\r\n\t\t\t'    cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb input:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb label:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' + '.tcb label {' +\r\n\t\t\t'    cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcb {' +\r\n\t\t\t'    white-space: nowrap;' +\r\n\t\t\t'    border-radius: 10px;' +\r\n\t\t\t'    background-color: #f6f6f6;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tcell {' +\r\n\t\t\t'    display: table-cell;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab ul {' +\r\n\t\t\t'  list-style-type: none;' +\r\n\t\t\t'  margin: 0;' +\r\n\t\t\t'  padding: 0;' +\r\n\t\t\t'}' +\r\n\t\t\t'#sysconcerncontainer {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#recommendationscontainer {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#predicteresourcescontainer {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#picontainer {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piclcontainer {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab button:hover {' +\r\n\t\t\t'  background-color: #ededed;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab .active {' +\r\n\t\t\t'  background-color: #38c;' +\r\n\t\t\t'  color: white;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab .disabled {' +\r\n\t\t\t'  background-color: inherit;' +\r\n\t\t\t'  color: #333;' +\r\n\t\t\t'  cursor: inherit;' +\r\n\t\t\t'  opacity: .3;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab button {' +\r\n\t\t\t'  background-color: #f6f6f6;' +\r\n\t\t\t'  color: black;' +\r\n\t\t\t'  padding: 10px;' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  border: none;' +\r\n\t\t\t'  outline: none;' +\r\n\t\t\t'  text-align: Left;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  font-size: 16px;' +\r\n\t\t\t'  font-weight: bold;' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab .buttonTop {' +\r\n\t\t\t'  border-top-left-radius: 10px;' +\r\n\t\t\t'  border-bottom: 1px solid gray;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab .buttonBottom {' +\r\n\t\t\t'  border-bottom-left-radius: 10px;' +\r\n\t\t\t'  border-top: 1px solid gray;' +\r\n\t\t\t'}' +\r\n\t\t\t'.content {' +\r\n\t\t\t'  vertical-align: top;' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'  width: 80%;' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif;' +\r\n\t\t\t'}' +\r\n\t\t\t'.tab {' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'.contentPanel {' +\r\n\t\t\t'  vertical-align: top;' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.contentPanel#mmContent input {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'' +\r\n\t\t\t'}' +\r\n\t\t\t'.mmDisplayList ul {' +\r\n\t\t\t'}' +\r\n\t\t\t'#mmList {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  list-style: none;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  box-shadow: 0 0 1px 1px white;' +\r\n\t\t\t'  padding-left: 0;' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  font-family: sans-serif;' +\r\n\t\t\t'  font-weight: 700;' +\r\n\t\t\t'  font-size: 14px;' +\r\n\t\t\t'  white-space: nowrap;' +\r\n\t\t\t'  background-clip: padding-box;' +\r\n\t\t\t'  background-color: #f6f6f6;' +\r\n\t\t\t'}' +\r\n\t\t\t'#mmList li {' +\r\n\t\t\t' border-bottom: 1px solid #ddd;' +\r\n\t\t\t' padding-left: 16px;' +\r\n\t\t\t' padding-right: 16px;' +\r\n\t\t\t' padding-top: 6px;' +\r\n\t\t\t' padding-bottom: 6px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#mmlist li:hover {' +\r\n\t\t\t'  background-color: #e8e8e8;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#mmList li:last-child {' +\r\n\t\t\t' border-bottom: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#mmInput {' +\r\n\t\t\t'  font-size: 16px;' +\r\n\t\t\t'  padding-left: 32px;' +\r\n\t\t\t'  height: 30px;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIzMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGUvPjxkZXNjLz48ZGVmcy8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgZmlsbD0iIzkyOTI5MiIgaWQ9Imljb24tMTExLXNlYXJjaCI+PHBhdGggZD0iTTE5LjQyNzExNjQsMjAuNDI3MTE2NCBDMTguMDM3MjQ5NSwyMS40MTc0ODAzIDE2LjMzNjY1MjIsMjIgMTQuNSwyMiBDOS44MDU1NzkzOSwyMiA2LDE4LjE5NDQyMDYgNiwxMy41IEM2LDguODA1NTc5MzkgOS44MDU1NzkzOSw1IDE0LjUsNSBDMTkuMTk0NDIwNiw1IDIzLDguODA1NTc5MzkgMjMsMTMuNSBDMjMsMTUuODQ3MjEwMyAyMi4wNDg2MDUyLDE3Ljk3MjIxMDMgMjAuNTEwNDA3NywxOS41MTA0MDc3IEwyNi41MDc3NzM2LDI1LjUwNzc3MzYgQzI2Ljc4MjgyOCwyNS43ODI4MjggMjYuNzc2MTQyNCwyNi4yMjM4NTc2IDI2LjUsMjYuNSBDMjYuMjIxOTMyNCwyNi43NzgwNjc2IDI1Ljc3OTYyMjcsMjYuNzc5NjIyNyAyNS41MDc3NzM2LDI2LjUwNzc3MzYgTDE5LjQyNzExNjQsMjAuNDI3MTE2NCBMMTkuNDI3MTE2NCwyMC40MjcxMTY0IFogTTE0LjUsMjEgQzE4LjY0MjEzNTgsMjEgMjIsMTcuNjQyMTM1OCAyMiwxMy41IEMyMiw5LjM1Nzg2NDE3IDE4LjY0MjEzNTgsNiAxNC41LDYgQzEwLjM1Nzg2NDIsNiA3LDkuMzU3ODY0MTcgNywxMy41IEM3LDE3LjY0MjEzNTggMTAuMzU3ODY0MiwyMSAxNC41LDIxIEwxNC41LDIxIFoiIGlkPSJzZWFyY2giLz48L2c+PC9nPjwvc3ZnPg==\") no-repeat left center;' +\r\n\t\t\t'}' +\r\n\t\t\t'input[type=text], textarea {' +\r\n\t\t\t'  -webkit-transition: all 0.30s ease-in-out;' +\r\n\t\t\t'  -moz-transition: all 0.30s ease-in-out;' +\r\n\t\t\t'  -ms-transition: all 0.30s ease-in-out;' +\r\n\t\t\t'  -o-transition: all 0.30s ease-in-out;' +\r\n\t\t\t'  outline: none;' +\r\n\t\t\t'  padding: 3px 0px 3px 3px;' +\r\n\t\t\t'  margin: 5px 1px 3px 0px;' +\r\n\t\t\t'  border: 1px solid #DDDDDD;' +\r\n\t\t\t'}' +\r\n\t\t\t' ' +\r\n\t\t\t'input[type=text]:focus, textarea:focus {' +\r\n\t\t\t'  box-shadow: 0 0 5px rgba(81, 203, 238, 1);' +\r\n\t\t\t'  padding: 3px 0px 3px 3px;' +\r\n\t\t\t'  margin: 5px 1px 3px 0px;' +\r\n\t\t\t'  border: 1px solid rgba(81, 203, 238, 1);' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#qaContent {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  font-size: .95em;' +\r\n\t\t\t'}' +\r\n\t\t\t'.qaDataPoint {' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'  margin-bottom: 20px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qaNumeric {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qaNumber {' +\r\n\t\t\t'  min-width: 100px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qaDate {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qaList {' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qaUnits {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#qaassisttext {' +\r\n\t\t\t'  display: table;' +\r\n\t\t\t'  margin: 10px auto;' +\r\n\t\t\t'  padding: 5px 15px;' +\r\n\t\t\t'  font-size: 14pt;' +\r\n\t\t\t'  text-shadow: none;' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif;' +\r\n\t\t\t'  line-height: 115%;' +\r\n\t\t\t'  max-width: 400px;' +\r\n\t\t\t'  font-style: italic;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.qabtns {' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'}' +\r\n\t\t\t'.qabtn:hover {' +\r\n\t\t\t'  background-color: #F0F0F0;' +\r\n\t\t\t'}' +\r\n\t\t\t'.qabtn {' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  font-size: 12pt;' +\r\n\t\t\t'  font-weight: 600;' +\r\n\t\t\t'  box-shadow: none;' +\r\n\t\t\t'  border-style: none;' +\r\n\t\t\t'  padding: 12px 8px 12px 8px;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  background-color: #FAFAFA;' +\r\n\t\t\t'  min-width: 80px;' +\r\n\t\t\t'  border-width: 1px;' +\r\n\t\t\t'  border-style: solid;' +\r\n\t\t\t'  border-color: #E8E8E8;' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.qatext {' +\r\n\t\t\t'  font-size: larger;' +\r\n\t\t\t'  font-family: Hevetica, Arial, sans-serif;' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'  margin-top: 10px;' +\r\n\t\t\t'  margin-bottom: 10px;' +\r\n\t\t\t'  min-height: 84px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#qareasoning {' +\r\n\t\t\t'  font-size: 14pt;' +\r\n\t\t\t'  text-shadow: none;' +\r\n\t\t\t'  display: block;' +\r\n\t\t\t'  padding: 7px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.findings {' +\r\n\t\t\t'  list-style-type: none;' +\r\n\t\t\t'  padding-inline-start: 0;' +\r\n\t\t\t'  padding-left: 0;' +\r\n\t\t\t'  margin: 0 0 5px 0;' +\r\n\t\t\t'}' +\r\n\t\t\t'.findings li:nth-child(odd) { background: inherit; }' +\r\n\t\t\t'.findings li:nth-child(even) { background: #eee; }' +\r\n\t\t\t'' +\r\n\t\t\t'.findingshdr {' +\r\n\t\t\t'  background: #ddd;' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  font-size: 16px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rtbtn {' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  box-shadow: none;' +\r\n\t\t\t'  border-style: none;' +\r\n\t\t\t'  padding: 8px;' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#libraryContentPanel {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  position: relative;' +\r\n\t\t\t'}' +\r\n\t\t\t'#rsltContent {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  position: relative;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltheader {' +\r\n\t\t\t'  background-color: lightgray;' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  font-family: Hevetica, Arial, sans-serif;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'  margin-top: 10px;' +\r\n\t\t\t'  margin-bottom: 5px;' +\r\n\t\t\t'  font-weight: bold;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rslthdrright {' +\r\n\t\t\t'  float: right;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rslthdr {' +\r\n\t\t\t'  margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#notehdr {' +\r\n\t\t\t'  margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rslttitle {' +\r\n\t\t\t'  font-weight: bold;' +\r\n\t\t\t'  font-size: 18pt;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltrectitle {' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltlist {' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'}' +\r\n\t\t\t'.rsltitem {' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'  margin-bottom: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piincludebox {' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  border-width: 1px;' +\r\n\t\t\t'  border-color: black;' +\r\n\t\t\t'  border-style: solid;' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#predicteresourcescontainer {' +\r\n\t\t\t'}' +\r\n\t\t\t'.qaheader {' +\r\n\t\t\t'  background-color: lightgray;' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'  font-family: Hevetica, Arial, sans-serif;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddcontrol {' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'  padding: 0px 4px 4px 4px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piincludebox checkbox {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piincludebox label {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piincludebox checkbox:hover {' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'#piincludebox label:hover {' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'#notebtn {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#resultsabortbtn {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'#notebtn:hover {' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'#resultsabortbtn:hover {' +\r\n\t\t\t'  background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddbutton {' +\r\n\t\t\t'  background-clip: padding-box;' +\r\n\t\t\t'  box-shadow: none;' +\r\n\t\t\t'  border-style: none;' +\r\n\t\t\t'  padding: 8px 24px 8px 8px;' +\r\n\t\t\t'  background-color: #f0f0f0;' +\r\n\t\t\t'  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjMycHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGQ9Ik0yNC4yOTEsMTQuMjc2TDE0LjcwNSw0LjY5Yy0wLjg3OC0wLjg3OC0yLjMxNy0wLjg3OC0zLjE5NSwwbC0wLjgsMC44Yy0wLjg3OCwwLjg3Ny0wLjg3OCwyLjMxNiwwLDMuMTk0ICBMMTguMDI0LDE2bC03LjMxNSw3LjMxNWMtMC44NzgsMC44NzgtMC44NzgsMi4zMTcsMCwzLjE5NGwwLjgsMC44YzAuODc4LDAuODc5LDIuMzE3LDAuODc5LDMuMTk1LDBsOS41ODYtOS41ODcgIGMwLjQ3Mi0wLjQ3MSwwLjY4Mi0xLjEwMywwLjY0Ny0xLjcyM0MyNC45NzMsMTUuMzgsMjQuNzYzLDE0Ljc0OCwyNC4yOTEsMTQuMjc2eiIgZmlsbD0iIzUxNTE1MSIvPjwvc3ZnPg==);' +\r\n\t\t\t'  background-repeat: no-repeat;' +\r\n\t\t\t'  background-position: 95% 50%;' +\r\n\t\t\t'  background-size: 16px 16px;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddbutton:hover {' +\r\n\t\t\t'background-color: azure;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddtable {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  z-index: 1000;' +\r\n\t\t\t'  position: absolute;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  border-width: 1px;' +\r\n\t\t\t'  border-style: solid;' +\r\n\t\t\t'  border-spacing: 0;' +\r\n\t\t\t'  border-collapse: collapse;' +\r\n\t\t\t'  background-color: white;' +\r\n\t\t\t'  font-size: .95em;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddtable td {' +\r\n\t\t\t'  padding: 5px 3px 5px 3px;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.ddtable tr:nth-child(odd) {' +\r\n\t\t\t'  background: inherit;' +\r\n\t\t\t'}' +\r\n\t\t\t'.ddtable tr:nth-child(even) {' +\r\n\t\t\t'  background: #EEE;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'</style>' +\r\n\t\t\t'<div id=\"controlContainer\">' +\r\n\t\t\t'<div class=\"tab\" id=\"tab\">' +\r\n\t\t\t'\t<ul>' +\r\n\t\t\t'\t\t<li>' +\r\n\t\t\t'\t\t\t<button class=\"tablinks buttonTop active\" id=\"qAndA\">Q&A</button>' +\r\n\t\t\t'\t\t</li>' +\r\n\t\t\t'\t\t<li>' +\r\n\t\t\t'\t\t\t<button class=\"tablinks\" id=\"instructions\">Instructions</button>' +\r\n\t\t\t'\t\t</li>' +\r\n\t\t\t'\t\t<li>' +\r\n\t\t\t'\t\t\t<button class=\"tablinks buttonBottom\" id=\"results\">Results</button>' +\r\n\t\t\t'\t\t</li>' +\r\n\t\t\t'\t</ul>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<div class=\"content\" id=\"tabContent\">' +\r\n\t\t\t'\t<div id=\"qaContentPanel\">' +\r\n\t\t\t'\t\t<div class=\"contentPanel\" id=\"mmContent\">' +\r\n\t\t\t'\t\t\t<input type=\"text\" id=\"mmInput\" placeholder=\"Begin typing to select a symptom or condition...\">' +\r\n\t\t\t'\t\t\t\t<div class=\"contentPanel\" id=\"warningContent\" style=\"display: none;\">' +\r\n\t\t\t'\t\t\t\t\t<div class=\"warningIcon\"></div>' +\r\n\t\t\t'\t\t\t\t\t<span class=\"warningText\">The VA software license for TriageXpert Call Center is restricted to the performance of telephone triage services. Use of TriageXpert Call Center to support triage via chat, triage at point-of-care in the clinic, or triage in the emergency room is strictly prohibited.</span>' +\r\n\t\t\t'\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t<ul id=\"mmList\" class=\"mmDisplayList\"></ul>' +\r\n\t\t\t'\t\t\t</div>' +\r\n\t\t\t'\t\t\t<div class=\"contentPanel\" id=\"qaContent\">' +\r\n\t\t\t'\t\t\t\t<div class=\"qaheader\">' +\r\n\t\t\t'\t\t\t\t\t<span id=\"qareasoning\"></span>' +\r\n\t\t\t'\t\t\t\t\t<div class=\"ddcontrol\" id=\"democontainer\">' +\r\n\t\t\t'\t\t\t\t\t\t<button class=\"ddbutton\" id=\"demobtn\">Demographics</button>' +\r\n\t\t\t'\t\t\t\t\t\t<table class=\"ddtable\" id=\"qasessiondatalist\" style=\"white-space: nowrap;\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<tbody id=\"qaDemoTable\"></tbody>' +\r\n\t\t\t'\t\t\t\t\t\t</table>' +\r\n\t\t\t'\t\t\t\t\t\t<div class=\"ddcontrol\" id=\"findingscontainer\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<button class=\"ddbutton\" id=\"findingsbtn\">Findings</button>' +\r\n\t\t\t'\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t<table class=\"ddtable\" id=\"findingsdatalist\" style=\"white-space: nowrap;\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<tbody>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<tr>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<td>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t\t<div class=\"findingshdr\" id=\"qapositivehdr\">Positive</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t\t<ul class=\"findings\" id=\"qaPositiveFindings\"></ul>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t\t<div class=\"findingshdr\" id=\"qanegativehdr\">Negative</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t\t<ul class=\"findings\" id=\"qaNegativeFindings\"></ul>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t</td>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</tr>' +\r\n\t\t\t'\t\t\t\t\t\t\t</tbody>' +\r\n\t\t\t'\t\t\t\t\t\t</table>' +\r\n\t\t\t'\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t<div class=\"ddcontrol\" id=\"valuecontainer\">' +\r\n\t\t\t'\t\t\t\t\t\t<button class=\"ddbutton\" id=\"valuebtn\">Values</button>' +\r\n\t\t\t'\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t<table class=\"ddtable\" id=\"valuedatalist\" style=\"white-space: nowrap;\">' +\r\n\t\t\t'\t\t\t\t\t\t<tbody id=\"qaValueTable\"></tbody>' +\r\n\t\t\t'\t\t\t\t\t</table>' +\r\n\t\t\t'\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t<div class=\"qabox\" id=\"qapromptbox\">' +\r\n\t\t\t'\t\t\t\t\t<div class=\"qatext\" id=\"qaprompt\"></div>' +\r\n\t\t\t'\t\t\t\t\t<div class=\"qaDataPoint\" id=\"qadatapoint\">' +\r\n\t\t\t'\t\t\t\t\t\t<div id=\"qaNumeric\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<input id=\"qaNumber\" list=\"qaNumericList\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<datalist id=\"qaNumericList\"></datalist>' +\r\n\t\t\t'\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t<div id=\"qaDate\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<input id=\"qaDateInput\" list=\"qaDateList\">' +\r\n\t\t\t'                                                                <datalist id=\"qaDateList\"></datalist>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<div id=\"qaList\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<input id=\"qaListInput\" list=\"qaListList\">' +\r\n\t\t\t'                                                                        <datalist id=\"qaListList\"></datalist>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<div id=\"qaSelect\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<select id=\"qaSelectInput\"></select>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<div id=\"qaUnits\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<select id=\"qaUnitSelection\"></select>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<div id=\"qaUnitText\"></div>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t<div class=\"qabtns\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<button class=\"qabtn\" id=\"qabackbtn\">Back</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t<button class=\"qabtn\" id=\"qayesbtn\">Yes</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t<button class=\"qabtn\" id=\"qanobtn\">No</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t<button class=\"qabtn\" id=\"qanextbtn\">Next</button>' +\r\n\t\t\t'\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t<div id=\"qaassisttext\"></div>' +\r\n\t\t\t'\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t</div>' +\r\n\t\t\t'   <div id=\"libraryContentPanel\" class=\"content\">' +\r\n\t\t\t'   <fieldset id=\"instructionLinkSection\">' +\r\n\t\t\t'   <legend>Selected Instructions</legend>' +\r\n\t\t\t'   <ul id=\"instructionList\">' +\r\n\t\t\t'   </ul>' +\r\n\t\t\t'   <button id=\"copyInstructionsLink\">Copy Instruction Link</button>' +\r\n\t\t\t'   <button id=\"visitInstructionsLink\">Visit Instruction Page</button>' +\r\n\t\t\t'   <button id=\"doneInstructionsLink\">Done</button>' +\r\n\t\t\t'   </fieldset>' +\r\n\t\t\t'\t\t<dshi-TXL id=\"insTXL\" data-instructions=\"true\"></dshi-TXL>' +\r\n\t\t\t'   </div>' +\r\n\t\t\t'\t\t\t\t<div class=\"contentPanel\" id=\"rsltContent\">' +\r\n\t\t\t'\t\t\t\t\t<div id=\"sessionNote\">' +\r\n\t\t\t'\t\t\t\t\t\t<div class=\"rsltheader\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<div class=\"rslthdr\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<span class=\"rslttitle\">Note</span>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<span class=\"rslthdrright\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t\t<button id=\"closenotebtn\" class=\"rtbtn\">View Results</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t</span>' +\r\n\t\t\t'\t\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t<div class=\"notehdr\">' +\r\n\t\t\t'\t\t\t\t\t\t\t<span class=\"rslthdrright\">' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<button id=\"notedonebtn\" class=\"rtbtn\">Done</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t\t<button id=\"noteabortbtn\" class=\"rtbtn\">Abort</button>' +\r\n\t\t\t'\t\t\t\t\t\t\t</span>' +\r\n\t\t\t'\t\t\t\t\t\t</div>' +\r\n\t\t\t'\t\t\t\t\t\t<textarea readonly id=\"notebody\"></textarea>' +\r\n\t\t\t'\t\t\t\t\t</div>' +\r\n\r\n\t\t\t'   <div id=\"sessionResults\" class=\"content\">' +\r\n\t\t\t'       <div class=\"rsltheader\">' +\r\n\t\t\t'           <div class=\"rslthdr\">' +\r\n\t\t\t'               <span class=\"rslttitle\">Results</span>' +\r\n\t\t\t'               <span class=\"rslthdrright\">' +\r\n\t\t\t'   \t        <button id=\"notebtn\" class=\"rtbtn\">Note</button>' +\r\n\t\t\t'                   <button id=\"resultsabortbtn\" class=\"rtbtn\">Abort</button>' +\r\n\t\t\t'               </span>' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'       </div>' +\r\n\t\t\t'       <div id=\"txResultsCM\">' +\r\n\t\t\t'           <div id=\"txResultsCMRec\">' +\r\n\t\t\t'               <div id=\"txResultsCMRecHdr\" class=\"rsltheader\">Recommendations</div>' +\r\n\t\t\t'               <div id=\"txResultsCMRecTc\">' +\r\n\t\t\t'                   <div id=\"txResultsCMRecTcLbl\">Triage Class</div>' +\r\n\t\t\t'                   <select id=\"txResultsCMRecTcVal\">' +\r\n\t\t\t'                       <option value=\"1\">1</option>' +\r\n\t\t\t'                       <option value=\"2\">2</option>' +\r\n\t\t\t'                       <option value=\"3\">3</option>' +\r\n\t\t\t'                       <option value=\"4\">4</option>' +\r\n\t\t\t'                       <option value=\"5\">5</option>' +\r\n\t\t\t'                   </select>' +\r\n\t\t\t'                   <div id=\"txResultsCMRecVcCtr\">' +\r\n\t\t\t'                       <input type=\"checkbox\" id=\"txResultsCMRecVc\">' +\r\n\t\t\t'                       <label for=\"txResultsCMRecVc\">Refer to virtual care</label>' +\r\n\t\t\t'                   </div>' +\r\n\t\t\t'                   <div id=\"txResultsCMVcIns\">Uncheck if no referral to virtual care</div>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'               <div id=\"txResultsCMDs\">' +\r\n\t\t\t'                   <div id=\"txResultsCMDsHdr\" class=\"rsltheader\">Disease Status<span id=\"txcRsltsDSHelpShow\" style=\"float:right; color: blue; cursor: pointer; margin-right: 5px; font-weight: normal;\" title=\"Explain Disease Status\">&#128712;</span></div>' +\r\n\t\t\t'                   <div id=\"txResultsCMScs\">&#x1F4C8;&nbsp;Symptom Control Score:&nbsp;<span id=\"txResultsCMScsValue\"></span>&nbsp;&nbsp;[1-7 scale | 7 = best control]</div>' +\r\n\t\t\t'                   <div id=\"txResultsCMDcs\">&#x1F4C8;&nbsp;Disease Control Score:&nbsp;<span id=\"txResultsCMDcsValue\"></span>%&nbsp;&nbsp;[100% = perfect control]</div>' +\r\n\t\t\t'                   <div id=\"txResultsCMPes\">&#x1F4C8;&nbsp;Patient Effort Score:&nbsp;<span id=\"txResultsCMPesValue\"></span>%&nbsp;&nbsp;[100% = perfect adherence]</div>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'               <div id=\"txResultsCMEducation\">' +\r\n\t\t\t'                   <div id=\"txResultsCMEducationHdr\" class=\"rsltheader\">Targeted Education</div>' +\r\n\t\t\t'                   <div id=\"txResultsCMEducationTbl\"></div>' +\r\n\t\t\t'                   <div id=\"txResultsCMEducationLogLbl\" style=\"display: none;\">Nurse Education Notes:</div>' +\r\n\t\t\t'                   <textarea id=\"educationlog\" class=\"rsltitem\" style=\"overflow: hidden visible; overflow-wrap: break-word; resize: horizontal; display: none;\"></textarea>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'\t\t<div id=\"txResultsCMEcp\">' +\r\n\t\t\t'\t\t\t<div id=\"txResultsCMEcpHdr\" class=\"rsltheader\">Targeted Education Online</div>' +\r\n\t\t\t'\t\t\t<a href=\"https://\" id=\"txResultsCMEcpLink\" target=\"_blank\">Link</a>' +\r\n\t\t\t'\t\t</div>' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'       </div>' +\r\n\t\t\t'       <div id=\"txResultsSym\">' +\r\n\t\t\t'           <div id=\"txResultsSymSysConcern\">' +\r\n\t\t\t'               <div id=\"txResultsSymSysConcernHdr\" class=\"rsltheader\">System Concern</div>' +\r\n\t\t\t'               <div id=\"txResultsSymSysConcernVal\"></div>' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'           <div id=\"txResultsSymRec\">' +\r\n\t\t\t'               <div id=\"txResultsSymRecHdr\" class=\"rsltheader\">Recommendations</div>' +\r\n\t\t\t'               <div id=\"txResultsSymRecTc\">' +\r\n\t\t\t'                   <div id=\"txResultsSymRecTcLbl\">Triage Class</div>' +\r\n\t\t\t'                   <select id=\"txResultsSymRecTcVal\">' +\r\n\t\t\t'                       <option value=\"1\">1</option>' +\r\n\t\t\t'                       <option value=\"2\">2</option>' +\r\n\t\t\t'                       <option value=\"3\">3</option>' +\r\n\t\t\t'                       <option value=\"4\">4</option>' +\r\n\t\t\t'                       <option value=\"5\">5</option>' +\r\n\t\t\t'                   </select>' +\r\n\t\t\t'                   <div id=\"txResultsSymRecVcCtr\">  ' +\r\n\t\t\t'                   <input type=\"checkbox\" id=\"txResultsSymRecVc\">' +\r\n\t\t\t'                   <label for=\"txResultsSymRecVc\">Refer to Virtual Care</label>' +\r\n\t\t\t'                   </div>  ' +\r\n\t\t\t'                   <div id=\"txResultsSymRecVcIns\">Uncheck if no referral to virtual care</div>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'               <div id=\"txResultsSymDir\">' +\r\n\t\t\t'                   <div id=\"txResultsSymDirHdr\" class=\"rsltheader\">Virtual Care Directives</div>' +\r\n\t\t\t'                   <ul id=\"txResultsSymDirLst\"></ul>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'               <div id=\"txResultsSymPr\">' +\r\n\t\t\t'                   <div id=\"txResultsSymPrHdr\" class=\"rsltheader\">Predicted Resources</div>' +\r\n\t\t\t'                   <div id=\"txResultsSymPrTtl\">This patient is at higher risk for requiring:</div>' +\r\n\t\t\t'                   <ul id=\"txResultsSymPrLst\"></ul>' +\r\n\t\t\t'               </div>' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'       </div>' +\r\n\t\t\t'  </div>  ' +\r\n\t\t\t'   <div id=\"tctImagePopup\" class=\"modal\">' +\r\n\t\t\t'\t<div class=\"modal-window\">' +\r\n\t\t\t'       <div id=\"tctImgCtr\" class=\"tctRow\">' +\r\n\t\t\t'           <div id=\"tctImageThumbs\" class=\"tctColumn tctLeft\">' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'           <div id=\"tctImageContainer\" class=\"tctColumn tctRight \">' +\r\n\t\t\t'              <button id=\"tctImageBack\">back</button>' +\r\n\t\t\t'\t\t<img id=\"tctImage\">' +\r\n\t\t\t'           </div>' +\r\n\t\t\t'       </div>' +\r\n\t\t\t'       </div>' +\r\n\t\t\t'  </div>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<div style=\"text-align: right;\"><span style=\"font-weight: bold\">TXCW</span>&nbsp;&copy; 1990-2020 DSHI Systems, Inc.</div>' +\r\n\t\t\t'                            </div>' +\r\n\t\t\t'   <div id=\"tctLibraryPopup\">' +\r\n\t\t\t'       \t<button id=\"tctLibraryBack\">Back to Results</button>' +\r\n\t\t\t'\t\t<dshi-TXL id=\"tctTXL\" data-popup=\"true\"></dshi-TXL>' +\r\n\t\t\t'  </div>' +\r\n\t\t\t'<div id=\"txcRsltsDSHelpPopup\" class=\"modal\">' +\r\n\t\t\t'<div class=\"modal-window\">' +\r\n\t\t\t'<div id=\"txcRsltsDSHelpTitle\">Disease Status<button id=\"txcRsltsDSHelpBack\" style=\"float: right;\">back</button></div>' +\r\n\t\t\t'<div class=\"txcRsltDSSubTitle\">&#x1F4C8;&nbsp;Symptom Control Score</div>' +\r\n\t\t\t'<ul class=\"txcRsltsDSList\">' +\r\n\t\t\t'<li>7- level scale</li>' +\r\n\t\t\t'<li>7 = perfect symptom control</li>' +\r\n\t\t\t'<li>Calculated using only symptoms, biometric, and critical comorbidity data</li>' +\r\n\t\t\t'<li>Detect <b>acute decompensation</b></li>' +\r\n\t\t\t'</ul>' +\r\n\t\t\t'<div class=\"txcRsltDSSubTitle\">&#x1F4C8;&nbsp;Disease Control Score</div>' +\r\n\t\t\t'<ul class=\"txcRsltsDSList\">' +\r\n\t\t\t'<li>100% = perfect disease control</li>' +\r\n\t\t\t'<li>Calculated using all available data: symptoms, biometrics, comorbidities, non-adherence, social factors, and medical gaps in care</li>' +\r\n\t\t\t'<li>Variables are weighted based on relative negative impact on disease</li>' +\r\n\t\t\t'<li>Detect <b>subacute decompensation</b></li>' +\r\n\t\t\t'</ul>' +\r\n\t\t\t'<div class=\"txcRsltDSSubTitle\">&#x1F4C8;&nbsp;Patient Effort Score</div>' +\r\n\t\t\t'<ul class=\"txcRsltsDSList\">' +\r\n\t\t\t'<li>100% = perfect adherence</li>' +\r\n\t\t\t'<li>Calculated using only variables in the patient\\'s control</li>' +\r\n\t\t\t'<li>Variables are weighted based on relative negative impact on disease</li>' +\r\n\t\t\t'<li>Detect <b>adherence issues</b> and need for education</li>' +\r\n\t\t\t'</ul>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'</div>';\r\n\t}\r\n}\r\n/* txEngine 1.0.0\r\n */\r\nfunction tXengine(options, THIS) {\r\n\tthis.sym = loadSymMenu(\"https://expert.dshisystems.net/txcmenu.json\", THIS);\r\n\tthis.scope = THIS;\r\n\tthis.localDemographics = {};\r\n\tthis.demographicList = ['cc', 'gender', 'age', 'dob'];\r\n\tthis.valueList = ['height', 'weight', 'systolicbloodpressure', 'diastolicbloodpressure', 'temperature', 'serumglucose', 'pefrbaseline', 'pefrcurrent', 'lnmp', 'respiratoryrate', 'pulse', 'gestationalage', 'bmi', 'peakflowpctbest', 'painscale', 'durationofcomplaint', 'starttime', 'duration', 'ox', 'meanarterialpressure', 'modifiedshockindex', 'pulsepressure', 'duration'];\r\n\tthis.whereMap = {\r\n\t\t\"Emergency Room\": \"Emergency department\",\r\n\t\t\"Doctor Office\": \"Clinic | Office\",\r\n\t\t\"Doctor eVisit\": \"Virtual Care\",\r\n\t\t\"Urgent Care\": \"Urgent care center\",\r\n\t\t\"Dentist Office\": \"Dentist Office\"\r\n\t};\r\n\tthis.whenMap = {\r\n\t\t\"911 emergency\": \"Now, 911\",\r\n\t\t\"Immediate\": \"Now\",\r\n\t\t\"1-2 weeks\": \"Within 2 Weeks\",\r\n\t\t\"Self-care\": \"Self-care\",\r\n\t\t\"2-3 days\": \"Within 3 Days\",\r\n\t\t\"2-8 hours\": \"Within 8 Hours\",\r\n\t\t\"12-24 hours\": \"Within 24 Hours\"\r\n\t};\r\n\tif ((!options.appId) || (options.appId === '')) {\r\n\t\tthrow ('Required Application Id (appID) is not provided.');\r\n\t}\r\n\tthis.appId = options.appId;\r\n\tif ((options.url) && (options.url !== '')) {\r\n\t\tthis.url = options.url;\r\n\t} else {\r\n\t\tif (!window.location.origin) {\r\n\t\t\tthis.url = window.location.protocol + '//' + window.location.host;\r\n\t\t} else {\r\n\t\t\tthis.url = window.location.origin;\r\n\t\t}\r\n\t}\r\n\tif (options.timeout) {\r\n\t\tthis.timeout = options.timeout;\r\n\t} else {\r\n\t\tthis.timeout = 10000;\r\n\t}\r\n\tif (!_isSetup(this)) {\r\n\t\tthrow ('Missing Required Options');\r\n\t}\r\n\r\n\tfunction _isSetup(THIS) {\r\n\t\tif ((!THIS.url) || (THIS.url === '')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif ((!THIS.appId) || (THIS.appId === '')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction loadSymMenu(req, THIS) {\r\n\t\tvar i;\r\n\t\tfetch(req).then(function(response) {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconsole.error('tX: Response: ' + response.status + ' ' + response.statusText);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t}.bind(THIS)).then(function(symJson) {\r\n\t\t\tthis.sym = symJson;\r\n\t\t}.bind(THIS));\r\n\t}\r\n\r\n\tfunction _calculateAgeYM(dob) {\r\n\t\tvar date;\r\n\t\tif (typeof dob === 'string') {\r\n\t\t\tdate = new Date(dob);\r\n\t\t} else {\r\n\t\t\tif (typeof dob === 'object') {\r\n\t\t\t\tdate = dob;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Invalid type for date variable passed to calculateAge');\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar today = new Date();\r\n\t\tvar months;\r\n\t\tmonths = (today.getFullYear() - date.getFullYear()) * 12;\r\n\t\tmonths += today.getMonth();\r\n\t\tmonths -= date.getMonth();\r\n\t\tmonths = (months > 0) ? months : 1;\r\n\t\tif (months < 36) {\r\n\t\t\treturn months + ' Months';\r\n\t\t}\r\n\t\tvar years = Math.floor(months / 12);\r\n\t\treturn years + ' Years';\r\n\t}\r\n\tthis.start = function(chiefComplaint, dob, gender, values) {\r\n\t\tvar property, pText, vl, vu, sp;\r\n\t\tvar req = this.url + '?m=Start&appID=' + this.appId + '&d=1&v=' + gender + '&d=300&v=' + _calculateAgeYM(dob).replace(' ', '&u=') + '&d=200&v=' + chiefComplaint;\r\n\t\tif (values) {\r\n\t\t\tfor (property in values) {\r\n\t\t\t\tif (values[property].value) {\r\n\t\t\t\t\tpText = property;\r\n\t\t\t\t\tif (pText.substr(0, 2) == 'D_') {\r\n\t\t\t\t\t\tpText = pText.substr(2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pText.toLowerCase() == 'durationofchiefcomplaint') {\r\n\t\t\t\t\t\tpText = '103';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treq += '&d=' + pText + '&v=' + values[property].value;\r\n\t\t\t\t\tif (values[property].units) {\r\n\t\t\t\t\t\treq += '&u=' + values[property].units;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvl = values[property];\r\n\t\t\t\t\tvu = null;\r\n\t\t\t\t\tif (typeof vl === 'string') {\r\n\t\t\t\t\t\tsp = vl.indexOf(' ');\r\n\t\t\t\t\t\tif (sp >= 0) {\r\n\t\t\t\t\t\t\tvu = vl.substring(sp + 1);\r\n\t\t\t\t\t\t\tvl = vl.substring(0, sp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvl = vl.replace('%', '%25');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((property == 'ln') || (property == 'dob')) {\r\n\t\t\t\t\t\tvl = dateToString(vl).replace('/', '%2f');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treq += '&d=' + property.toLowerCase() + '&v=' + vl;\r\n\t\t\t\t\tif (vu) {\r\n\t\t\t\t\t\treq += '&u=' + vu.replace('%', '%25');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.localDemographics.dob = dob;\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\tthis.yes = function() {\r\n\t\tif (!this.sessionId) {\r\n\t\t\tconsole.trace(\"undefined session trace:\");\r\n\t\t\tvar err = new Error();\r\n\t\t\talert('Undefined SessonId:\\n' + err.stack);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar req = this.url + '?m=Walk&session=' + this.sessionId + '&navigationMethod=yes';\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\tthis.no = function() {\r\n\t\tif (!this.sessionId) {\r\n\t\t\tconsole.trace(\"undefined session trace:\");\r\n\t\t\tvar err = new Error();\r\n\t\t\talert('Undefined SessonId:\\n' + err.stack);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar req = this.url + '?m=Walk&session=' + this.sessionId + '&navigationMethod=no';\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\tthis.next = function(value, units) {\r\n\t\tif (!this.sessionId) {\r\n\t\t\tconsole.trace(\"undefined session trace:\");\r\n\t\t\tvar err = new Error();\r\n\t\t\talert('Undefined SessonId:\\n' + err.stack);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar req = this.url + '?m=Walk&session=' + this.sessionId + '&navigationMethod=next';\r\n\t\tif (value) {\r\n\t\t\treq += '&value=' + value;\r\n\t\t}\r\n\t\tif (units) {\r\n\t\t\treq += '&units=' + units;\r\n\t\t}\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\tthis.previous = function() {\r\n\t\tif (!this.sessionId) {\r\n\t\t\tconsole.trace(\"undefined session trace:\");\r\n\t\t\tvar err = new Error();\r\n\t\t\talert('Undefined SessonId:\\n' + err.stack);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar req = this.url + '?m=Walk&session=' + this.sessionId + '&navigationMethod=previous';\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\tthis.abort = function(reason) {\r\n\t\tvar req, err;\r\n\t\tif (!this.sessionId) {\r\n\t\t\tconsole.trace(\"undefined session trace:\");\r\n\t\t\terr = new Error();\r\n\t\t\talert('Undefined SessonId:\\n' + err.stack);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treq = this.url + '?m=abort';\r\n\t\tif (reason) {\r\n\t\t\treq += '&reason=' + reason;\r\n\t\t}\r\n\t\t_processRequest(req, this);\r\n\t};\r\n\r\n\tfunction _setBtnDisabled(element, selector, state) {\r\n\t\tTHIS.ec.qanobtn.disabled = state;\r\n\t\tTHIS.ec.qayesbtn.disabled = state;\r\n\t\tTHIS.ec.qanextbtn.disabled = state;\r\n\t\tTHIS.ec.qabackbtn.disabled = state;\r\n\t}\r\n\r\n\tfunction _processRequest(req, THIS) {\r\n\t\tvar unitObject, entry, demographics, values, eName, eValue, eUnits, careLink, cpe, isCM;\r\n\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', true);\r\n\t\tTHIS.scope.ec.controlContainer.classList.add('wait');\r\n\t\tfetch(req).then(function(response) {\r\n\t\t\tvar i;\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\tconsole.error('tX: Response: ' + response.status + ' ' + response.statusText);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t}.bind(THIS)).then(function(rspJSON) {\r\n\t\t\tif ((rspJSON.rsp.status) && (rspJSON.rsp.status != 'OK')) {\r\n\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](rspJSON);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.sessionId = rspJSON.rsp.session;\r\n\t\t\tvar rspObject = {};\r\n\t\t\tvar i;\r\n\t\t\tif ((rspJSON.rsp.locationType == 'Prompt') || (rspJSON.rsp.locationType == 'Data Point')) {\r\n\t\t\t\trspObject.prompt = _stripHTML(rspJSON.rsp.text);\r\n\t\t\t\tif ((rspJSON.rsp.helptext) && (rspJSON.rsp.helptext !== '')) {\r\n\t\t\t\t\trspObject.hint = rspJSON.rsp.helptext;\r\n\t\t\t\t}\r\n\t\t\t\trspObject.navigationMethods = rspJSON.rsp.navigationMethods;\r\n\t\t\t\trspObject.rationale = rspJSON.rsp.rationale;\r\n\t\t\t\tif (rspJSON.rsp.pertinentPositives) {\r\n\t\t\t\t\trspObject.positiveFindings = [];\r\n\t\t\t\t\tfor (entry = 0; entry < rspJSON.rsp.pertinentPositives.length; entry++) {\r\n\t\t\t\t\t\trspObject.positiveFindings.push(_stripHTML(rspJSON.rsp.pertinentPositives[entry]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (rspJSON.rsp.pertinentPositives.length != rspObject.positiveFindings.length) {\r\n\t\t\t\t\t\talert(\"findings mismatch!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.pertinentNegatives) {\r\n\t\t\t\t\trspObject.negativeFindings = [];\r\n\t\t\t\t\tfor (entry = 0; entry < rspJSON.rsp.pertinentNegatives.length; entry++) {\r\n\t\t\t\t\t\trspObject.negativeFindings.push(_stripHTML(rspJSON.rsp.pertinentNegatives[entry]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (rspJSON.rsp.pertinentNegatives.length != rspObject.negativeFindings.length) {\r\n\t\t\t\t\t\talert(\"findings mismatch!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdemographics = {};\r\n\t\t\t\tvalues = {};\r\n\t\t\t\tObject.keys(this.localDemographics).forEach(function(key, index) {\r\n\t\t\t\t\tdemographics[key] = this.localDemographics[key];\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\tif (rspJSON.rsp.history) {\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.history.length; i++) {\r\n\t\t\t\t\t\tentry = rspJSON.rsp.history[i];\r\n\t\t\t\t\t\teName = entry[0];\r\n\t\t\t\t\t\teValue = entry[1];\r\n\t\t\t\t\t\tif (this.demographicList.indexOf(eName.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\t\tdemographics[eName] = eValue;\r\n\t\t\t\t\t\t} else if (this.valueList.indexOf(eName.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\t\tvalues[eName] = eValue;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('no match for ' + eName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (Object.keys(demographics).length > 0) {\r\n\t\t\t\t\trspObject.demographics = demographics;\r\n\t\t\t\t}\r\n\t\t\t\tif (Object.keys(values).length > 0) {\r\n\t\t\t\t\trspObject.values = values;\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.locationType == 'Data Point') {\r\n\t\t\t\t\trspObject.dataPoint = {};\r\n\t\t\t\t\trspObject.dataPoint.value = rspJSON.rsp.dataPoint.value;\r\n\t\t\t\t\tif (rspJSON.rsp.dataPoint.units) {\r\n\t\t\t\t\t\trspObject.dataPoint.units = rspJSON.rsp.dataPoint.units;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trspObject.dataPoint.units = 'na';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.dataPoint.validationRules.length; i++) {\r\n\t\t\t\t\t\tvar ruleParts = rspJSON.rsp.dataPoint.validationRules[i].split(':');\r\n\t\t\t\t\t\tvar rangeParts = ruleParts[1].split(' ');\r\n\t\t\t\t\t\tunitObject = {};\r\n\t\t\t\t\t\tunitObject.type = rangeParts[0];\r\n\t\t\t\t\t\tif (rangeParts[0] == 'Number') {\r\n\t\t\t\t\t\t\tunitObject.min = parseFloat(rangeParts[1]);\r\n\t\t\t\t\t\t\tunitObject.max = parseFloat(rangeParts[3]);\r\n\t\t\t\t\t\t\tif (rangeParts.length == 6) {\r\n\t\t\t\t\t\t\t\tunitObject.step = parseFloat(rangeParts[5]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (rangeParts[0] == 'List') {\r\n\t\t\t\t\t\t\tunitObject.list = rangeParts[1].split('|');\r\n\t\t\t\t\t\t} else if (rangeParts[0] == 'Date') {\r\n\t\t\t\t\t\t\tunitObject.min = parseDate(rangeParts[1]);\r\n\t\t\t\t\t\t\tunitObject.max = parseDate(rangeParts[3]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert('invalid validation value type: ' + rangeParts[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar units = ruleParts[0];\r\n\t\t\t\t\t\tif ((!units) || (units.length === 0)) {\r\n\t\t\t\t\t\t\tunits = 'na';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trspObject.dataPoint[units] = unitObject;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\t\tif ((this.listeners) && (this.listeners.atDataPoint)) {\r\n\t\t\t\t\t\tfor (i = 0; i < this.listeners.atDataPoint.length; i++) {\r\n\t\t\t\t\t\t\tthis.listeners.atDataPoint[i](rspObject);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\t\tif ((this.listeners) && (this.listeners.atQuestion)) {\r\n\t\t\t\t\t\tfor (i = 0; i < this.listeners.atQuestion.length; i++) {\r\n\t\t\t\t\t\t\tthis.listeners.atQuestion[i].bind(this.scope)(rspObject);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (rspJSON.rsp.locationType == 'Report') {\r\n\t\t\t\tif (rspJSON.rsp.report.ccid) {\r\n\t\t\t\t\trspObject.ccid = rspJSON.rsp.report.ccid;\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.diffDx) {\r\n\t\t\t\t\trspObject.systemConcern = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.diffDx.length; i++) {\r\n\t\t\t\t\t\trspObject.systemConcern.push(rspJSON.rsp.report.diffDx[i].text);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.rfi) {\r\n\t\t\t\t\tif (!this.whenMap.hasOwnProperty(rspJSON.rsp.report.rfi))\r\n\t\t\t\t\t\talert('missing whenMap entry: [' + rspJSON.rsp.report.rfi + ']');\r\n\t\t\t\t\trspObject.when = this.whenMap[rspJSON.rsp.report.rfi];\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.pos) {\r\n\t\t\t\t\trspObject.where = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.pos.length; i++) {\r\n\t\t\t\t\t\tif (!this.whereMap.hasOwnProperty(rspJSON.rsp.report.pos[i].text))\r\n\t\t\t\t\t\t\talert('missing whereMap enrty: ' + rspJSON.rsp.report.pos[i].text);\r\n\t\t\t\t\t\tif (rspJSON.rsp.report.pos[i].text == 'Doctor eVisit') {\r\n\t\t\t\t\t\t\trspObject.etreatable = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trspObject.where.push(this.whereMap[rspJSON.rsp.report.pos[i].text]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (rspJSON.rsp.report.canVirtualCare) {\r\n\t\t\t\t\t\trspObject.etreatable = rspJSON.rsp.report.canVirtualCare;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trspObject.where = [];\r\n\t\t\t\t\trspObject.where.push(\"Home\");\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.tests) {\r\n\t\t\t\t\trspObject.predictedResources = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.tests.length; i++) {\r\n\t\t\t\t\t\trspObject.predictedResources.push(rspJSON.rsp.report.tests[i].text);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.termText) {\r\n\t\t\t\t\trspObject.patientInstructions = rspJSON.rsp.report.termText;\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.positiveList) {\r\n\t\t\t\t\trspObject.positiveFindings = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.positiveList.length; i++) {\r\n\t\t\t\t\t\trspObject.positiveFindings.push(_stripHTML(rspJSON.rsp.report.positiveList[i].reportSyntax));\r\n\t\t\t\t\t}\r\n\t\t\t\t\trspObject.positiveFindings.sort(rsCompare);\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.negativeList) {\r\n\t\t\t\t\trspObject.negativeFindings = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.negativeList.length; i++) {\r\n\t\t\t\t\t\trspObject.negativeFindings.push(_stripHTML(rspJSON.rsp.report.negativeList[i].reportSyntax));\r\n\t\t\t\t\t}\r\n\t\t\t\t\trspObject.negativeFindings.sort(rsCompare);\r\n\t\t\t\t}\r\n\t\t\t\tdemographics = {};\r\n\t\t\t\tvalues = {};\r\n\t\t\t\tObject.keys(this.localDemographics).forEach(function(key, index) {\r\n\t\t\t\t\tdemographics[key] = this.localDemographics[key];\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.historyList.length; i++) {\r\n\t\t\t\t\tentry = rspJSON.rsp.report.historyList[i];\r\n\t\t\t\t\teName = entry.name;\r\n\t\t\t\t\teValue = entry.value;\r\n\t\t\t\t\teUnits = '';\r\n\t\t\t\t\tif (entry.units) {\r\n\t\t\t\t\t\teUnits = ' ' + entry.units;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.demographicList.indexOf(eName.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\tdemographics[eName.toLowerCase()] = eValue + eUnits;\r\n\t\t\t\t\t} else if (this.valueList.indexOf(eName.toLowerCase()) >= 0) {\r\n\t\t\t\t\t\tvalues[eName.toLowerCase()] = eValue + eUnits;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (Object.keys(demographics).length > 0) {\r\n\t\t\t\t\trspObject.demographics = demographics;\r\n\t\t\t\t}\r\n\t\t\t\tif (Object.keys(values).length > 0) {\r\n\t\t\t\t\trspObject.values = values;\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.carelinks) {\r\n\t\t\t\t\trspObject.careLinks = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.carelinks.length; i++) {\r\n\t\t\t\t\t\tcareLink = {};\r\n\t\t\t\t\t\tcareLink.title = rspJSON.rsp.report.carelinks[i].Title;\r\n\t\t\t\t\t\tcareLink.topic = 'cid~' + rspJSON.rsp.report.carelinks[i].Topic + '~' + rspJSON.rsp.report.carelinks[i].Section;\r\n\t\t\t\t\t\trspObject.careLinks.push(careLink);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.carePlan) {\r\n\t\t\t\t\trspObject.carePlan = [];\r\n\t\t\t\t\tfor (i = 0; i < rspJSON.rsp.report.carePlan.length; i++) {\r\n\t\t\t\t\t\tcpe = [];\r\n\t\t\t\t\t\tcpe.push(rspJSON.rsp.report.carePlan[i][0]);\r\n\t\t\t\t\t\tcpe.push(rspJSON.rsp.report.carePlan[i][2]);\r\n\t\t\t\t\t\tcpe.push(rspJSON.rsp.report.carePlan[i][5]);\r\n\t\t\t\t\t\tcpe.push(rspJSON.rsp.report.carePlan[i][4]);\r\n\t\t\t\t\t\trspObject.carePlan.push(cpe);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.esi) {\r\n\t\t\t\t\trspObject.esi = rspJSON.rsp.report.esi;\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.notifications) {\r\n\t\t\t\t\trspObject.notifications = rspJSON.rsp.report.notifications;\r\n\t\t\t\t}\r\n\t\t\t\tisCM = 0;\r\n\t\t\t\tif (rspJSON.rsp.report.symptomControl) {\r\n\t\t\t\t\trspObject.symptomControl = rspJSON.rsp.report.symptomControl;\r\n\t\t\t\t\tisCM += parseInt(rspJSON.rsp.report.symptomControl);\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.hrs) {\r\n\t\t\t\t\trspObject.diseaseControlScore = rspJSON.rsp.report.hrs;\r\n\t\t\t\t\tisCM += parseInt(rspJSON.rsp.report.hrs);\r\n\t\t\t\t}\r\n\t\t\t\tif (rspJSON.rsp.report.pes) {\r\n\t\t\t\t\trspObject.patientEffortScore = rspJSON.rsp.report.pes;\r\n\t\t\t\t\tisCM += parseInt(rspJSON.rsp.report.pes);\r\n\t\t\t\t}\r\n\t\t\t\tif (isCM) {\r\n\t\t\t\t\trspObject.etreatable = (rspObject.esi >= 4);\r\n\t\t\t\t}\r\n\t\t\t\trspObject.isCondition = (isCM !== 0);\r\n\t\t\t\tthis.localDemographics = {};\r\n\t\t\t\tdelete this.sessionId;\r\n\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.atReport)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.atReport.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.atReport[i](rspObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](rspObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tTHIS.scope.ec.controlContainer.classList.remove('wait');\r\n\t\t\t_setBtnDisabled(THIS.scope.shadowRoot, '.qabtn', false);\r\n\t\t}.bind(THIS));\r\n\t}\r\n\r\n\tfunction rsCompare(a, b) {\r\n\t\tvar prefixOrder = ['HPI', 'EXAM', 'MEDS', 'PMH', 'PSH', 'FH', 'DIET', 'SOC', 'PREVENT', 'MONITOR', 'ACTIVITY', 'MOBILITY', 'ADL', 'EDUCATE', 'COUNSEL'];\r\n\t\tvar ac = a.indexOf(':');\r\n\t\tvar ap = a.substr(a, ac).toUpperCase();\r\n\t\tvar ai = prefixOrder.indexOf(ap);\r\n\t\tvar bc = b.indexOf(':');\r\n\t\tvar bp = b.substr(b, bc).toUpperCase();\r\n\t\tvar bi = prefixOrder.indexOf(bp);\r\n\t\tif (ai < bi) return -1;\r\n\t\telse if (ai > bi) return 1;\r\n\t\tap = a.substr(ap + 1).replace(/^\\s+|\\s+$/gm, '');\r\n\t\tbp = b.substr(bp + 1).replace(/^\\s+|\\s+$/gm, '');\r\n\t\tif (ap < bp) return -1;\r\n\t\telse if (ap > bp) return 1;\r\n\t\telse return 0;\r\n\t}\r\n\r\n\tfunction dateToString(d) {\r\n\t\tif (!(d instanceof Date))\r\n\t\t\treturn '';\r\n\t\tvar m = (d.getMonth() + 1).toString();\r\n\t\tif (m.length < 2)\r\n\t\t\tm = '0' + m;\r\n\t\tvar dy = d.getDate().toString();\r\n\t\tif (dy.length < 2)\r\n\t\t\tdy = '0' + dy;\r\n\t\tvar y = (d.getYear() + 1900).toString();\r\n\t\treturn m + '/' + dy + '/' + y;\r\n\t}\r\n\r\n\tfunction parseDate(dateStr) {\r\n\t\tvar month = parseInt(dateStr.substring(4, 6));\r\n\t\tvar day = parseInt(dateStr.substring(6, 8));\r\n\t\tvar year = parseInt(dateStr.substring(0, 4));\r\n\t\treturn new Date(year, month - 1, day);\r\n\t}\r\n\r\n\tfunction _stripHTML(content) {\r\n\t\tvar container = document.createElement('div');\r\n\t\tcontainer.innerHTML = content;\r\n\t\treturn container.textContent || container.innerText;\r\n\t}\r\n\tthis.addListener = function(event, listener) {\r\n\t\tif (!this.listeners) {\r\n\t\t\tthis.listeners = {};\r\n\t\t}\r\n\t\tif (!this.listeners.hasOwnProperty(event)) {\r\n\t\t\tthis.listeners[event] = [listener];\r\n\t\t} else {\r\n\t\t\tif (this.listeners[event].indexOf(listener) < 0) {\r\n\t\t\t\tthis.listeners[event].push(listener);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\nclass dshiTXL extends HTMLElement {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tlet shadowDom = this.attachShadow({\r\n\t\t\tmode: 'open'\r\n\t\t});\r\n\t\tlet template = document.createElement('template');\r\n\t\ttemplate.innerHTML = this.controlTemplate();\r\n\t\tlet templateHTML = template.content;\r\n\t\tshadowDom.appendChild(templateHTML);\r\n\t\tsetTimeout(this.setupWidget.bind(this), 0);\r\n\t}\r\n\twebInstruction(checked) {\r\n\t\tthis.ec.txLibWebInstructions.checked = checked;\r\n\t}\r\n\ttxLibMenuClickHandler(ev) {\r\n\t\tthis.txLibEngine.load(ev.currentTarget.txLibReference);\r\n\t\tev.preventDefault();\r\n\t}\r\n\ttxLibWebInstructionsClickHandler(ev) {\r\n\t\tvar evData = {\r\n\t\t\tchecked: ev.currentTarget.checked,\r\n\t\t\ttitle: this.ec.txLibWebInstructions.articleData.title,\r\n\t\t\tid: this.ec.txLibWebInstructions.articleData.id\r\n\t\t};\r\n\t\tvar e = new CustomEvent('instructions', {\r\n\t\t\tdetail: evData\r\n\t\t});\r\n\t\tthis.dispatchEvent(e);\r\n\r\n\t}\r\n\tresetWidget() {\r\n\t\tthis.ec.txLibArticle.style.display = 'none';\r\n\t\tthis.ec.txLibraryInput.value = '';\r\n\t\tthis.ec.txLibraryList.style.display = 'none';\r\n\t\tthis.ec.txSearchHeader.style.display = 'inherit';\r\n\t}\r\n\tsetupWidget() {\r\n\t\tvar options = {\r\n\t\t\turl: \"https://expert-test.dshisystems.net\",\r\n\t\t\tappId: \"cmgplus\",\r\n\t\t\ttimeout: \"10000\",\r\n\t\t\tonMenuLoaded: this.onMenuLoaded.bind(this),\r\n\t\t\tonArticleLoaded: this.displayArticle.bind(this),\r\n\t\t\tmaxPrefetch: 256,\r\n\t\t\tmaxMenuLength: 10\r\n\t\t};\r\n\t\tthis.ec = {\r\n\t\t\ttxLibrarySearchBtn: this.shadowRoot.getElementById('txLibrarySearchBtn'),\r\n\t\t\ttxLibTitleText: this.shadowRoot.getElementById('txLibTitleText'),\r\n\t\t\ttxLibArticleNavBtn: this.shadowRoot.getElementById('txLibArticleNavBtn'),\r\n\t\t\ttxLibrarySectionList: this.shadowRoot.getElementById('txLibrarySectionList'),\r\n\t\t\ttxLibraryInput: this.shadowRoot.getElementById('txLibraryInput'),\r\n\t\t\ttxLibArticle: this.shadowRoot.getElementById('txLibraryArticle'),\r\n\t\t\ttxLibArticleBody: this.shadowRoot.getElementById('txLibArticleBody'),\r\n\t\t\ttxLibraryList: this.shadowRoot.getElementById('txLibraryList'),\r\n\t\t\ttxLibPatientInformation: this.shadowRoot.getElementById('txLibPatientInformation'),\r\n\t\t\ttxSearchHeader: this.shadowRoot.getElementById('txSearchHeader'),\r\n\t\t\ttxLibVIBox: this.shadowRoot.getElementById('txLibVIBox'),\r\n\t\t\ttxLibWebInstructions: this.shadowRoot.getElementById('txLibWebInstructions'),\r\n\t\t\ttxLibWebInstructionsLabel: this.shadowRoot.getElementById('txLibWebInstructionsLabel')\r\n\t\t};\r\n\t\tthis.ec.txLibArticleNavBtn.addEventListener('click', this.onNavBtnClick.bind(this));\r\n\t\tthis.ec.txLibrarySearchBtn.addEventListener('click', this.doShowLibSearchBar.bind(this));\r\n\t\tthis.ec.txLibWebInstructions.addEventListener('click', this.txLibWebInstructionsClickHandler.bind(this));\r\n\t\tthis.ec.txLibrarySectionList.style.display = 'none';\r\n\t\t//        this.ec.txLibraryInput.style.disabled = true;\r\n\t\tthis.ec.txLibraryInput.addEventListener('input', this.txLibraryInput.bind(this));\r\n\t\tthis.txLibEngine = new txLibraryEngine(options);\r\n\t\tthis.tlookup = {\r\n\t\t\tT: \"TST\",\r\n\t\t\tC: \"CID\",\r\n\t\t\tD: \"DRG\"\r\n\t\t};\r\n\t\tif (this.getAttribute('data-popup')) {\r\n\t\t\tthis.isPopup = (this.getAttribute('data-popup').toLowerCase() == 'true');\r\n\t\t\tthis.ec.txLibraryList.style.display = 'none';\r\n\t\t\tthis.ec.txLibPatientInformation.style.display = 'none';\r\n\t\t\tthis.ec.txLibrarySearchBtn.style.display = 'none';\r\n\t\t\tthis.ec.txLibArticleNavBtn.style.display = 'none';\r\n\t\t\tthis.ec.txSearchHeader.style.display = 'none';\r\n\t\t}\r\n\t\tif (this.getAttribute('data-instructions')) {\r\n\t\t\tthis.isInstructions = true;\r\n\t\t\tthis.ec.txLibraryList.style.display = 'none';\r\n\t\t\tthis.ec.txLibArticleNavBtn.style.display = 'none';\r\n\t\t\tthis.ec.txLibVIBox.style.display = 'none';\r\n\t\t\tthis.ec.txLibWebInstructionsLabel.style.display = 'none';\r\n\t\t\t//\t    this.ec.txLibPatientInformation.style.float = 'inherit';\r\n\t\t\tthis.ec.txLibPatientInformation.style.display = 'block';\r\n\t\t\tthis.ec.txLibArticleBody.style.marginTop = '30px';\r\n\t\t}\r\n\t}\r\n\ttxLibraryInput(ev) {\r\n\t\twhile (this.ec.txLibraryList.firstChild) {\r\n\t\t\tthis.ec.txLibraryList.removeChild(this.ec.txLibraryList.firstChild);\r\n\t\t}\r\n\t\tvar value = ev.target.value;\r\n\t\tif (value && value.length >= 1) {\r\n\t\t\tvalue = value.toLowerCase();\r\n\t\t\tif (this.txLibEngine.menuLib[value]) {\r\n\t\t\t\tfor (var i = 0; i < this.txLibEngine.menuLib[value].length; i++) {\r\n\t\t\t\t\tvar eName = this.txLibEngine.menuLib[value][i];\r\n\t\t\t\t\tvar aTitle = document.createElement('span');\r\n\t\t\t\t\taTitle.classList.add('txLibMenuText');\r\n\t\t\t\t\tvar aTitleText = document.createTextNode(eName);\r\n\t\t\t\t\taTitle.appendChild(aTitleText);\r\n\t\t\t\t\tvar aIcon = document.createElement('span');\r\n\t\t\t\t\taIcon.classList.add('txLibMenuIcon');\r\n\t\t\t\t\taIcon.classList.add('txLibMenuIcon_' + this.txLibEngine.menuLibs[eName]);\r\n\t\t\t\t\tvar aItem = document.createElement('li');\r\n\t\t\t\t\taItem.classList.add('txLibMenuEntry');\r\n\t\t\t\t\tif (this.txLibEngine.masterMap[eName])\r\n\t\t\t\t\t\taItem.txLibReference = this.txLibEngine.masterMap[eName];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\taItem.txLibReference = this.tlookup[this.txLibEngine.menuLibs[eName]] + \"~\" + eName;\r\n\t\t\t\t\taItem.appendChild(aTitle);\r\n\t\t\t\t\taItem.appendChild(aIcon);\r\n\t\t\t\t\taItem.setAttribute('tabindex', 0);\r\n\t\t\t\t\taItem.addEventListener('click', this.txLibMenuClickHandler.bind(this));\r\n\t\t\t\t\tthis.ec.txLibraryList.appendChild(aItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ec.txLibraryList.style.display = (this.ec.txLibraryList.firstChild) ? \"block\" : \"none\";\r\n\t}\r\n\tshowArticle(article) {\r\n\t\tthis.txLibEngine.load(article);\r\n\t}\r\n\tonNavBtnClick() {\r\n\t\tthis.ec.txLibrarySectionList.style.display = (this.ec.txLibrarySectionList.style.display == 'none') ? this.ec.txLibrarySectionList.style.display = 'inherit' : this.ec.txLibrarySectionList.style.display = 'none';\r\n\t}\r\n\tdoLibraryClick(ev) {\r\n\t\tvar article = ev.target.hash.substring(1);\r\n\t\tthis.txLibEngine.load(article);\r\n\t}\r\n\tonMenuLoaded() {\r\n\t\tthis.ec.txLibraryInput.disabled = false;\r\n\t\tthis.ec.txLibraryInput.style.cursor = 'text';\r\n\t}\r\n\tdoShowLibSearchBar() {\r\n\t\tthis.ec.txSearchHeader.style.display = 'block';\r\n\t}\r\n\ttxLibSectionClickHandler(ev) {\r\n\t\tthis.txLibEngine.load(ev.currentTarget.txLibSectionRef);\r\n\t\tthis.ec.txLibrarySectionList.style.display = 'none';\r\n\t\tthis.ec.txLibArticleNavBtn.textContent = ev.currentTarget.textContent;\r\n\t\tev.preventDefault();\r\n\t}\r\n\tgenerateSectionMenu(sections, library, topic) {\r\n\t\twhile (this.ec.txLibrarySectionList.firstChild) {\r\n\t\t\tthis.ec.txLibrarySectionList.removeChild(this.ec.txLibrarySectionList.firstChild);\r\n\t\t}\r\n\t\tfor (var idx = 0; idx < sections.directory.length; idx++) {\r\n\t\t\tvar section = sections.directory[idx];\r\n\t\t\tvar data = sections.entries[section];\r\n\t\t\tvar title = data.title;\r\n\t\t\tvar indentLevel = data.indentLevel;\r\n\t\t\tvar aTitle = document.createElement('span');\r\n\t\t\taTitle.classList.add('txLibSectionListEntry');\r\n\t\t\taTitle.classList.add('txLibOvl' + indentLevel);\r\n\t\t\tvar aText = document.createTextNode(title);\r\n\t\t\taTitle.appendChild(aText);\r\n\t\t\tvar aItem = document.createElement('li');\r\n\t\t\taItem.appendChild(aTitle);\r\n\t\t\taItem.classList.add('txLibSectionEntry');\r\n\t\t\taItem.txLibSectionRef = library + '~' + topic + '~' + section;\r\n\t\t\taItem.setAttribute('title', title);\r\n\t\t\taItem.setAttribute('library', data.library);\r\n\t\t\taItem.setAttribute('tabindex', 0);\r\n\t\t\taItem.addEventListener('click', this.txLibSectionClickHandler.bind(this));\r\n\t\t\tthis.ec.txLibrarySectionList.appendChild(aItem);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdisplayArticle(article) {\r\n\t\tthis.ec.txLibWebInstructions.checked = false;\r\n\t\tvar aData = {\r\n\t\t\tid: article.library.toLowerCase() + '~' + article.topic.toLowerCase().replace(/ /g, '-') + '~' + article.fullTitle.toLowerCase().replace(/ /g, '-'),\r\n\t\t\ttitle: article.topic\r\n\t\t};\r\n\t\tvar e = new CustomEvent('articleLoading', {\r\n\t\t\tdetail: aData\r\n\t\t});\r\n\t\tthis.dispatchEvent(e);\r\n\r\n\t\tthis.ec.txLibWebInstructions.articleData = aData;\r\n\t\tthis.ec.txSearchHeader.style.display = 'none';\r\n\t\tthis.ec.txLibArticleBody.innerHTML = article.body;\r\n\t\tvar articleLinks = this.ec.txLibArticleBody.querySelectorAll(\"a\");\r\n\t\tfor (var i = 0; i < articleLinks.length; i++) {\r\n\t\t\tif ((this.isPopup) || (this.isInstructions)) {\r\n\t\t\t\tvar span = document.createElement('span');\r\n\t\t\t\tspan.innerHTML = articleLinks[i].innerHTML;\r\n\t\t\t\tarticleLinks[i].parentNode.replaceChild(span, articleLinks[i]);\r\n\t\t\t} else {\r\n\t\t\t\tarticleLinks[i].addEventListener('click', this.doLibraryClick.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.generateSectionMenu(article.sections, article.library, article.topic);\r\n\t\tif ((this.isInstructions) || (article.title.toLowerCase() == 'overview')) {\r\n\t\t\tthis.ec.txLibTitleText.innerHTML = article.topic;\r\n\t\t} else {\r\n\t\t\tthis.ec.txLibTitleText.innerHTML = article.topic + ' ' + article.title.replace('Veteran', 'Home Care');\r\n\t\t}\r\n\r\n\t\tthis.ec.txLibArticle.style.display = 'block';\r\n\t\tthis.ec.txLibArticleNavBtn.textContent = article.title;\r\n\t}\r\n\tcontrolTemplate() {\r\n\t\treturn '<STYLE>' +\r\n\t\t\t'#txSearchLine {' +\r\n\t\t\t'  position: relative;' +\r\n\t\t\t'  display: block;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txSearchLine span {' +\r\n\t\t\t'  position: absolute;' +\r\n\t\t\t'  bottom: -3px;' +\r\n\t\t\t'  right: 2px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibUp {' +\r\n\t\t\t'  margin: 0;' +\r\n\t\t\t'  padding: 0;' +\r\n\t\t\t'  width: 32px;' +\r\n\t\t\t'  height: 32px;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  background-size: 28px 28px;' +\r\n\t\t\t'  background-repeat: no-repeat;' +\r\n\t\t\t'  background-image: url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBAkSJBg0rxSQAAADcElEQVRIx33VXYhVVRgG4GevvR01o9GgH5GozDILSQhNs7yKEkqMoEJHnYuSjLoKpNJGE0aI6aJACg0qjhr9gHShghF5o6NhQzrd+RvRvxT2Y+gcz9m7i732GT2e2hebtdbe77vW933re99Eh6d3dJigqCa1Dv8m/wENgkKuQCJI5PJONEkHeJBoxqUMjThOKddrnQh6q3mQK9zsEfNN1Y2/feuAXY4jjadqkSSXwZvutN4i49qCrdvjVYfbKdLy66wSnsit8bGZMoVTBu3zte8Fk2SmW2mcvdW2w6Mn6K1Gqe2eVGj6xFuG1OPuY8yySo8uid0ed06iKM+QXJS63AeW4rheByUKaSxjU6Iwy1YzsdPiqrg1oZXh3IuW4oB7HJTFWuSxfEHmiHk+xyIbFVXwIb6b7tCHYxY7I9PQVAgxM4mmhsw/HnMYq83RLLGhFf9qE+Se9ZssVj6TW2+bXCJBQ+asZ4zIvFRVL8T9b/Aodth7EbxhjXWWqF1C8ZVtWOh2uSAS8ICJeDcmJ5FpWGujuhErbG1R5Hgf4y0skVUS5+EHXyKXSDWs1a8u06VueYsix5BjmFtuFiLrLTjpz3gbGl7R77wuA1bqMmK57XKJIKg7iqklMosE3TiNoNCwzgbnjfOml5HZbESPRE9M7WlcJdOQZG2NlWjqi/A3vCAVbMFmI5Yq9I6qw+g9CDiDa9Ewxwb1Fjx3wRhbrDLWiB7LNHE9/tCQKCqCE7jVJBzyvC6vR3hBpHjKWJvUMN50nCqRVQiDVplsvl1Sb/vGEFXb4oLUe446AmabhsEy6BBV5gu/4+kY1n71qt+icDQFg84ZE/8667My/QGF1M92YLGHNaVRlSI4UuSC1AULLMEuJwR51c5Bbpoh3b4z34+t66zmIqHNNFxtvxnOm2tYkFftnEud0Icb7TZZQyYryWOzpRG+0wz0G5aWKl1d5aZgk3dwl0MearVzKo0C33C/Q+7FRzYKlW6nDJeKSLDTFHe70jKznfGrEYVCYYIFBrxmksSHVlTVqbWpcqnJzxlwhULiF0edVrjGbaYoJOr6DAiK0RR3kvWbrPGEbkXLNQqJsz7V71i7rLcbS2Ud13nQfaaZiL+cdMAeP7Vsx2XGcglJy9pql66nijLzHa2t7RyJlJYih9bY/5rrZTRtTyd7/xensTx0tQ2+BgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNC0wOVQxODozNjoyNC0wNzowMJabuVkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDQtMDlUMTg6MzY6MjQtMDc6MDDnxgHlAAAAAElFTkSuQmCC\\')' +\r\n\t\t\t'' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibUp: hover{' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibCopyright {' +\r\n\t\t\t'  margin-top: 8px;' +\r\n\t\t\t'  font-size: small;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#txLibTitleText {' +\r\n\t\t\t'  line-height: 32px;' +\r\n\t\t\t'  cursor: default;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#txLibrarySectionList {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  width: fit-content;' +\r\n\t\t\t'  margin-top: 0px;' +\r\n\t\t\t'  }' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibSectionEntry {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  border-bottom: 1px solid #ddd;' +\r\n\t\t\t'  padding-left: 16px;' +\r\n\t\t\t'  padding-right: 16px;' +\r\n\t\t\t'  padding-top: 6px;' +\r\n\t\t\t'  padding-bottom: 6px;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibSectionListEntry {' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibSectionEntry:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txLibOvl0 {' +\r\n\t\t\t'  margin-left: 0px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txLibOvl1 {' +\r\n\t\t\t'  margin-left: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txLibOvl2 {' +\r\n\t\t\t'  margin-left: 20px;' +\r\n\t\t\t'}' +\r\n\t\t\t'.txLibOvl3 {' +\r\n\t\t\t'  margin-left: 30px;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuEntry {' +\r\n\t\t\t'  border-bottom: 1px solid #ddd;' +\r\n\t\t\t'  padding-left: 16px;' +\r\n\t\t\t'  padding-right: 16px;' +\r\n\t\t\t'  padding-top: 6px;' +\r\n\t\t\t'  padding-bottom: 6px;' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuEntry:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txDisplayList {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  list-style: none;' +\r\n\t\t\t'  font-family: sans-serif;' +\r\n\t\t\t'  font-weight: 700;' +\r\n\t\t\t'  font-size: 14px;' +\r\n\t\t\t'  white-space: nowrap;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  padding-left: 0px;' +\r\n\t\t\t'  background-color: #f6f6f6;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuText {' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibLink {' +\r\n\t\t\t'  text-decoration: none;' +\r\n\t\t\t'  color: black;' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuIcon_C {' +\r\n\t\t\t'width: 20px;' +\r\n\t\t\t'height: 20px;' +\r\n\t\t\t'float: right;' +\r\n\t\t\t'background-repeat: no-repeat;' +\r\n\t\t\t'background-image: url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAFSUlEQVR42mJkYGhjYGD4L+DnJ9uopMAV/v4PO7Owqjwrz9/fH2f05eZ/fK17++/fd9/+/Ft9nwEFqANxIhBfB+LtQPwKLAoQQCwMDH8ZnZykmuPjRXLOnLz08wuXEsNXHTV2aUl2fqFdSXOqo4zZuLnZvmSn3i/8+eHMSgYCACCAGLi4uvWWLTv839Q0+iYDA6MPA4OAPYd53XahyOXP2aULLqfPu/+/+vj//8GtZ/8pyFhnAfUwIVzYAcTxQCwGNw8ggBisrBZmrVt36D8jI28ikj0gTXJALMIoYJnJoBy3NSRl6tP1a0785+bWiofqBOI+II5DMRAggJg0NEXE79x5zvD//+dzSAb+A+JHQPzm/4fj0xnuLvJfN6cl7MHjHwy6uloxQHFWBgY9IPUHaPFfZgaGn3CNAAHE8vXnXxFRRWkGRiZ+tv//PuIIGLY//xg+nrxy5cUbfn5WEQYGCWZxCd3UoHjBSBYWIcaNy5gOPrq/Buj/758BAojZhVOpOYH7oeQNTgPJW3eObgbq/gV2AAMwOBksgNgIiJ0YWFgcpVNTdSq2bt14XErU0bB+pk6LewSzvJOzspyLr7nt67f81revXDoAEEBMin9eaH7omczgZOPlY2FdOAUYMZwMDL+BhigBsSYQawGxILeHl16hjCwD8707Xx/kp1qm86rfY3z+/CPDnaePGDgE3jCk1xvbyarqJwMEAFEArv8E5Qsf+QQOBgmIio/FZXBtXRMQFRXAwK6P9fX83QAA/gsgIA0tRUQdaIKAOT52fI/b/gAG3hn39QrX7+AA/vTfABURIADk9PsACQUOABkjCicCAFEArv8E4/b51BRAQjwEqrrJiIfZk1pYbIxjY3y74ODv/AsMBPwPGAgBXQrkB/hfZwCpw9a5AADvq+aivYIfORITyu/dAE3aFwC+JOsA9g/8APDt9v8CiEGGxzTzUXrB/04O4w8MDNJmIC+zccp6CovrJ7EK6Kd5ycWd+ayo8X8Cg9R3BgZ2T1AUSTAYFc9wDfu/b2Xx//Op3v+bN0b8d06J/8HMIhgDEEBAaX6pTOP0hz+83P93MKg8U2Awr2JlCHDmYohOTmVw2PNVSOrfcSaZ/wIMGiuAirkhsc7IKMygUDLHJf/HAz29/7pKVreA4ZwDlGAHCCBI2mGUtqtxzH3/IT35/y0Zjf/HeNX/X+dV+v9DWuH/bkmb/2pMuvuAaV0JahgQc4AiS6DDpuLzFQGV/wwMPDGwBAYQQCwg4s//p4da9i92O/8qZPokbVXjtXd+ffzEyXT35vsvj4+9e3H8z7+7QNf9ewjREgrE+gxsrH8NPARvc9/8zfIXKHcHZiBAALEgEu+H07tuP130XF7S+OndY09WMNwJAFr1GCHPB8TAIGYwBZVODLryzDb6TO8YZ3z9Dyxm/r2AqQIIICbk/PD714mlu/8KvKw0ldYWYVCIgngPBCSBOAGcwCG5kpE9WPBBwIO95xlWMAhcYGD48QxmBkAAMaNmsR/fb79hEwh0tbTzfP/S8dB79tefGP7dAyby75AEDkzzjMxC9nLvJzX+2eHV/4L7xwGGm3VAp1yGmQAQQIyY+ZaDV5THcWqXs2as1dPjDAcvv3p05Cf70asMxs8FGf4KejKcc4rmeyE//7PU38r/n1oYGJ60gKIBphsggBixFwYs7CxMukVRhtY1SWJvuFR/fmR4f+k6A9vPLwy/xOUYJrwS+rHo09W+XwzPQYZ9R9YJEECM+ItfIVN2NhkHVVEBbSHmv9w/f/39e+vrj/vvvzw8wPD//X5IQYIKAAIMAIvv2zO141I1AAAAAElFTkSuQmCC\\');' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuIcon_D {' +\r\n\t\t\t'width: 20px;' +\r\n\t\t\t'height: 20px;' +\r\n\t\t\t'float: right;' +\r\n\t\t\t'background-repeat: no-repeat;' +\r\n\t\t\t'background-image: url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAF00lEQVR42mIU1eu05+Bkb3KwUdYXEuRk+P//PwMMgJjPX3xmePP265t7ty8ffv7w8pF/327t+fv97kMGHAAggBikTPpuzVp/5f/b3//+v/jx9//z73/g+BkQ333//f/1V1//77/27n/phJP/NR377jFzafriMg8ggBhtwhd/WTgjlPv5l58MX3/9ZWAECjIzMzEwAfH/f/8ZQBCEWIF8NjZmhpevfzDMmHT4/47FNSn/v1+Zh24gQACxMDIx/fn47RfDiy+/GH7++cfAxMjI8PH9N4ZvX/8zcPNyAjELAyvLf4Zfv/8ysDAxMrBzsDIEJVky3rzokXfv5JV1QDM+IBsIEEAsP//+Y/j08y/Dc6CBP37/Y2AFumLH6gsMh1fNO8rC/PGKiLyxfmxOgoWmkTTDw7dfGZiA6lhZ2Rik1TU1751kNmRg+Lsf2UCAAGL5BTTww48/DE8//WT4DnIFKyvD+y/fGb6+OLKYmUNo5sf33D6XLj7baG+vyHTo7lsGFmZGBmbWfwzf//5jAernR/cyQACxAOOC4cPPPwyPP0LCkJnlDwMTDyeDknV2IhuvjCWbIJ+robUC0+lHHxkefPjJwMHOwvAX6KOX94GmM/x9xMjEzsDMxsfw58drsIEAAcTy689/ho/ffzM8+fCD4fPP3+AwFDGSZ5CxVDP/9++vORcnM8O5b38YHl16AXQZC8O/d38Y3uw8w/D83NL5jExs54RV0xi+vTsHNxAggFj+//vH8Afost/AiPn9/RcDGyszww9gVN97+Rkcs+CkAMT/3n1j+Pno5e93Z3fe/Hhr+womFsaJgsrZVozsSoGsXN++M7PdmPP319tHAAEEtPI/w99ffxj+ff3J8Pf7H4Y/jL8YtPnZGXSUhBgOXHsFkgYmI0aGXy+/Mnw+f/3Tx5tbK9l4JA9wSoe1SGqqZSmrC7E+eiHL8PyiXMS76zNjAQKIWVDJt8LIWIbj2sP3DD9//Gb4A4zFc9uuMciI8zMYqwkz3H/ygeH7118M7AIcDOziUlzM/1TMGVhUI7RsDAMDo/SYXwAtfMvKyMD4T0D42+PbvwECCJR6Gf4Ck8vfb7/BmAEY0wyfP/zaNH/nl4fX3zIEGEsziLAzM3wFJhlGdgYGLm01ZS0HQ2MHVyWGrcceMly+9pLhz1tgGn79lOH3jydPAAIIGIb/Gf/9/sPwF+iKf8Dkw/AfZMfnr19uzyreMv9dxnVTOzMPTxWGq4/eM1y89YaBHRjL//jYGLYevs/wGegA5t+MDG8vH/747tbyKX++P50OEEAsX7/8ZXn5+isDFzCcPgIj5f9/UPJiZvv7++3Frw/met39/XXe6g92fqFhugzCnKwMB04/ZngBtJwJFF/fgGn41vm3b65NSAHGxAZQBAIEENPPN5dW7N/1gOHHe2DEfP7P8Bto+Pc3564xMrLc45P152dgFWAQ4mFlePvmK8Or558YGIC++PvtJ8MfkI/+/mFg5RPn4BKzVmAAJjiQgQABAFEArv8D+fHSvvPr6ALy6ekE+uzf6/PhusL16r95Dx5TDAUTPrk6QC83Ki0WAMLG4QDf4e4ABwIDADMrGADz8fcA9fT4AAUMDgYIDi5IAf8GFvrz3MACiBEp1/AAMRsQv+eRdBPjlgq4aGMnKy4lzcewadt1hl9/QIUDK8PPj2/+KyjKMGroSjKcOPOQ4RMwh7GysTD8/8XM8Pb67GKAAGJGMvAXEH/nENRl4JMNNQGWQjlOjkoMe/fdZngPTNSszBwMP9/c/Pzu1vTcV8+eXvz+V87O3FSB4ffPXwwfQIUGEwfD788PvgMEEDNmCcnE8OPDxXdMrIImz9/wKP/7xwRMn38Zfrw+/fzDvSXlf3+9n/P3+8P9Xz59YXz7WcKBj18A6PV/wFz2juHL8x3LAQKIEVfJy8zKI8kmYFrKxMwh++/Xyyff319YBUxPx5GtZuNRC2HmlPdkZmHi/fnx2qnf3x7PAwgwADJaphiAASYgAAAAAElFTkSuQmCC\\');' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'.txLibMenuIcon_T {' +\r\n\t\t\t'width: 20px;' +\r\n\t\t\t'height: 20px;' +\r\n\t\t\t'float: right;' +\r\n\t\t\t'background-repeat: no-repeat;' +\r\n\t\t\t'background-image: url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42mI0c5nOgA7+/PkvqqwkccxYX0r0w8cfDIyMDEDMCKYF+TmAHAaGX7/+MXz+9IfhxetfDEcPr1506+LsCgaGv98AAojl75/vGAZ+/fqbx8bcVD4vzYT1x49/DMzMjGDMxISq7u3bPwyPH39lsLGQyZ0wmU3y6tl5eQABxMKAHfwHol9//zCw/v8HZDJBRBj+M4JdBwPCwiwMf/9wMPz5Lc7QWFMXUlb+5A1AALGgqADq+g9j/Yfgn7/+Mvz8zcDAAnIhMyOK90GAT4CZQZ6Rg4GDixkYHLxiAAHEwsrGDTUCouL/3x9AQ//8YmBkAnqTgeHZiy8M74HhyMYKNIQJZiADmABR/4A+UJATYFBUZGFgY2f8CxBAKC78x8TGwPz3HwcXw1fFnz++Mz3/8J+BiYWFgYOdGew6UBjCXAfT9Q/oDZA4JycDOJwBAoiFhRXiwn/AgOL48d4rQuFJh7H6ZwWeZ82ct/sMGM6LuDHIqSkycHMwIbkOYiAoSEAGCgtyMfDyQMIZIIBY7lyeAzGQkZlBlJnXXvLnI13t3x8YWLUkGOSl2RjOPPjE8PcfIlzhgcOIiD6Qof/+QeINIIBY/v79BffyB2bh5S/kzfOvyDIysoqosgqcPsloaOXOIKoqzPD/z2+g14DehrkQGiugVMDJzsrw5y/EQIAAYlHWToBIABV8//CeiYv3+X9+N89vbHwSfBLPbzBf/Pqbgf0z0NK/QANB4QcKR6ifYZHCzweMZQ6IFwACCJ5U/wO9zP33W6IY518O9md3/7O/uMfIIMDPwPDyMcNfJlawIeAIYUCNFJAYyNDfvyHeBwggJgZoEvj966+2vfDjWGMP3X8cjK/ZuVk/MHJ4ujEIvL7IcP/CbQZmVlawRkhEQJM+lP33Lyi7QrwMEEAsIPIPIwujzJtjE2OaXPk/y0i//swrxyAkrsTFKyfOYBjLxvBw1RmG63zCDByMv6GuQkTKP2gYcnDwAC34zwAQQCz/mZgZ/n16ZxFkzWkvLMPy5c2lbd9ZGRnZGN+cA2Z1bQZecSkGNdZ7DNe/fGIwddBg+PPzFzy3wPIWOyszw48fENcDBBDL77//efU4nrYHFSey8HJ/5RL/LcLN+OoiI8OD8wwMp4B+CepiML6xhuHRxdcMz/WnMsgLswGT0X+UDAsCIG+DbAIIIBb+t7djonWf2rO9ecLw79Y1JmbmDwwM34D4739QsQMOHNaoYgbbyzcZVq7dxsAW6sPA+Pc3imGgnPL9JxD/+M8OEEAsGv8f1elb6jBcK85m0OV8zsCsIsrAIANM9lLiDAxONgwMQlwMDKbpDJKONxjkq5f+j0k6dJGd+d8XRkgZhJTSWZge3T17CiCAWF6y8L44dfymhP6bBwysYkDxT5+BLgRm8d/fgJkT6I+Pd4Cu1AG6+A/DtZ9fP9w+NyUWqOoWAwOGr0EW/AIIIOaHn1+fvv2C21xGVkFC1VSPgZkTmLf5gFhQkIGBX5bhN7csw4UrHxhaJ+z9MHnViom/f31aByrUQcGGhkFi/wECCGILM6cor4iGl7KsnLYYP6ckHxczO8O/XwxffjH+e/X+y8c79+7f+vTu5lFgIjkLVP2bAQ8ACDAA9FitRQYvNAUAAAAASUVORK5CYII=\\');' +\r\n\t\t\t'}' +\r\n\t\t\t'' +\r\n\t\t\t'#txLibraryPanel {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  font-family: Helvetica, Arial, sans-serif;' +\r\n\t\t\t'  font-size: 1em;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txSearchHeader {' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  padding: 10px;' +\r\n\t\t\t'  outline: none;' +\r\n\t\t\t'  background-color: #F0F0F0;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibraryInput {' +\r\n\t\t\t'  cursor: wait;' +\r\n\t\t\t'  font-size: 12pt;' +\r\n\t\t\t'  display: block;' +\r\n\t\t\t'  width: calc(100% - 38px);' +\r\n\t\t\t'  padding-left: 32px;' +\r\n\t\t\t'  height: 30px;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIzMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGUvPjxkZXNjLz48ZGVmcy8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgZmlsbD0iIzkyOTI5MiIgaWQ9Imljb24tMTExLXNlYXJjaCI+PHBhdGggZD0iTTE5LjQyNzExNjQsMjAuNDI3MTE2NCBDMTguMDM3MjQ5NSwyMS40MTc0ODAzIDE2LjMzNjY1MjIsMjIgMTQuNSwyMiBDOS44MDU1NzkzOSwyMiA2LDE4LjE5NDQyMDYgNiwxMy41IEM2LDguODA1NTc5MzkgOS44MDU1NzkzOSw1IDE0LjUsNSBDMTkuMTk0NDIwNiw1IDIzLDguODA1NTc5MzkgMjMsMTMuNSBDMjMsMTUuODQ3MjEwMyAyMi4wNDg2MDUyLDE3Ljk3MjIxMDMgMjAuNTEwNDA3NywxOS41MTA0MDc3IEwyNi41MDc3NzM2LDI1LjUwNzc3MzYgQzI2Ljc4MjgyOCwyNS43ODI4MjggMjYuNzc2MTQyNCwyNi4yMjM4NTc2IDI2LjUsMjYuNSBDMjYuMjIxOTMyNCwyNi43NzgwNjc2IDI1Ljc3OTYyMjcsMjYuNzc5NjIyNyAyNS41MDc3NzM2LDI2LjUwNzc3MzYgTDE5LjQyNzExNjQsMjAuNDI3MTE2NCBMMTkuNDI3MTE2NCwyMC40MjcxMTY0IFogTTE0LjUsMjEgQzE4LjY0MjEzNTgsMjEgMjIsMTcuNjQyMTM1OCAyMiwxMy41IEMyMiw5LjM1Nzg2NDE3IDE4LjY0MjEzNTgsNiAxNC41LDYgQzEwLjM1Nzg2NDIsNiA3LDkuMzU3ODY0MTcgNywxMy41IEM3LDE3LjY0MjEzNTggMTAuMzU3ODY0MiwyMSAxNC41LDIxIEwxNC41LDIxIFoiIGlkPSJzZWFyY2giLz48L2c+PC9nPjwvc3ZnPg==) no-repeat left center;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibraryTitle {' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  background-color: lightgray;' +\r\n\t\t\t'  padding-left: 10px;' +\r\n\t\t\t'  padding-right: 10px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibraryArticle {' +\r\n\t\t\t'  display: none;' +\r\n\t\t\t'  with: 100%;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibraryArticleTitle {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'  text-align: center;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibrarySearchBtn {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  float: right;' +\r\n\t\t\t'  width: 32px;' +\r\n\t\t\t'  height: 32px;' +\r\n\t\t\t'  background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIzMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGUvPjxkZXNjLz48ZGVmcy8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgZmlsbD0iIzkyOTI5MiIgaWQ9Imljb24tMTExLXNlYXJjaCI+PHBhdGggZD0iTTE5LjQyNzExNjQsMjAuNDI3MTE2NCBDMTguMDM3MjQ5NSwyMS40MTc0ODAzIDE2LjMzNjY1MjIsMjIgMTQuNSwyMiBDOS44MDU1NzkzOSwyMiA2LDE4LjE5NDQyMDYgNiwxMy41IEM2LDguODA1NTc5MzkgOS44MDU1NzkzOSw1IDE0LjUsNSBDMTkuMTk0NDIwNiw1IDIzLDguODA1NTc5MzkgMjMsMTMuNSBDMjMsMTUuODQ3MjEwMyAyMi4wNDg2MDUyLDE3Ljk3MjIxMDMgMjAuNTEwNDA3NywxOS41MTA0MDc3IEwyNi41MDc3NzM2LDI1LjUwNzc3MzYgQzI2Ljc4MjgyOCwyNS43ODI4MjggMjYuNzc2MTQyNCwyNi4yMjM4NTc2IDI2LjUsMjYuNSBDMjYuMjIxOTMyNCwyNi43NzgwNjc2IDI1Ljc3OTYyMjcsMjYuNzc5NjIyNyAyNS41MDc3NzM2LDI2LjUwNzc3MzYgTDE5LjQyNzExNjQsMjAuNDI3MTE2NCBMMTkuNDI3MTE2NCwyMC40MjcxMTY0IFogTTE0LjUsMjEgQzE4LjY0MjEzNTgsMjEgMjIsMTcuNjQyMTM1OCAyMiwxMy41IEMyMiw5LjM1Nzg2NDE3IDE4LjY0MjEzNTgsNiAxNC41LDYgQzEwLjM1Nzg2NDIsNiA3LDkuMzU3ODY0MTcgNywxMy41IEM3LDE3LjY0MjEzNTggMTAuMzU3ODY0MiwyMSAxNC41LDIxIEwxNC41LDIxIFoiIGlkPSJzZWFyY2giLz48L2c+PC9nPjwvc3ZnPg==) no-repeat left center;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibrarySearchBtn:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibArticleMenu {' +\r\n\t\t\t'  width: 100%;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibArticleNavBtn {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'  border-style: none;' +\r\n\t\t\t'  margin-top: 5px;' +\r\n\t\t\t'  margin-bottom: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibArticleNavBtn:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibPatientInformation {' +\r\n\t\t\t'  padding: 7px;' +\r\n\t\t\t'  display: inline-block;' +\r\n\t\t\t'  float: right;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibWebInstructions {' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibWIBox {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  background-color: #f6f6f6;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'  display: inline;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibWIBox label {' +\r\n\t\t\t'  cursor: inherit;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibWIBox input {' +\r\n\t\t\t'  cursor: inherit;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibWIBox:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibVIBox {' +\r\n\t\t\t'  cursor: pointer;' +\r\n\t\t\t'  border-radius: 10px;' +\r\n\t\t\t'  background-color: #f6f6f6;' +\r\n\t\t\t'  display: inline;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibVIBox label {' +\r\n\t\t\t'  cursor: inherit;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibVIBox input {' +\r\n\t\t\t'  cursor: inherit;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibVIBox:hover {' +\r\n\t\t\t'  background-color: #DEF;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibArticleBody {' +\r\n\t\t\t'  margin-top: 5px;' +\r\n\t\t\t'  padding: 5px;' +\r\n\t\t\t'}' +\r\n\t\t\t'#txLibArticleBody a {' +\r\n\t\t\t'  text-decoration: none;' +\r\n\t\t\t'}' +\r\n\t\t\t'</STYLE>' +\r\n\t\t\t'<div id=\"txLibraryPanel\">' +\r\n\t\t\t'<div id=\"txSearchHeader\">' +\r\n\t\t\t'<div id=\"txSearchLine\">' +\r\n\t\t\t'<form action=\"javascript:void(0);\" autocomplete=\"off\">' +\r\n\t\t\t'<input type=\"text\" name=\"txLibraryInput\" id=\"txLibraryInput\" placeholder=\"Begin typing to select topic...\" autocomplete=\"off\" readonly onfocus=\"this.removeAttribute(\\'readonly\\');\">' +\r\n\t\t\t'</form>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<ul id=\"txLibraryList\" class=\"txDisplayList\"></ul>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<div id=\"txLibraryArticle\">' +\r\n\t\t\t'<div id=\"txLibraryTitle\">' +\r\n\t\t\t'<div id=\"txLibraryArticleTitle\"><span id=\"txLibTitleText\">Chest Pain</span><span id=\"txLibrarySearchBtn\"></span></div>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<div id=\"txLibArticleMenu\">' +\r\n\t\t\t'<button id=\"txLibArticleNavBtn\">Overview</button>' +\r\n\t\t\t'<div id=\"txLibPatientInformation\">Instructions: <div id=\"txLibWIBox\"><label for=\"txLibWebInstructions\" id=\"txLibWebInstructionsLabel\">Web</label><input type=\"checkbox\" id=\"txLibWebInstructions\"></div><div id=\"txLibVIBox\"><label for=\"txLibVerbalInstructions\">Verbal</label><input type=\"checkbox\" id=\"txLibVerbalInstructions\"></div></div>' +\r\n\t\t\t'<ul id=\"txLibrarySectionList\" class=\"txDisplayList\"></ul>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'<div id=\"txLibArticleBody\">' +\r\n\t\t\t'<b>What is pregnancy?</b><br>A woman who is pregnant has a fertilized egg growing inside the uterus. Pregnancy ends in delivery of a baby, which occurs normally in about 9 months. Pregnancy is divided into 3 equal parts, known as trimesters. Each trimester is about 12 weeks long. <br><br><b>What are the symptoms of pregnancy?</b><br>Symptoms of early pregnancy may include <a href=\"#cid~nausea~overview\">nausea</a>, <a href=\"#cid~dizziness~overview\">dizziness</a>, <a href=\"#cid~breast-tenderness~overview\">breast tenderness</a>, <a href=\"#cid~weakness-or-fatigue~overview\">fatigue</a>, <a href=\"#cid~urinary-frequency~overview\">frequent urination</a>, <a href=\"#cid~lower-back-pain~overview\">low back pain</a>, <a href=\"#cid~irritability~overview\">irritability</a>, <a href=\"#cid~mood-swings~overview\">mood swings</a>, and <a href=\"#cid~weight-gain~overview\">weight gain</a>. As pregnancy progresses, additional symptoms include a progressive increase in the size of the uterus, <a href=\"#cid~nipple-discharge~overview\">nipple discharge</a>, <a href=\"#cid~constipation~overview\">constipation</a>, <a href=\"#cid~heartburn~overview\">heartburn</a>, <a href=\"#cid~lower-abdominal-pain~overview\">lower abdominal pain</a>, <a href=\"#cid~leg-swelling~overview\">leg swelling</a>, and additional weight gain.<br><br><b>How does the doctor treat pregnancy?</b><br>General treatment for pregnancy includes <a href=\"#cid~mens-health~prevention-exercise\">exercise</a>, a healthy diet, regular visits to the <a href=\"#cid~doctor~overview\">doctor</a>, prenatal vitamins, and avoiding exposure to smoke, alcohol and drugs.' +\r\n\t\t\t'</div>' +\r\n\t\t\t'</div>' +\r\n\t\t\t'</div>';\r\n\t}\r\n}\r\n/* txLibraryEngine 1.0.0\r\n */\r\nfunction txLibraryEngine(options) {\r\n\tif (options.onMenuLoaded)\r\n\t\tthis.onMenuLoaded = options.onMenuLoaded;\r\n\tif (options.onArticleLoaded)\r\n\t\tthis.onArticleLoaded = options.onArticleLoaded;\r\n\tif (options.maxPrefetch)\r\n\t\tthis.maxprefetch = options.maxPrefetch;\r\n\telse\r\n\t\tthis.maxprefetch = 256;\r\n\tif (options.maxMenuLength)\r\n\t\tthis.maxmenulength = options.maxMenuLength;\r\n\telse\r\n\t\tthis.maxmenulength = 8;\r\n\tthis.appId = options.appId;\r\n\tif ((options.url) && (options.url !== '')) {\r\n\t\tthis.url = options.url;\r\n\t} else {\r\n\t\tif (!window.location.origin) {\r\n\t\t\tthis.url = window.location.protocol + '//' + window.location.host;\r\n\t\t} else {\r\n\t\t\tthis.url = window.location.origin;\r\n\t\t}\r\n\t}\r\n\tif (options.timeout) {\r\n\t\tthis.timeout = options.timeout;\r\n\t} else {\r\n\t\tthis.timeout = 10000;\r\n\t}\r\n\tif (!_isSetup(this)) {\r\n\t\tthrow ('Missing Required Options');\r\n\t}\r\n\tthis.lib = loadLibraryMenu.bind(this)();\r\n\r\n\tfunction _isSetup(THIS) {\r\n\t\tif ((!THIS.url) || (THIS.url === '')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif ((!THIS.appId) || (THIS.appId === '')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction loadLibraryMenu() {\r\n\t\tvar i;\r\n\t\t//        var req = this.url + '/js/txclibrarymenu.json';\r\n\t\tvar req = 'https://library.dshisystems.net/js/txclibrarymenu.json';\r\n\t\tfetch(req).then(function(response) {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconsole.error('tX: Response: ' + response.status + ' ' + response.statusText);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t}.bind(this)).then(function(cidJson) {\r\n\t\t\tif (!this.menuJson) {\r\n\t\t\t\tthis.menuJson = {};\r\n\t\t\t}\r\n\t\t\tthis.menuJson.cid = cidJson.all;\r\n\t\t\tprocessLibMenus.bind(this)();\r\n\t\t}.bind(this));\r\n\t}\r\n\r\n\tfunction processLibMenus() {\r\n\t\tvar libMenu = this.menuJson;\r\n\t\tvar eName = '';\r\n\t\tvar mName = '';\r\n\t\tvar mLibEntry;\r\n\t\tvar i;\r\n\t\tvar sn;\r\n\t\tthis.menuLib = {};\r\n\t\tthis.menuLibs = {};\r\n\t\tthis.menuCount = {};\r\n\t\tthis.masterMap = {};\r\n\t\tthis.fullLibMenu = [];\r\n\t\tif (!this.libMap) this.libMap = {\r\n\t\t\tCC: 'C',\r\n\t\t\tCD: 'D',\r\n\t\t\tCT: 'T',\r\n\t\t\tDC: 'D',\r\n\t\t\tDD: 'D',\r\n\t\t\tDT: 'T',\r\n\t\t\tTC: 'T',\r\n\t\t\tTD: 'D',\r\n\t\t\tTT: 'T'\r\n\t\t};\r\n\t\tfor (var pName in libMenu) {\r\n\t\t\tfor (i = 0; i < libMenu[pName].length; i++) {\r\n\t\t\t\teName = libMenu[pName][i];\r\n\t\t\t\tvar pIndex = eName.indexOf('|');\r\n\t\t\t\tif (pIndex > 0) {\r\n\t\t\t\t\tmName = eName.substr(pIndex + 1);\r\n\t\t\t\t\teName = eName.substr(0, pIndex);\r\n\t\t\t\t\tthis.masterMap[eName] = mName;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.masterMap[eName] = eName;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.menuLibs[eName]) {\r\n\t\t\t\t\tthis.menuLibs[eName] = pName.toUpperCase().charAt(0);\r\n\t\t\t\t\tthis.fullLibMenu.push(eName);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmLibEntry = this.menuLibs[eName] + pName.toUpperCase().charAt(0);\r\n\t\t\t\t\tthis.menuLibs[eName] = this.libMap[mLibEntry];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.fullLibMenu.sort();\r\n\t\tfor (i = 0; i < this.fullLibMenu.length; i++) {\r\n\t\t\teName = this.fullLibMenu[i];\r\n\t\t\tfor (var j = 1;\r\n\t\t\t\t(j <= eName.length) && (j < this.maxprefetch); j++) {\r\n\t\t\t\tsn = eName.substr(0, j).toLowerCase();\r\n\t\t\t\tif (!this.menuCount[sn]) this.menuCount[sn] = 0;\r\n\t\t\t\tif (!this.menuLib[sn]) this.menuLib[sn] = [];\r\n\t\t\t\tif (this.menuCount[sn] < this.maxmenulength) this.menuLib[sn].push(eName);\r\n\t\t\t\tthis.menuCount[sn]++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var f in this.menuLib) {\r\n\t\t\tthis.menuLib[f].sort(function(a, b) {\r\n\t\t\t\tif (a.toLowerCase() < b.toLowerCase()) return -1;\r\n\t\t\t\tif (a.toLowerCase() > b.toLowerCase()) return 1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (this.onMenuLoaded) {\r\n\t\t\tthis.onMenuLoaded(this);\r\n\t\t}\r\n\t}\r\n\tthis.load = function(article) {\r\n\t\tif (typeof article === 'object') {\r\n\t\t\tif (article.library)\r\n\t\t\t\tthis.library = article.library;\r\n\t\t\telse\r\n\t\t\t\tthis.library = 'CID';\r\n\t\t\tif (article.section)\r\n\t\t\t\tthis.section = article.section;\r\n\t\t\telse\r\n\t\t\t\tthis.section = 'home-care-veteran';\r\n\t\t\tthis.topic = article.topic;\r\n\t\t} else {\r\n\t\t\tif (this.masterMap[article])\r\n\t\t\t\tarticle = this.masterMap[article];\r\n\t\t\tvar ap = article.split('~');\r\n\t\t\tthis.library = ap[0];\r\n\t\t\tthis.topic = ap[1];\r\n\t\t\tif ((ap.length > 2) && (ap[2].length > 0))\r\n\t\t\t\tthis.section = ap[2];\r\n\t\t\telse {\r\n\t\t\t\t// check if have 'home care veteran section' if so show it; if not if have 'home care section' show it, if not then show overview\r\n\t\t\t\tthis.section = 'home-care-veteran';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.currenttopic !== this.topic) {\r\n\t\t\tloadTopic.bind(this)(this.topic);\r\n\t\t} else {\r\n\t\t\tthis.currentsection = this.section;\r\n\t\t\tvar eInfo = {};\r\n\t\t\teInfo.topic = this.topic;\r\n\t\t\teInfo.section = this.section;\r\n\t\t\teInfo.library = this.library;\r\n\t\t\tthis.title = this.cidEntry.sections.entries[this.section].title;\r\n\t\t\teInfo.title = this.title;\r\n\t\t\teInfo.fulltitle = getFullTitle.bind(this)();\r\n\t\t\tthis.currenttopic = this.topic;\r\n\t\t\tthis.eInfo = eInfo;\r\n\t\t\tif (this.onArticleLoaded) {\r\n\t\t\t\tvar aInfo = {};\r\n\t\t\t\tif (!this.cidEntry.sections.entries.hasOwnProperty(this.section)) {\r\n\t\t\t\t\tif (this.cidEntry.sections.entries.hasOwnProperty('home-care')) {\r\n\t\t\t\t\t\tthis.section = 'home-care';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.section = 'overview';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\taInfo.body = this.cidEntry.sections.entries[this.section.toLowerCase()].body + \"<div class=\\\"txLibCopyright\\\">&copy;&nbsp;1990-2020 DSHI Systems, Inc.</div>\";\r\n\t\t\t\taInfo.topic = this.cidEntry.topic;\r\n\t\t\t\taInfo.title = this.cidEntry.sections.entries[this.section].title;\r\n\t\t\t\taInfo.fullTitle = '';\r\n\t\t\t\tvar curSection = this.section;\r\n\t\t\t\twhile (curSection !== '') {\r\n\t\t\t\t\taInfo.fullTitle = this.cidEntry.sections.entries[curSection].title + ' ' + aInfo.fullTitle;\r\n\t\t\t\t\tcurSection = this.cidEntry.sections.entries[curSection].parent;\r\n\t\t\t\t}\r\n\t\t\t\taInfo.fullTitle = aInfo.fullTitle.trim();\r\n\t\t\t\taInfo.sections = this.cidEntry.sections;\r\n\t\t\t\taInfo.library = this.cidEntry.library;\r\n\t\t\t\tthis.onArticleLoaded(aInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction getFullTitle() {\r\n\t\tvar sectionPath = \"\";\r\n\t\tvar csection = this.section;\r\n\t\tvar tSections = [];\r\n\t\twhile (csection !== \"\") {\r\n\t\t\ttSections.push(this.cidEntry.sections.entries[csection].title);\r\n\t\t\tcsection = this.cidEntry.sections.entries[csection].parent;\r\n\t\t}\r\n\t\ttSections.reverse();\r\n\t\tfor (var i = 0; i < tSections.length; i++)\r\n\t\t\tsectionPath += \" \" + tSections[i];\r\n\t\treturn (this.cidEntry.topic + sectionPath);\r\n\t}\r\n\r\n\tfunction loadTopic(libraryEntryName) {\r\n\t\tvar i;\r\n\t\tvar lEN = libraryEntryName;\r\n\t\tvar tLoc = libraryEntryName.indexOf('~');\r\n\t\tif (tLoc >= 0)\r\n\t\t\tlEN = libraryEntryName.substr(tLoc + 1);\r\n\t\tvar req = this.url + '/library/?m=content&id=' + 'widget' + '&a=' + lEN;\r\n\t\tfetch(req).then(function(response) {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconsole.error('tX: Response: ' + response.status + ' ' + response.statusText);\r\n\t\t\t\tif ((this.listeners) && (this.listeners.onError)) {\r\n\t\t\t\t\tfor (i = 0; i < this.listeners.onError.length; i++) {\r\n\t\t\t\t\t\tthis.listeners.onError[i](response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t}.bind(this)).then(function(cidJson) {\r\n\t\t\tthis.cidEntry = cidJson.libEntry;\r\n\t\t\tvar aInfo = {};\r\n\t\t\tif (!this.cidEntry.sections.entries.hasOwnProperty(this.section)) {\r\n\t\t\t\tif (this.cidEntry.sections.entries.hasOwnProperty('home-care')) {\r\n\t\t\t\t\tthis.section = 'home-care';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.section = 'overview';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\taInfo.body = this.cidEntry.sections.entries[this.section.toLowerCase()].body + \"<div class=\\\"txLibCopyright\\\">&copy;&nbsp;1990-2020 DSHI Systems, Inc.</div>\";\r\n\t\t\taInfo.topic = this.cidEntry.topic;\r\n\t\t\taInfo.title = this.cidEntry.sections.entries[this.section].title;\r\n\t\t\taInfo.sections = this.cidEntry.sections;\r\n\t\t\taInfo.library = this.cidEntry.library;\r\n\t\t\taInfo.fullTitle = '';\r\n\t\t\tvar curSection = this.section;\r\n\t\t\twhile (curSection !== '') {\r\n\t\t\t\taInfo.fullTitle = this.cidEntry.sections.entries[curSection].title + ' ' + aInfo.fullTitle;\r\n\t\t\t\tcurSection = this.cidEntry.sections.entries[curSection].parent;\r\n\t\t\t}\r\n\t\t\taInfo.fullTitle = aInfo.fullTitle.trim();\r\n\t\t\tthis.currenttopic = this.topic;\r\n\t\t\tif (this.onArticleLoaded)\r\n\t\t\t\tthis.onArticleLoaded(aInfo);\r\n\t\t}.bind(this));\r\n\t}\r\n}\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ })

/******/ });